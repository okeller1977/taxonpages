const __vite__fileDeps=["assets/SectionLandscape-CTc72X74.js","assets/SectionLandscape-DFbsPjYw.css","assets/SectionData-DI6edycO.js","assets/IconBug-BXUSA1zg.js","assets/IconImage-wH1lcV1X.js","assets/IconMicroscope-BML-xooK.js","assets/IconReference-BNZ4wWuo.js","assets/IconOk-9-iqVw8i.js","assets/iconCitation-DCrhtNj3.js","assets/DataType-BaGEcdF-.js","assets/home-Bo4jmJQs.js","assets/SectionDescription-C0OEYlUS.js","assets/SectionTerms-BJj6h4AX.js","assets/SectionLimitations-iqY49mNJ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var S_=Object.defineProperty;var T_=(t,i,s)=>i in t?S_(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s;var ne=(t,i,s)=>T_(t,typeof i!="symbol"?i+"":i,s);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))u(p);new MutationObserver(p=>{for(const l of p)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function s(p){const l={};return p.integrity&&(l.integrity=p.integrity),p.referrerPolicy&&(l.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?l.credentials="include":p.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(p){if(p.ep)return;p.ep=!0;const l=s(p);fetch(p.href,l)}})();/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tc(t,i){const s=new Set(t.split(","));return u=>s.has(u)}const Ke={},Ro=[],ui=()=>{},A_=()=>!1,ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ac=t=>t.startsWith("onUpdate:"),fn=Object.assign,Oc=(t,i)=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)},O_=Object.prototype.hasOwnProperty,De=(t,i)=>O_.call(t,i),he=Array.isArray,Io=t=>kl(t)==="[object Map]",Hd=t=>kl(t)==="[object Set]",be=t=>typeof t=="function",an=t=>typeof t=="string",Yr=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",Ud=t=>(We(t)||be(t))&&be(t.then)&&be(t.catch),Zd=Object.prototype.toString,kl=t=>Zd.call(t),D_=t=>kl(t).slice(8,-1),qd=t=>kl(t)==="[object Object]",Dc=t=>an(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fo=Tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ml=t=>{const i=Object.create(null);return s=>i[s]||(i[s]=t(s))},R_=/-(\w)/g,Di=Ml(t=>t.replace(R_,(i,s)=>s?s.toUpperCase():"")),I_=/\B([A-Z])/g,Ho=Ml(t=>t.replace(I_,"-$1").toLowerCase()),El=Ml(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nu=Ml(t=>t?`on${El(t)}`:""),br=(t,i)=>!Object.is(t,i),rl=(t,...i)=>{for(let s=0;s<t.length;s++)t[s](...i)},Kd=(t,i,s,u=!1)=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,writable:u,value:s})},rc=t=>{const i=parseFloat(t);return isNaN(i)?t:i},F_=t=>{const i=an(t)?Number(t):NaN;return isNaN(i)?t:i};let mh;const Wd=()=>mh||(mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(t){if(he(t)){const i={};for(let s=0;s<t.length;s++){const u=t[s],p=an(u)?G_(u):Oi(u);if(p)for(const l in p)i[l]=p[l]}return i}else if(an(t)||We(t))return t}const N_=/;(?![^(]*\))/g,j_=/:([^]+)/,z_=/\/\*[^]*?\*\//g;function G_(t){const i={};return t.replace(z_,"").split(N_).forEach(s=>{if(s){const u=s.split(j_);u.length>1&&(i[u[0].trim()]=u[1].trim())}}),i}function pn(t){let i="";if(an(t))i=t;else if(he(t))for(let s=0;s<t.length;s++){const u=pn(t[s]);u&&(i+=u+" ")}else if(We(t))for(const s in t)t[s]&&(i+=s+" ");return i.trim()}const V_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$_=Tc(V_);function Jd(t){return!!t||t===""}const oe=t=>an(t)?t:t==null?"":he(t)||We(t)&&(t.toString===Zd||!be(t.toString))?JSON.stringify(t,Yd,2):String(t),Yd=(t,i)=>i&&i.__v_isRef?Yd(t,i.value):Io(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((s,[u,p],l)=>(s[ju(u,l)+" =>"]=p,s),{})}:Hd(i)?{[`Set(${i.size})`]:[...i.values()].map(s=>ju(s))}:Yr(i)?ju(i):We(i)&&!he(i)&&!qd(i)?String(i):i,ju=(t,i="")=>{var s;return Yr(t)?`Symbol(${(s=t.description)!=null?s:i})`:t};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qn;class Xd{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!i&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const s=Qn;try{return Qn=this,i()}finally{Qn=s}}}on(){Qn=this}off(){Qn=this.parent}stop(i){if(this._active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!i){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0,this._active=!1}}}function Qd(t){return new Xd(t)}function H_(t,i=Qn){i&&i.active&&i.effects.push(t)}function tp(){return Qn}function U_(t){Qn&&Qn.cleanups.push(t)}let Zr;class Rc{constructor(i,s,u,p){this.fn=i,this.trigger=s,this.scheduler=u,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,H_(this,p)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Cr();for(let i=0;i<this._depsLength;i++){const s=this.deps[i];if(s.computed){if(s.computed.effect._dirtyLevel===2)return!0;if(Z_(s.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),wr()}return this._dirtyLevel>=5}set dirty(i){this._dirtyLevel=i?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=yr,s=Zr;try{return yr=!0,Zr=this,this._runnings++,gh(this),this.fn()}finally{yh(this),this._runnings--,Zr=s,yr=i}}stop(){this.active&&(gh(this),yh(this),this.onStop&&this.onStop(),this.active=!1)}}function Z_(t){return t.value}function gh(t){t._trackId++,t._depsLength=0}function yh(t){if(t.deps.length>t._depsLength){for(let i=t._depsLength;i<t.deps.length;i++)ep(t.deps[i],t);t.deps.length=t._depsLength}}function ep(t,i){const s=t.get(i);s!==void 0&&i._trackId!==s&&(t.delete(i),t.size===0&&t.cleanup())}let yr=!0,oc=0;const np=[];function Cr(){np.push(yr),yr=!1}function wr(){const t=np.pop();yr=t===void 0?!0:t}function Ic(){oc++}function Fc(){for(oc--;!oc&&sc.length;)sc.shift()()}function ip(t,i,s){if(i.get(t)!==t._trackId){i.set(t,t._trackId);const u=t.deps[t._depsLength];u!==i?(u&&ep(u,t),t.deps[t._depsLength++]=i):t._depsLength++}}const sc=[];function rp(t,i,s){Ic();for(const u of t.keys()){if(!t.computed&&u.computed&&t.get(u)===u._trackId&&u._runnings>0){u._dirtyLevel=2;continue}let p;u._dirtyLevel<i&&(p??(p=t.get(u)===u._trackId))&&(u._shouldSchedule||(u._shouldSchedule=u._dirtyLevel===0),u.computed&&u._dirtyLevel===2&&(u._shouldSchedule=!0),u._dirtyLevel=i),u._shouldSchedule&&(p??(p=t.get(u)===u._trackId))&&(u.trigger(),(!u._runnings||u.allowRecurse)&&u._dirtyLevel!==3&&(u._shouldSchedule=!1,u.scheduler&&sc.push(u.scheduler)))}Fc()}const op=(t,i)=>{const s=new Map;return s.cleanup=t,s.computed=i,s},hl=new WeakMap,qr=Symbol(""),ac=Symbol("");function Wn(t,i,s){if(yr&&Zr){let u=hl.get(t);u||hl.set(t,u=new Map);let p=u.get(s);p||u.set(s,p=op(()=>u.delete(s))),ip(Zr,p)}}function Ki(t,i,s,u,p,l){const h=hl.get(t);if(!h)return;let _=[];if(i==="clear")_=[...h.values()];else if(s==="length"&&he(t)){const m=Number(u);h.forEach((x,b)=>{(b==="length"||!Yr(b)&&b>=m)&&_.push(x)})}else switch(s!==void 0&&_.push(h.get(s)),i){case"add":he(t)?Dc(s)&&_.push(h.get("length")):(_.push(h.get(qr)),Io(t)&&_.push(h.get(ac)));break;case"delete":he(t)||(_.push(h.get(qr)),Io(t)&&_.push(h.get(ac)));break;case"set":Io(t)&&_.push(h.get(qr));break}Ic();for(const m of _)m&&rp(m,5);Fc()}function q_(t,i){const s=hl.get(t);return s&&s.get(i)}const K_=Tc("__proto__,__v_isRef,__isVue"),sp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yr)),vh=W_();function W_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(i=>{t[i]=function(...s){const u=Re(this);for(let l=0,h=this.length;l<h;l++)Wn(u,"get",l+"");const p=u[i](...s);return p===-1||p===!1?u[i](...s.map(Re)):p}}),["push","pop","shift","unshift","splice"].forEach(i=>{t[i]=function(...s){Cr(),Ic();const u=Re(this)[i].apply(this,s);return Fc(),wr(),u}}),t}function J_(t){Yr(t)||(t=String(t));const i=Re(this);return Wn(i,"has",t),i.hasOwnProperty(t)}class ap{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,u){const p=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!p;if(s==="__v_isReadonly")return p;if(s==="__v_isShallow")return l;if(s==="__v_raw")return u===(p?l?um:hp:l?cp:up).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(u)?i:void 0;const h=he(i);if(!p){if(h&&De(vh,s))return Reflect.get(vh,s,u);if(s==="hasOwnProperty")return J_}const _=Reflect.get(i,s,u);return(Yr(s)?sp.has(s):K_(s))||(p||Wn(i,"get",s),l)?_:vn(_)?h&&Dc(s)?_:_.value:We(_)?p?pp(_):na(_):_}}class lp extends ap{constructor(i=!1){super(!1,i)}set(i,s,u,p){let l=i[s];if(!this._isShallow){const m=Us(l);if(!dl(u)&&!Us(u)&&(l=Re(l),u=Re(u)),!he(i)&&vn(l)&&!vn(u))return m?!1:(l.value=u,!0)}const h=he(i)&&Dc(s)?Number(s)<i.length:De(i,s),_=Reflect.set(i,s,u,p);return i===Re(p)&&(h?br(u,l)&&Ki(i,"set",s,u):Ki(i,"add",s,u)),_}deleteProperty(i,s){const u=De(i,s);i[s];const p=Reflect.deleteProperty(i,s);return p&&u&&Ki(i,"delete",s,void 0),p}has(i,s){const u=Reflect.has(i,s);return(!Yr(s)||!sp.has(s))&&Wn(i,"has",s),u}ownKeys(i){return Wn(i,"iterate",he(i)?"length":qr),Reflect.ownKeys(i)}}class Y_ extends ap{constructor(i=!1){super(!0,i)}set(i,s){return!0}deleteProperty(i,s){return!0}}const X_=new lp,Q_=new Y_,tm=new lp(!0);const Nc=t=>t,Pl=t=>Reflect.getPrototypeOf(t);function Wa(t,i,s=!1,u=!1){t=t.__v_raw;const p=Re(t),l=Re(i);s||(br(i,l)&&Wn(p,"get",i),Wn(p,"get",l));const{has:h}=Pl(p),_=u?Nc:s?Vc:Zs;if(h.call(p,i))return _(t.get(i));if(h.call(p,l))return _(t.get(l));t!==p&&t.get(i)}function Ja(t,i=!1){const s=this.__v_raw,u=Re(s),p=Re(t);return i||(br(t,p)&&Wn(u,"has",t),Wn(u,"has",p)),t===p?s.has(t):s.has(t)||s.has(p)}function Ya(t,i=!1){return t=t.__v_raw,!i&&Wn(Re(t),"iterate",qr),Reflect.get(t,"size",t)}function bh(t){t=Re(t);const i=Re(this);return Pl(i).has.call(i,t)||(i.add(t),Ki(i,"add",t,t)),this}function xh(t,i){i=Re(i);const s=Re(this),{has:u,get:p}=Pl(s);let l=u.call(s,t);l||(t=Re(t),l=u.call(s,t));const h=p.call(s,t);return s.set(t,i),l?br(i,h)&&Ki(s,"set",t,i):Ki(s,"add",t,i),this}function Lh(t){const i=Re(this),{has:s,get:u}=Pl(i);let p=s.call(i,t);p||(t=Re(t),p=s.call(i,t)),u&&u.call(i,t);const l=i.delete(t);return p&&Ki(i,"delete",t,void 0),l}function Ch(){const t=Re(this),i=t.size!==0,s=t.clear();return i&&Ki(t,"clear",void 0,void 0),s}function Xa(t,i){return function(u,p){const l=this,h=l.__v_raw,_=Re(h),m=i?Nc:t?Vc:Zs;return!t&&Wn(_,"iterate",qr),h.forEach((x,b)=>u.call(p,m(x),m(b),l))}}function Qa(t,i,s){return function(...u){const p=this.__v_raw,l=Re(p),h=Io(l),_=t==="entries"||t===Symbol.iterator&&h,m=t==="keys"&&h,x=p[t](...u),b=s?Nc:i?Vc:Zs;return!i&&Wn(l,"iterate",m?ac:qr),{next(){const{value:k,done:T}=x.next();return T?{value:k,done:T}:{value:_?[b(k[0]),b(k[1])]:b(k),done:T}},[Symbol.iterator](){return this}}}}function ar(t){return function(...i){return t==="delete"?!1:t==="clear"?void 0:this}}function em(){const t={get(l){return Wa(this,l)},get size(){return Ya(this)},has:Ja,add:bh,set:xh,delete:Lh,clear:Ch,forEach:Xa(!1,!1)},i={get(l){return Wa(this,l,!1,!0)},get size(){return Ya(this)},has:Ja,add:bh,set:xh,delete:Lh,clear:Ch,forEach:Xa(!1,!0)},s={get(l){return Wa(this,l,!0)},get size(){return Ya(this,!0)},has(l){return Ja.call(this,l,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:Xa(!0,!1)},u={get(l){return Wa(this,l,!0,!0)},get size(){return Ya(this,!0)},has(l){return Ja.call(this,l,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:Xa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Qa(l,!1,!1),s[l]=Qa(l,!0,!1),i[l]=Qa(l,!1,!0),u[l]=Qa(l,!0,!0)}),[t,s,i,u]}const[nm,im,rm,om]=em();function jc(t,i){const s=i?t?om:rm:t?im:nm;return(u,p,l)=>p==="__v_isReactive"?!t:p==="__v_isReadonly"?t:p==="__v_raw"?u:Reflect.get(De(s,p)&&p in u?s:u,p,l)}const sm={get:jc(!1,!1)},am={get:jc(!1,!0)},lm={get:jc(!0,!1)};const up=new WeakMap,cp=new WeakMap,hp=new WeakMap,um=new WeakMap;function cm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hm(t){return t.__v_skip||!Object.isExtensible(t)?0:cm(D_(t))}function na(t){return Us(t)?t:zc(t,!1,X_,sm,up)}function dp(t){return zc(t,!1,tm,am,cp)}function pp(t){return zc(t,!0,Q_,lm,hp)}function zc(t,i,s,u,p){if(!We(t)||t.__v_raw&&!(i&&t.__v_isReactive))return t;const l=p.get(t);if(l)return l;const h=hm(t);if(h===0)return t;const _=new Proxy(t,h===2?u:s);return p.set(t,_),_}function Kr(t){return Us(t)?Kr(t.__v_raw):!!(t&&t.__v_isReactive)}function Us(t){return!!(t&&t.__v_isReadonly)}function dl(t){return!!(t&&t.__v_isShallow)}function fp(t){return t?!!t.__v_raw:!1}function Re(t){const i=t&&t.__v_raw;return i?Re(i):t}function Gc(t){return Object.isExtensible(t)&&Kd(t,"__v_skip",!0),t}const Zs=t=>We(t)?na(t):t,Vc=t=>We(t)?pp(t):t;class _p{constructor(i,s,u,p){this.getter=i,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Rc(()=>i(this._value),()=>Fs(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=u}get value(){const i=Re(this);return(!i._cacheable||i.effect.dirty)&&br(i._value,i._value=i.effect.run())&&Fs(i,5),mp(i),i.effect._dirtyLevel>=2&&Fs(i,3),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function dm(t,i,s=!1){let u,p;const l=be(t);return l?(u=t,p=ui):(u=t.get,p=t.set),new _p(u,p,l||!p,s)}function mp(t){var i;yr&&Zr&&(t=Re(t),ip(Zr,(i=t.dep)!=null?i:t.dep=op(()=>t.dep=void 0,t instanceof _p?t:void 0)))}function Fs(t,i=5,s,u){t=Re(t);const p=t.dep;p&&rp(p,i)}function vn(t){return!!(t&&t.__v_isRef===!0)}function Zt(t){return gp(t,!1)}function pm(t){return gp(t,!0)}function gp(t,i){return vn(t)?t:new fm(t,i)}class fm{constructor(i,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?i:Re(i),this._value=s?i:Zs(i)}get value(){return mp(this),this._value}set value(i){const s=this.__v_isShallow||dl(i)||Us(i);i=s?i:Re(i),br(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=s?i:Zs(i),Fs(this,5))}}function pE(t){Fs(t,5)}function ee(t){return vn(t)?t.value:t}const _m={get:(t,i,s)=>ee(Reflect.get(t,i,s)),set:(t,i,s,u)=>{const p=t[i];return vn(p)&&!vn(s)?(p.value=s,!0):Reflect.set(t,i,s,u)}};function yp(t){return Kr(t)?t:new Proxy(t,_m)}function mm(t){const i=he(t)?new Array(t.length):{};for(const s in t)i[s]=ym(t,s);return i}class gm{constructor(i,s,u){this._object=i,this._key=s,this._defaultValue=u,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return q_(Re(this._object),this._key)}}function ym(t,i,s){const u=t[i];return vn(u)?u:new gm(t,i,s)}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vr(t,i,s,u){try{return u?t(...u):t()}catch(p){Bl(p,i,s)}}function ci(t,i,s,u){if(be(t)){const p=vr(t,i,s,u);return p&&Ud(p)&&p.catch(l=>{Bl(l,i,s)}),p}if(he(t)){const p=[];for(let l=0;l<t.length;l++)p.push(ci(t[l],i,s,u));return p}}function Bl(t,i,s,u=!0){const p=i?i.vnode:null;if(i){let l=i.parent;const h=i.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const x=l.ec;if(x){for(let b=0;b<x.length;b++)if(x[b](t,h,_)===!1)return}l=l.parent}const m=i.appContext.config.errorHandler;if(m){Cr(),vr(m,null,10,[t,h,_]),wr();return}}vm(t,s,p,u)}function vm(t,i,s,u=!0){console.error(t)}let qs=!1,lc=!1;const An=[];let Ai=0;const No=[];let pr=null,Hr=0;const vp=Promise.resolve();let $c=null;function Sl(t){const i=$c||vp;return t?i.then(this?t.bind(this):t):i}function bm(t){let i=Ai+1,s=An.length;for(;i<s;){const u=i+s>>>1,p=An[u],l=Ks(p);l<t||l===t&&p.pre?i=u+1:s=u}return i}function Hc(t){(!An.length||!An.includes(t,qs&&t.allowRecurse?Ai+1:Ai))&&(t.id==null?An.push(t):An.splice(bm(t.id),0,t),bp())}function bp(){!qs&&!lc&&(lc=!0,$c=vp.then(xp))}function xm(t){const i=An.indexOf(t);i>Ai&&An.splice(i,1)}function Lm(t){he(t)?No.push(...t):(!pr||!pr.includes(t,t.allowRecurse?Hr+1:Hr))&&No.push(t),bp()}function wh(t,i,s=qs?Ai+1:0){for(;s<An.length;s++){const u=An[s];if(u&&u.pre){if(t&&u.id!==t.uid)continue;An.splice(s,1),s--,u()}}}function pl(t){if(No.length){const i=[...new Set(No)].sort((s,u)=>Ks(s)-Ks(u));if(No.length=0,pr){pr.push(...i);return}for(pr=i,Hr=0;Hr<pr.length;Hr++){const s=pr[Hr];s.active!==!1&&s()}pr=null,Hr=0}}const Ks=t=>t.id==null?1/0:t.id,Cm=(t,i)=>{const s=Ks(t)-Ks(i);if(s===0){if(t.pre&&!i.pre)return-1;if(i.pre&&!t.pre)return 1}return s};function xp(t){lc=!1,qs=!0,An.sort(Cm);try{for(Ai=0;Ai<An.length;Ai++){const i=An[Ai];i&&i.active!==!1&&vr(i,null,14)}}finally{Ai=0,An.length=0,pl(),qs=!1,$c=null,(An.length||No.length)&&xp()}}function wm(t,i,...s){if(t.isUnmounted)return;const u=t.vnode.props||Ke;let p=s;const l=i.startsWith("update:"),h=l&&i.slice(7);if(h&&h in u){const b=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:T}=u[b]||Ke;T&&(p=s.map(F=>an(F)?F.trim():F)),k&&(p=s.map(rc))}let _,m=u[_=Nu(i)]||u[_=Nu(Di(i))];!m&&l&&(m=u[_=Nu(Ho(i))]),m&&ci(m,t,6,p);const x=u[_+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[_])return;t.emitted[_]=!0,ci(x,t,6,p)}}function Lp(t,i,s=!1){const u=i.emitsCache,p=u.get(t);if(p!==void 0)return p;const l=t.emits;let h={},_=!1;if(!be(t)){const m=x=>{const b=Lp(x,i,!0);b&&(_=!0,fn(h,b))};!s&&i.mixins.length&&i.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!l&&!_?(We(t)&&u.set(t,null),null):(he(l)?l.forEach(m=>h[m]=null):fn(h,l),We(t)&&u.set(t,h),h)}function Tl(t,i){return!t||!ea(i)?!1:(i=i.slice(2).replace(/Once$/,""),De(t,i[0].toLowerCase()+i.slice(1))||De(t,Ho(i))||De(t,i))}let gn=null,Al=null;function fl(t){const i=gn;return gn=t,Al=t&&t.type.__scopeId||null,i}function Cp(t){Al=t}function wp(){Al=null}function ft(t,i=gn,s){if(!i||t._n)return t;const u=(...p)=>{u._d&&Nh(-1);const l=fl(i);let h;try{h=t(...p)}finally{fl(l),u._d&&Nh(1)}return h};return u._n=!0,u._c=!0,u._d=!0,u}function zu(t){const{type:i,vnode:s,proxy:u,withProxy:p,propsOptions:[l],slots:h,attrs:_,emit:m,render:x,renderCache:b,props:k,data:T,setupState:F,ctx:G,inheritAttrs:X}=t,bt=fl(t);let st,ut;try{if(s.shapeFlag&4){const lt=p||u,xt=lt;st=vi(x.call(xt,lt,b,k,F,T,G)),ut=_}else{const lt=i;st=vi(lt.length>1?lt(k,{attrs:_,slots:h,emit:m}):lt(k,null)),ut=i.props?_:km(_)}}catch(lt){zs.length=0,Bl(lt,t,1),st=et(jn)}let $=st;if(ut&&X!==!1){const lt=Object.keys(ut),{shapeFlag:xt}=$;lt.length&&xt&7&&(l&&lt.some(Ac)&&(ut=Mm(ut,l)),$=xr($,ut,!1,!0))}return s.dirs&&($=xr($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&($.transition=s.transition),st=$,fl(bt),st}const km=t=>{let i;for(const s in t)(s==="class"||s==="style"||ea(s))&&((i||(i={}))[s]=t[s]);return i},Mm=(t,i)=>{const s={};for(const u in t)(!Ac(u)||!(u.slice(9)in i))&&(s[u]=t[u]);return s};function Em(t,i,s){const{props:u,children:p,component:l}=t,{props:h,children:_,patchFlag:m}=i,x=l.emitsOptions;if(i.dirs||i.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return u?kh(u,h,x):!!h;if(m&8){const b=i.dynamicProps;for(let k=0;k<b.length;k++){const T=b[k];if(h[T]!==u[T]&&!Tl(x,T))return!0}}}else return(p||_)&&(!_||!_.$stable)?!0:u===h?!1:u?h?kh(u,h,x):!0:!!h;return!1}function kh(t,i,s){const u=Object.keys(i);if(u.length!==Object.keys(t).length)return!0;for(let p=0;p<u.length;p++){const l=u[p];if(i[l]!==t[l]&&!Tl(s,l))return!0}return!1}function Pm({vnode:t,parent:i},s){for(;i;){const u=i.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=i.vnode).el=s,i=i.parent;else break}}const Uc="components";function _t(t,i){return Mp(Uc,t,!0,i)||t}const kp=Symbol.for("v-ndc");function Uo(t){return an(t)?Mp(Uc,t,!1)||t:t||kp}function Mp(t,i,s=!0,u=!1){const p=gn||Ln;if(p){const l=p.type;if(t===Uc){const _=Cg(l,!1);if(_&&(_===i||_===Di(i)||_===El(Di(i))))return l}const h=Mh(p[t]||l[t],i)||Mh(p.appContext[t],i);return!h&&u?l:h}}function Mh(t,i){return t&&(t[i]||t[Di(i)]||t[El(Di(i))])}const Bm=t=>t.__isSuspense;function Ep(t,i){i&&i.pendingBranch?he(t)?i.effects.push(...t):i.effects.push(t):Lm(t)}function Ol(t,i,s=Ln,u=!1){if(s){const p=s[t]||(s[t]=[]),l=i.__weh||(i.__weh=(...h)=>{Cr();const _=ra(s),m=ci(i,s,t,h);return _(),wr(),m});return u?p.unshift(l):p.push(l),l}}const Wi=t=>(i,s=Ln)=>{(!Rl||t==="sp")&&Ol(t,(...u)=>i(...u),s)},Pp=Wi("bm"),Mn=Wi("m"),Sm=Wi("bu"),Tm=Wi("u"),Ji=Wi("bum"),Xr=Wi("um"),Zc=Wi("sp"),Am=Wi("rtg"),Om=Wi("rtc");function Dm(t,i=Ln){Ol("ec",t,i)}function ia(t,i){if(gn===null)return t;const s=Il(gn),u=t.dirs||(t.dirs=[]);for(let p=0;p<i.length;p++){let[l,h,_,m=Ke]=i[p];l&&(be(l)&&(l={mounted:l,updated:l}),l.deep&&gr(h),u.push({dir:l,instance:s,value:h,oldValue:void 0,arg:_,modifiers:m}))}return t}function Ti(t,i,s,u){const p=t.dirs,l=i&&i.dirs;for(let h=0;h<p.length;h++){const _=p[h];l&&(_.oldValue=l[h].value);let m=_.dir[u];m&&(Cr(),ci(m,s,8,[t.el,_,t,i]),wr())}}function Ce(t,i,s,u){let p;const l=s;if(he(t)||an(t)){p=new Array(t.length);for(let h=0,_=t.length;h<_;h++)p[h]=i(t[h],h,void 0,l)}else if(typeof t=="number"){p=new Array(t);for(let h=0;h<t;h++)p[h]=i(h+1,h,void 0,l)}else if(We(t))if(t[Symbol.iterator])p=Array.from(t,(h,_)=>i(h,_,void 0,l));else{const h=Object.keys(t);p=new Array(h.length);for(let _=0,m=h.length;_<m;_++){const x=h[_];p[_]=i(t[x],x,_,l)}}else p=[];return p}/*! #__NO_SIDE_EFFECTS__ */function Bp(t,i){return be(t)?fn({name:t.name},i,{setup:t}):t}const jo=t=>!!t.type.__asyncLoader;function Ue(t,i,s={},u,p){if(gn.isCE||gn.parent&&jo(gn.parent)&&gn.parent.isCE)return i!=="default"&&(s.name=i),et("slot",s,u&&u());let l=t[i];l&&l._c&&(l._d=!1),I();const h=l&&Sp(l(s)),_=St(Wt,{key:s.key||h&&h.key||`_${i}`},h||(u?u():[]),h&&t._===1?64:-2);return!p&&_.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),l&&l._c&&(l._d=!0),_}function Sp(t){return t.some(i=>yl(i)?!(i.type===jn||i.type===Wt&&!Sp(i.children)):!0)?t:null}const uc=t=>t?ef(t)?Il(t):uc(t.parent):null,Ns=fn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>uc(t.parent),$root:t=>uc(t.root),$emit:t=>t.emit,$options:t=>qc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Hc(t.update)}),$nextTick:t=>t.n||(t.n=Sl.bind(t.proxy)),$watch:t=>og.bind(t)}),Gu=(t,i)=>t!==Ke&&!t.__isScriptSetup&&De(t,i),Rm={get({_:t},i){if(i==="__v_skip")return!0;const{ctx:s,setupState:u,data:p,props:l,accessCache:h,type:_,appContext:m}=t;let x;if(i[0]!=="$"){const F=h[i];if(F!==void 0)switch(F){case 1:return u[i];case 2:return p[i];case 4:return s[i];case 3:return l[i]}else{if(Gu(u,i))return h[i]=1,u[i];if(p!==Ke&&De(p,i))return h[i]=2,p[i];if((x=t.propsOptions[0])&&De(x,i))return h[i]=3,l[i];if(s!==Ke&&De(s,i))return h[i]=4,s[i];cc&&(h[i]=0)}}const b=Ns[i];let k,T;if(b)return i==="$attrs"&&Wn(t.attrs,"get",""),b(t);if((k=_.__cssModules)&&(k=k[i]))return k;if(s!==Ke&&De(s,i))return h[i]=4,s[i];if(T=m.config.globalProperties,De(T,i))return T[i]},set({_:t},i,s){const{data:u,setupState:p,ctx:l}=t;return Gu(p,i)?(p[i]=s,!0):u!==Ke&&De(u,i)?(u[i]=s,!0):De(t.props,i)||i[0]==="$"&&i.slice(1)in t?!1:(l[i]=s,!0)},has({_:{data:t,setupState:i,accessCache:s,ctx:u,appContext:p,propsOptions:l}},h){let _;return!!s[h]||t!==Ke&&De(t,h)||Gu(i,h)||(_=l[0])&&De(_,h)||De(u,h)||De(Ns,h)||De(p.config.globalProperties,h)},defineProperty(t,i,s){return s.get!=null?t._.accessCache[i]=0:De(s,"value")&&this.set(t,i,s.value,null),Reflect.defineProperty(t,i,s)}};function Im(){return Fm().slots}function Fm(){const t=tf();return t.setupContext||(t.setupContext=rf(t))}function Eh(t){return he(t)?t.reduce((i,s)=>(i[s]=null,i),{}):t}let cc=!0;function Nm(t){const i=qc(t),s=t.proxy,u=t.ctx;cc=!1,i.beforeCreate&&Ph(i.beforeCreate,t,"bc");const{data:p,computed:l,methods:h,watch:_,provide:m,inject:x,created:b,beforeMount:k,mounted:T,beforeUpdate:F,updated:G,activated:X,deactivated:bt,beforeDestroy:st,beforeUnmount:ut,destroyed:$,unmounted:lt,render:xt,renderTracked:vt,renderTriggered:$t,errorCaptured:Tt,serverPrefetch:Et,expose:Dt,inheritAttrs:Vt,components:Bt,directives:ae,filters:Le}=i;if(x&&jm(x,u,null),h)for(const pe in h){const kt=h[pe];be(kt)&&(u[pe]=kt.bind(s))}if(p){const pe=p.call(s,s);We(pe)&&(t.data=na(pe))}if(cc=!0,l)for(const pe in l){const kt=l[pe],Cn=be(kt)?kt.bind(s,s):be(kt.get)?kt.get.bind(s,s):ui,Xt=!be(kt)&&be(kt.set)?kt.set.bind(s):ui,ke=ce({get:Cn,set:Xt});Object.defineProperty(u,pe,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Fe=>ke.value=Fe})}if(_)for(const pe in _)Tp(_[pe],u,s,pe);if(m){const pe=be(m)?m.call(s):m;Reflect.ownKeys(pe).forEach(kt=>{ol(kt,pe[kt])})}b&&Ph(b,t,"c");function It(pe,kt){he(kt)?kt.forEach(Cn=>pe(Cn.bind(s))):kt&&pe(kt.bind(s))}if(It(Pp,k),It(Mn,T),It(Sm,F),It(Tm,G),It(sg,X),It(ag,bt),It(Dm,Tt),It(Om,vt),It(Am,$t),It(Ji,ut),It(Xr,lt),It(Zc,Et),he(Dt))if(Dt.length){const pe=t.exposed||(t.exposed={});Dt.forEach(kt=>{Object.defineProperty(pe,kt,{get:()=>s[kt],set:Cn=>s[kt]=Cn})})}else t.exposed||(t.exposed={});xt&&t.render===ui&&(t.render=xt),Vt!=null&&(t.inheritAttrs=Vt),Bt&&(t.components=Bt),ae&&(t.directives=ae)}function jm(t,i,s=ui){he(t)&&(t=hc(t));for(const u in t){const p=t[u];let l;We(p)?"default"in p?l=hi(p.from||u,p.default,!0):l=hi(p.from||u):l=hi(p),vn(l)?Object.defineProperty(i,u,{enumerable:!0,configurable:!0,get:()=>l.value,set:h=>l.value=h}):i[u]=l}}function Ph(t,i,s){ci(he(t)?t.map(u=>u.bind(i.proxy)):t.bind(i.proxy),i,s)}function Tp(t,i,s,u){const p=u.includes(".")?Up(s,u):()=>s[u];if(an(t)){const l=i[t];be(l)&&yn(p,l)}else if(be(t))yn(p,t.bind(s));else if(We(t))if(he(t))t.forEach(l=>Tp(l,i,s,u));else{const l=be(t.handler)?t.handler.bind(s):i[t.handler];be(l)&&yn(p,l,t)}}function qc(t){const i=t.type,{mixins:s,extends:u}=i,{mixins:p,optionsCache:l,config:{optionMergeStrategies:h}}=t.appContext,_=l.get(i);let m;return _?m=_:!p.length&&!s&&!u?m=i:(m={},p.length&&p.forEach(x=>_l(m,x,h,!0)),_l(m,i,h)),We(i)&&l.set(i,m),m}function _l(t,i,s,u=!1){const{mixins:p,extends:l}=i;l&&_l(t,l,s,!0),p&&p.forEach(h=>_l(t,h,s,!0));for(const h in i)if(!(u&&h==="expose")){const _=zm[h]||s&&s[h];t[h]=_?_(t[h],i[h]):i[h]}return t}const zm={data:Bh,props:Sh,emits:Sh,methods:Rs,computed:Rs,beforeCreate:Nn,created:Nn,beforeMount:Nn,mounted:Nn,beforeUpdate:Nn,updated:Nn,beforeDestroy:Nn,beforeUnmount:Nn,destroyed:Nn,unmounted:Nn,activated:Nn,deactivated:Nn,errorCaptured:Nn,serverPrefetch:Nn,components:Rs,directives:Rs,watch:Vm,provide:Bh,inject:Gm};function Bh(t,i){return i?t?function(){return fn(be(t)?t.call(this,this):t,be(i)?i.call(this,this):i)}:i:t}function Gm(t,i){return Rs(hc(t),hc(i))}function hc(t){if(he(t)){const i={};for(let s=0;s<t.length;s++)i[t[s]]=t[s];return i}return t}function Nn(t,i){return t?[...new Set([].concat(t,i))]:i}function Rs(t,i){return t?fn(Object.create(null),t,i):i}function Sh(t,i){return t?he(t)&&he(i)?[...new Set([...t,...i])]:fn(Object.create(null),Eh(t),Eh(i??{})):i}function Vm(t,i){if(!t)return i;if(!i)return t;const s=fn(Object.create(null),t);for(const u in i)s[u]=Nn(t[u],i[u]);return s}function Ap(){return{app:null,config:{isNativeTag:A_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $m=0;function Hm(t,i){return function(u,p=null){be(u)||(u=fn({},u)),p!=null&&!We(p)&&(p=null);const l=Ap(),h=new WeakSet;let _=!1;const m=l.app={_uid:$m++,_component:u,_props:p,_container:null,_context:l,_instance:null,version:kg,get config(){return l.config},set config(x){},use(x,...b){return h.has(x)||(x&&be(x.install)?(h.add(x),x.install(m,...b)):be(x)&&(h.add(x),x(m,...b))),m},mixin(x){return l.mixins.includes(x)||l.mixins.push(x),m},component(x,b){return b?(l.components[x]=b,m):l.components[x]},directive(x,b){return b?(l.directives[x]=b,m):l.directives[x]},mount(x,b,k){if(!_){const T=et(u,p);return T.appContext=l,k===!0?k="svg":k===!1&&(k=void 0),b&&i?i(T,x):t(T,x,k),_=!0,m._container=x,x.__vue_app__=m,Il(T.component)}},unmount(){_&&(t(null,m._container),delete m._container.__vue_app__)},provide(x,b){return l.provides[x]=b,m},runWithContext(x){const b=zo;zo=m;try{return x()}finally{zo=b}}};return m}}let zo=null;function ol(t,i){if(Ln){let s=Ln.provides;const u=Ln.parent&&Ln.parent.provides;u===s&&(s=Ln.provides=Object.create(u)),s[t]=i}}function hi(t,i,s=!1){const u=Ln||gn;if(u||zo){const p=u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:zo._context.provides;if(p&&t in p)return p[t];if(arguments.length>1)return s&&be(i)?i.call(u&&u.proxy):i}}function Um(){return!!(Ln||gn||zo)}const Op={},Dp=()=>Object.create(Op),Rp=t=>Object.getPrototypeOf(t)===Op;function Zm(t,i,s,u=!1){const p={},l=Dp();t.propsDefaults=Object.create(null),Ip(t,i,p,l);for(const h in t.propsOptions[0])h in p||(p[h]=void 0);s?t.props=u?p:dp(p):t.type.props?t.props=p:t.props=l,t.attrs=l}function qm(t,i,s,u){const{props:p,attrs:l,vnode:{patchFlag:h}}=t,_=Re(p),[m]=t.propsOptions;let x=!1;if((u||h>0)&&!(h&16)){if(h&8){const b=t.vnode.dynamicProps;for(let k=0;k<b.length;k++){let T=b[k];if(Tl(t.emitsOptions,T))continue;const F=i[T];if(m)if(De(l,T))F!==l[T]&&(l[T]=F,x=!0);else{const G=Di(T);p[G]=dc(m,_,G,F,t,!1)}else F!==l[T]&&(l[T]=F,x=!0)}}}else{Ip(t,i,p,l)&&(x=!0);let b;for(const k in _)(!i||!De(i,k)&&((b=Ho(k))===k||!De(i,b)))&&(m?s&&(s[k]!==void 0||s[b]!==void 0)&&(p[k]=dc(m,_,k,void 0,t,!0)):delete p[k]);if(l!==_)for(const k in l)(!i||!De(i,k))&&(delete l[k],x=!0)}x&&Ki(t.attrs,"set","")}function Ip(t,i,s,u){const[p,l]=t.propsOptions;let h=!1,_;if(i)for(let m in i){if(Fo(m))continue;const x=i[m];let b;p&&De(p,b=Di(m))?!l||!l.includes(b)?s[b]=x:(_||(_={}))[b]=x:Tl(t.emitsOptions,m)||(!(m in u)||x!==u[m])&&(u[m]=x,h=!0)}if(l){const m=Re(s),x=_||Ke;for(let b=0;b<l.length;b++){const k=l[b];s[k]=dc(p,m,k,x[k],t,!De(x,k))}}return h}function dc(t,i,s,u,p,l){const h=t[s];if(h!=null){const _=De(h,"default");if(_&&u===void 0){const m=h.default;if(h.type!==Function&&!h.skipFactory&&be(m)){const{propsDefaults:x}=p;if(s in x)u=x[s];else{const b=ra(p);u=x[s]=m.call(null,i),b()}}else u=m}h[0]&&(l&&!_?u=!1:h[1]&&(u===""||u===Ho(s))&&(u=!0))}return u}function Fp(t,i,s=!1){const u=i.propsCache,p=u.get(t);if(p)return p;const l=t.props,h={},_=[];let m=!1;if(!be(t)){const b=k=>{m=!0;const[T,F]=Fp(k,i,!0);fn(h,T),F&&_.push(...F)};!s&&i.mixins.length&&i.mixins.forEach(b),t.extends&&b(t.extends),t.mixins&&t.mixins.forEach(b)}if(!l&&!m)return We(t)&&u.set(t,Ro),Ro;if(he(l))for(let b=0;b<l.length;b++){const k=Di(l[b]);Th(k)&&(h[k]=Ke)}else if(l)for(const b in l){const k=Di(b);if(Th(k)){const T=l[b],F=h[k]=he(T)||be(T)?{type:T}:fn({},T);if(F){const G=Dh(Boolean,F.type),X=Dh(String,F.type);F[0]=G>-1,F[1]=X<0||G<X,(G>-1||De(F,"default"))&&_.push(k)}}}const x=[h,_];return We(t)&&u.set(t,x),x}function Th(t){return t[0]!=="$"&&!Fo(t)}function Ah(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Oh(t,i){return Ah(t)===Ah(i)}function Dh(t,i){return he(i)?i.findIndex(s=>Oh(s,t)):be(i)&&Oh(i,t)?0:-1}const Np=t=>t[0]==="_"||t==="$stable",Kc=t=>he(t)?t.map(vi):[vi(t)],Km=(t,i,s)=>{if(i._n)return i;const u=ft((...p)=>Kc(i(...p)),s);return u._c=!1,u},jp=(t,i,s)=>{const u=t._ctx;for(const p in t){if(Np(p))continue;const l=t[p];if(be(l))i[p]=Km(p,l,u);else if(l!=null){const h=Kc(l);i[p]=()=>h}}},zp=(t,i)=>{const s=Kc(i);t.slots.default=()=>s},Wm=(t,i)=>{const s=t.slots=Dp();if(t.vnode.shapeFlag&32){const u=i._;u?(fn(s,i),Kd(s,"_",u,!0)):jp(i,s)}else i&&zp(t,i)},Jm=(t,i,s)=>{const{vnode:u,slots:p}=t;let l=!0,h=Ke;if(u.shapeFlag&32){const _=i._;_?s&&_===1?l=!1:(fn(p,i),!s&&_===1&&delete p._):(l=!i.$stable,jp(i,p)),h=i}else i&&(zp(t,i),h={default:1});if(l)for(const _ in p)!Np(_)&&h[_]==null&&delete p[_]};function ml(t,i,s,u,p=!1){if(he(t)){t.forEach((T,F)=>ml(T,i&&(he(i)?i[F]:i),s,u,p));return}if(jo(u)&&!p)return;const l=u.shapeFlag&4?Il(u.component):u.el,h=p?null:l,{i:_,r:m}=t,x=i&&i.r,b=_.refs===Ke?_.refs={}:_.refs,k=_.setupState;if(x!=null&&x!==m&&(an(x)?(b[x]=null,De(k,x)&&(k[x]=null)):vn(x)&&(x.value=null)),be(m))vr(m,_,12,[h,b]);else{const T=an(m),F=vn(m);if(T||F){const G=()=>{if(t.f){const X=T?De(k,m)?k[m]:b[m]:m.value;p?he(X)&&Oc(X,l):he(X)?X.includes(l)||X.push(l):T?(b[m]=[l],De(k,m)&&(k[m]=b[m])):(m.value=[l],t.k&&(b[t.k]=m.value))}else T?(b[m]=h,De(k,m)&&(k[m]=h)):F&&(m.value=h,t.k&&(b[t.k]=h))};h?(G.id=-1,Zn(G,s)):G()}}}let Rh=!1;const Bo=()=>{Rh||(console.error("Hydration completed but contains mismatches."),Rh=!0)},Ym=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Xm=t=>t.namespaceURI.includes("MathML"),tl=t=>{if(Ym(t))return"svg";if(Xm(t))return"mathml"},el=t=>t.nodeType===8;function Qm(t){const{mt:i,p:s,o:{patchProp:u,createText:p,nextSibling:l,parentNode:h,remove:_,insert:m,createComment:x}}=t,b=($,lt)=>{if(!lt.hasChildNodes()){s(null,$,lt),pl(),lt._vnode=$;return}k(lt.firstChild,$,null,null,null),pl(),lt._vnode=$},k=($,lt,xt,vt,$t,Tt=!1)=>{Tt=Tt||!!lt.dynamicChildren;const Et=el($)&&$.data==="[",Dt=()=>X($,lt,xt,vt,$t,Et),{type:Vt,ref:Bt,shapeFlag:ae,patchFlag:Le}=lt;let Ae=$.nodeType;lt.el=$,Le===-2&&(Tt=!1,lt.dynamicChildren=null);let It=null;switch(Vt){case Go:Ae!==3?lt.children===""?(m(lt.el=p(""),h($),$),It=$):It=Dt():($.data!==lt.children&&(Bo(),$.data=lt.children),It=l($));break;case jn:ut($)?(It=l($),st(lt.el=$.content.firstChild,$,xt)):Ae!==8||Et?It=Dt():It=l($);break;case js:if(Et&&($=l($),Ae=$.nodeType),Ae===1||Ae===3){It=$;const pe=!lt.children.length;for(let kt=0;kt<lt.staticCount;kt++)pe&&(lt.children+=It.nodeType===1?It.outerHTML:It.data),kt===lt.staticCount-1&&(lt.anchor=It),It=l(It);return Et?l(It):It}else Dt();break;case Wt:Et?It=G($,lt,xt,vt,$t,Tt):It=Dt();break;default:if(ae&1)(Ae!==1||lt.type.toLowerCase()!==$.tagName.toLowerCase())&&!ut($)?It=Dt():It=T($,lt,xt,vt,$t,Tt);else if(ae&6){lt.slotScopeIds=$t;const pe=h($);if(Et?It=bt($):el($)&&$.data==="teleport start"?It=bt($,$.data,"teleport end"):It=l($),i(lt,pe,null,xt,vt,tl(pe),Tt),jo(lt)){let kt;Et?(kt=et(Wt),kt.anchor=It?It.previousSibling:pe.lastChild):kt=$.nodeType===3?ue(""):et("div"),kt.el=$,lt.component.subTree=kt}}else ae&64?Ae!==8?It=Dt():It=lt.type.hydrate($,lt,xt,vt,$t,Tt,t,F):ae&128&&(It=lt.type.hydrate($,lt,xt,vt,tl(h($)),$t,Tt,t,k))}return Bt!=null&&ml(Bt,null,vt,lt),It},T=($,lt,xt,vt,$t,Tt)=>{Tt=Tt||!!lt.dynamicChildren;const{type:Et,props:Dt,patchFlag:Vt,shapeFlag:Bt,dirs:ae,transition:Le}=lt,Ae=Et==="input"||Et==="option";if(Ae||Vt!==-1){ae&&Ti(lt,null,xt,"created");let It=!1;if(ut($)){It=Gp(vt,Le)&&xt&&xt.vnode.props&&xt.vnode.props.appear;const kt=$.content.firstChild;It&&Le.beforeEnter(kt),st(kt,$,xt),lt.el=$=kt}if(Bt&16&&!(Dt&&(Dt.innerHTML||Dt.textContent))){let kt=F($.firstChild,lt,$,xt,vt,$t,Tt);for(;kt;){Bo();const Cn=kt;kt=kt.nextSibling,_(Cn)}}else Bt&8&&$.textContent!==lt.children&&(Bo(),$.textContent=lt.children);if(Dt)if(Ae||!Tt||Vt&48)for(const kt in Dt)(Ae&&(kt.endsWith("value")||kt==="indeterminate")||ea(kt)&&!Fo(kt)||kt[0]===".")&&u($,kt,null,Dt[kt],void 0,void 0,xt);else Dt.onClick&&u($,"onClick",null,Dt.onClick,void 0,void 0,xt);let pe;(pe=Dt&&Dt.onVnodeBeforeMount)&&li(pe,xt,lt),ae&&Ti(lt,null,xt,"beforeMount"),((pe=Dt&&Dt.onVnodeMounted)||ae||It)&&Ep(()=>{pe&&li(pe,xt,lt),It&&Le.enter($),ae&&Ti(lt,null,xt,"mounted")},vt)}return $.nextSibling},F=($,lt,xt,vt,$t,Tt,Et)=>{Et=Et||!!lt.dynamicChildren;const Dt=lt.children,Vt=Dt.length;for(let Bt=0;Bt<Vt;Bt++){const ae=Et?Dt[Bt]:Dt[Bt]=vi(Dt[Bt]);$?$=k($,ae,vt,$t,Tt,Et):ae.type===Go&&!ae.children?m(ae.el=p(""),xt):(Bo(),s(null,ae,xt,null,vt,$t,tl(xt),Tt))}return $},G=($,lt,xt,vt,$t,Tt)=>{const{slotScopeIds:Et}=lt;Et&&($t=$t?$t.concat(Et):Et);const Dt=h($),Vt=F(l($),lt,Dt,xt,vt,$t,Tt);return Vt&&el(Vt)&&Vt.data==="]"?l(lt.anchor=Vt):(Bo(),m(lt.anchor=x("]"),Dt,Vt),Vt)},X=($,lt,xt,vt,$t,Tt)=>{if(Bo(),lt.el=null,Tt){const Vt=bt($);for(;;){const Bt=l($);if(Bt&&Bt!==Vt)_(Bt);else break}}const Et=l($),Dt=h($);return _($),s(null,lt,Dt,Et,xt,vt,tl(Dt),$t),Et},bt=($,lt="[",xt="]")=>{let vt=0;for(;$;)if($=l($),$&&el($)&&($.data===lt&&vt++,$.data===xt)){if(vt===0)return l($);vt--}return $},st=($,lt,xt)=>{const vt=lt.parentNode;vt&&vt.replaceChild($,lt);let $t=xt;for(;$t;)$t.vnode.el===lt&&($t.vnode.el=$t.subTree.el=$),$t=$t.parent},ut=$=>$.nodeType===1&&$.tagName.toLowerCase()==="template";return[b,k]}const Zn=Ep;function tg(t){return eg(t,Qm)}function eg(t,i){const s=Wd();s.__VUE__=!0;const{insert:u,remove:p,patchProp:l,createElement:h,createText:_,createComment:m,setText:x,setElementText:b,parentNode:k,nextSibling:T,setScopeId:F=ui,insertStaticContent:G}=t,X=(j,U,pt,Lt=null,yt=null,At=null,jt=void 0,Ot=null,Rt=!!U.dynamicChildren)=>{if(j===U)return;j&&!Ur(j,U)&&(Lt=gt(j),Fe(j,yt,At,!0),j=null),U.patchFlag===-2&&(Rt=!1,U.dynamicChildren=null);const{type:Pt,ref:Ut,shapeFlag:ie}=U;switch(Pt){case Go:bt(j,U,pt,Lt);break;case jn:st(j,U,pt,Lt);break;case js:j==null&&ut(U,pt,Lt,jt);break;case Wt:Bt(j,U,pt,Lt,yt,At,jt,Ot,Rt);break;default:ie&1?xt(j,U,pt,Lt,yt,At,jt,Ot,Rt):ie&6?ae(j,U,pt,Lt,yt,At,jt,Ot,Rt):(ie&64||ie&128)&&Pt.process(j,U,pt,Lt,yt,At,jt,Ot,Rt,Jt)}Ut!=null&&yt&&ml(Ut,j&&j.ref,At,U||j,!U)},bt=(j,U,pt,Lt)=>{if(j==null)u(U.el=_(U.children),pt,Lt);else{const yt=U.el=j.el;U.children!==j.children&&x(yt,U.children)}},st=(j,U,pt,Lt)=>{j==null?u(U.el=m(U.children||""),pt,Lt):U.el=j.el},ut=(j,U,pt,Lt)=>{[j.el,j.anchor]=G(j.children,U,pt,Lt,j.el,j.anchor)},$=({el:j,anchor:U},pt,Lt)=>{let yt;for(;j&&j!==U;)yt=T(j),u(j,pt,Lt),j=yt;u(U,pt,Lt)},lt=({el:j,anchor:U})=>{let pt;for(;j&&j!==U;)pt=T(j),p(j),j=pt;p(U)},xt=(j,U,pt,Lt,yt,At,jt,Ot,Rt)=>{U.type==="svg"?jt="svg":U.type==="math"&&(jt="mathml"),j==null?vt(U,pt,Lt,yt,At,jt,Ot,Rt):Et(j,U,yt,At,jt,Ot,Rt)},vt=(j,U,pt,Lt,yt,At,jt,Ot)=>{let Rt,Pt;const{props:Ut,shapeFlag:ie,transition:Qt,dirs:de}=j;if(Rt=j.el=h(j.type,At,Ut&&Ut.is,Ut),ie&8?b(Rt,j.children):ie&16&&Tt(j.children,Rt,null,Lt,yt,Vu(j,At),jt,Ot),de&&Ti(j,null,Lt,"created"),$t(Rt,j,j.scopeId,jt,Lt),Ut){for(const Ne in Ut)Ne!=="value"&&!Fo(Ne)&&l(Rt,Ne,null,Ut[Ne],At,j.children,Lt,yt,se);"value"in Ut&&l(Rt,"value",null,Ut.value,At),(Pt=Ut.onVnodeBeforeMount)&&li(Pt,Lt,j)}de&&Ti(j,null,Lt,"beforeMount");const ye=Gp(yt,Qt);ye&&Qt.beforeEnter(Rt),u(Rt,U,pt),((Pt=Ut&&Ut.onVnodeMounted)||ye||de)&&Zn(()=>{Pt&&li(Pt,Lt,j),ye&&Qt.enter(Rt),de&&Ti(j,null,Lt,"mounted")},yt)},$t=(j,U,pt,Lt,yt)=>{if(pt&&F(j,pt),Lt)for(let At=0;At<Lt.length;At++)F(j,Lt[At]);if(yt){let At=yt.subTree;if(U===At){const jt=yt.vnode;$t(j,jt,jt.scopeId,jt.slotScopeIds,yt.parent)}}},Tt=(j,U,pt,Lt,yt,At,jt,Ot,Rt=0)=>{for(let Pt=Rt;Pt<j.length;Pt++){const Ut=j[Pt]=Ot?_r(j[Pt]):vi(j[Pt]);X(null,Ut,U,pt,Lt,yt,At,jt,Ot)}},Et=(j,U,pt,Lt,yt,At,jt)=>{const Ot=U.el=j.el;let{patchFlag:Rt,dynamicChildren:Pt,dirs:Ut}=U;Rt|=j.patchFlag&16;const ie=j.props||Ke,Qt=U.props||Ke;let de;if(pt&&Gr(pt,!1),(de=Qt.onVnodeBeforeUpdate)&&li(de,pt,U,j),Ut&&Ti(U,j,pt,"beforeUpdate"),pt&&Gr(pt,!0),Pt?Dt(j.dynamicChildren,Pt,Ot,pt,Lt,Vu(U,yt),At):jt||kt(j,U,Ot,null,pt,Lt,Vu(U,yt),At,!1),Rt>0){if(Rt&16)Vt(Ot,U,ie,Qt,pt,Lt,yt);else if(Rt&2&&ie.class!==Qt.class&&l(Ot,"class",null,Qt.class,yt),Rt&4&&l(Ot,"style",ie.style,Qt.style,yt),Rt&8){const ye=U.dynamicProps;for(let Ne=0;Ne<ye.length;Ne++){const Pe=ye[Ne],Je=ie[Pe],En=Qt[Pe];(En!==Je||Pe==="value")&&l(Ot,Pe,Je,En,yt,j.children,pt,Lt,se)}}Rt&1&&j.children!==U.children&&b(Ot,U.children)}else!jt&&Pt==null&&Vt(Ot,U,ie,Qt,pt,Lt,yt);((de=Qt.onVnodeUpdated)||Ut)&&Zn(()=>{de&&li(de,pt,U,j),Ut&&Ti(U,j,pt,"updated")},Lt)},Dt=(j,U,pt,Lt,yt,At,jt)=>{for(let Ot=0;Ot<U.length;Ot++){const Rt=j[Ot],Pt=U[Ot],Ut=Rt.el&&(Rt.type===Wt||!Ur(Rt,Pt)||Rt.shapeFlag&70)?k(Rt.el):pt;X(Rt,Pt,Ut,null,Lt,yt,At,jt,!0)}},Vt=(j,U,pt,Lt,yt,At,jt)=>{if(pt!==Lt){if(pt!==Ke)for(const Ot in pt)!Fo(Ot)&&!(Ot in Lt)&&l(j,Ot,pt[Ot],null,jt,U.children,yt,At,se);for(const Ot in Lt){if(Fo(Ot))continue;const Rt=Lt[Ot],Pt=pt[Ot];Rt!==Pt&&Ot!=="value"&&l(j,Ot,Pt,Rt,jt,U.children,yt,At,se)}"value"in Lt&&l(j,"value",pt.value,Lt.value,jt)}},Bt=(j,U,pt,Lt,yt,At,jt,Ot,Rt)=>{const Pt=U.el=j?j.el:_(""),Ut=U.anchor=j?j.anchor:_("");let{patchFlag:ie,dynamicChildren:Qt,slotScopeIds:de}=U;de&&(Ot=Ot?Ot.concat(de):de),j==null?(u(Pt,pt,Lt),u(Ut,pt,Lt),Tt(U.children||[],pt,Ut,yt,At,jt,Ot,Rt)):ie>0&&ie&64&&Qt&&j.dynamicChildren?(Dt(j.dynamicChildren,Qt,pt,yt,At,jt,Ot),(U.key!=null||yt&&U===yt.subTree)&&Vp(j,U,!0)):kt(j,U,pt,Ut,yt,At,jt,Ot,Rt)},ae=(j,U,pt,Lt,yt,At,jt,Ot,Rt)=>{U.slotScopeIds=Ot,j==null?U.shapeFlag&512?yt.ctx.activate(U,pt,Lt,jt,Rt):Le(U,pt,Lt,yt,At,jt,Rt):Ae(j,U,Rt)},Le=(j,U,pt,Lt,yt,At,jt)=>{const Ot=j.component=vg(j,Lt,yt);if(Dl(j)&&(Ot.ctx.renderer=Jt),bg(Ot),Ot.asyncDep){if(yt&&yt.registerDep(Ot,It,jt),!j.el){const Rt=Ot.subTree=et(jn);st(null,Rt,U,pt)}}else It(Ot,j,U,pt,yt,At,jt)},Ae=(j,U,pt)=>{const Lt=U.component=j.component;if(Em(j,U,pt))if(Lt.asyncDep&&!Lt.asyncResolved){pe(Lt,U,pt);return}else Lt.next=U,xm(Lt.update),Lt.effect.dirty=!0,Lt.update();else U.el=j.el,Lt.vnode=U},It=(j,U,pt,Lt,yt,At,jt)=>{const Ot=()=>{if(j.isMounted){let{next:Ut,bu:ie,u:Qt,parent:de,vnode:ye}=j;{const Dn=$p(j);if(Dn){Ut&&(Ut.el=ye.el,pe(j,Ut,jt)),Dn.asyncDep.then(()=>{j.isUnmounted||Ot()});return}}let Ne=Ut,Pe;Gr(j,!1),Ut?(Ut.el=ye.el,pe(j,Ut,jt)):Ut=ye,ie&&rl(ie),(Pe=Ut.props&&Ut.props.onVnodeBeforeUpdate)&&li(Pe,de,Ut,ye),Gr(j,!0);const Je=zu(j),En=j.subTree;j.subTree=Je,X(En,Je,k(En.el),gt(En),j,yt,At),Ut.el=Je.el,Ne===null&&Pm(j,Je.el),Qt&&Zn(Qt,yt),(Pe=Ut.props&&Ut.props.onVnodeUpdated)&&Zn(()=>li(Pe,de,Ut,ye),yt)}else{let Ut;const{el:ie,props:Qt}=U,{bm:de,m:ye,parent:Ne}=j,Pe=jo(U);if(Gr(j,!1),de&&rl(de),!Pe&&(Ut=Qt&&Qt.onVnodeBeforeMount)&&li(Ut,Ne,U),Gr(j,!0),ie&&Ie){const Je=()=>{j.subTree=zu(j),Ie(ie,j.subTree,j,yt,null)};Pe?U.type.__asyncLoader().then(()=>!j.isUnmounted&&Je()):Je()}else{const Je=j.subTree=zu(j);X(null,Je,pt,Lt,j,yt,At),U.el=Je.el}if(ye&&Zn(ye,yt),!Pe&&(Ut=Qt&&Qt.onVnodeMounted)){const Je=U;Zn(()=>li(Ut,Ne,Je),yt)}(U.shapeFlag&256||Ne&&jo(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&j.a&&Zn(j.a,yt),j.isMounted=!0,U=pt=Lt=null}},Rt=j.effect=new Rc(Ot,ui,()=>Hc(Pt),j.scope),Pt=j.update=()=>{Rt.dirty&&Rt.run()};Pt.id=j.uid,Gr(j,!0),Pt()},pe=(j,U,pt)=>{U.component=j;const Lt=j.vnode.props;j.vnode=U,j.next=null,qm(j,U.props,Lt,pt),Jm(j,U.children,pt),Cr(),wh(j),wr()},kt=(j,U,pt,Lt,yt,At,jt,Ot,Rt=!1)=>{const Pt=j&&j.children,Ut=j?j.shapeFlag:0,ie=U.children,{patchFlag:Qt,shapeFlag:de}=U;if(Qt>0){if(Qt&128){Xt(Pt,ie,pt,Lt,yt,At,jt,Ot,Rt);return}else if(Qt&256){Cn(Pt,ie,pt,Lt,yt,At,jt,Ot,Rt);return}}de&8?(Ut&16&&se(Pt,yt,At),ie!==Pt&&b(pt,ie)):Ut&16?de&16?Xt(Pt,ie,pt,Lt,yt,At,jt,Ot,Rt):se(Pt,yt,At,!0):(Ut&8&&b(pt,""),de&16&&Tt(ie,pt,Lt,yt,At,jt,Ot,Rt))},Cn=(j,U,pt,Lt,yt,At,jt,Ot,Rt)=>{j=j||Ro,U=U||Ro;const Pt=j.length,Ut=U.length,ie=Math.min(Pt,Ut);let Qt;for(Qt=0;Qt<ie;Qt++){const de=U[Qt]=Rt?_r(U[Qt]):vi(U[Qt]);X(j[Qt],de,pt,null,yt,At,jt,Ot,Rt)}Pt>Ut?se(j,yt,At,!0,!1,ie):Tt(U,pt,Lt,yt,At,jt,Ot,Rt,ie)},Xt=(j,U,pt,Lt,yt,At,jt,Ot,Rt)=>{let Pt=0;const Ut=U.length;let ie=j.length-1,Qt=Ut-1;for(;Pt<=ie&&Pt<=Qt;){const de=j[Pt],ye=U[Pt]=Rt?_r(U[Pt]):vi(U[Pt]);if(Ur(de,ye))X(de,ye,pt,null,yt,At,jt,Ot,Rt);else break;Pt++}for(;Pt<=ie&&Pt<=Qt;){const de=j[ie],ye=U[Qt]=Rt?_r(U[Qt]):vi(U[Qt]);if(Ur(de,ye))X(de,ye,pt,null,yt,At,jt,Ot,Rt);else break;ie--,Qt--}if(Pt>ie){if(Pt<=Qt){const de=Qt+1,ye=de<Ut?U[de].el:Lt;for(;Pt<=Qt;)X(null,U[Pt]=Rt?_r(U[Pt]):vi(U[Pt]),pt,ye,yt,At,jt,Ot,Rt),Pt++}}else if(Pt>Qt)for(;Pt<=ie;)Fe(j[Pt],yt,At,!0),Pt++;else{const de=Pt,ye=Pt,Ne=new Map;for(Pt=ye;Pt<=Qt;Pt++){const bn=U[Pt]=Rt?_r(U[Pt]):vi(U[Pt]);bn.key!=null&&Ne.set(bn.key,Pt)}let Pe,Je=0;const En=Qt-ye+1;let Dn=!1,kr=0;const ti=new Array(En);for(Pt=0;Pt<En;Pt++)ti[Pt]=0;for(Pt=de;Pt<=ie;Pt++){const bn=j[Pt];if(Je>=En){Fe(bn,yt,At,!0);continue}let un;if(bn.key!=null)un=Ne.get(bn.key);else for(Pe=ye;Pe<=Qt;Pe++)if(ti[Pe-ye]===0&&Ur(bn,U[Pe])){un=Pe;break}un===void 0?Fe(bn,yt,At,!0):(ti[un-ye]=Pt+1,un>=kr?kr=un:Dn=!0,X(bn,U[un],pt,null,yt,At,jt,Ot,Rt),Je++)}const pi=Dn?ng(ti):Ro;for(Pe=pi.length-1,Pt=En-1;Pt>=0;Pt--){const bn=ye+Pt,un=U[bn],to=bn+1<Ut?U[bn+1].el:Lt;ti[Pt]===0?X(null,un,pt,to,yt,At,jt,Ot,Rt):Dn&&(Pe<0||Pt!==pi[Pe]?ke(un,pt,to,2):Pe--)}}},ke=(j,U,pt,Lt,yt=null)=>{const{el:At,type:jt,transition:Ot,children:Rt,shapeFlag:Pt}=j;if(Pt&6){ke(j.component.subTree,U,pt,Lt);return}if(Pt&128){j.suspense.move(U,pt,Lt);return}if(Pt&64){jt.move(j,U,pt,Jt);return}if(jt===Wt){u(At,U,pt);for(let ie=0;ie<Rt.length;ie++)ke(Rt[ie],U,pt,Lt);u(j.anchor,U,pt);return}if(jt===js){$(j,U,pt);return}if(Lt!==2&&Pt&1&&Ot)if(Lt===0)Ot.beforeEnter(At),u(At,U,pt),Zn(()=>Ot.enter(At),yt);else{const{leave:ie,delayLeave:Qt,afterLeave:de}=Ot,ye=()=>u(At,U,pt),Ne=()=>{ie(At,()=>{ye(),de&&de()})};Qt?Qt(At,ye,Ne):Ne()}else u(At,U,pt)},Fe=(j,U,pt,Lt=!1,yt=!1)=>{const{type:At,props:jt,ref:Ot,children:Rt,dynamicChildren:Pt,shapeFlag:Ut,patchFlag:ie,dirs:Qt,memoIndex:de}=j;if(Ot!=null&&ml(Ot,null,pt,j,!0),de!=null&&(U.renderCache[de]=void 0),Ut&256){U.ctx.deactivate(j);return}const ye=Ut&1&&Qt,Ne=!jo(j);let Pe;if(Ne&&(Pe=jt&&jt.onVnodeBeforeUnmount)&&li(Pe,U,j),Ut&6)Ee(j.component,pt,Lt);else{if(Ut&128){j.suspense.unmount(pt,Lt);return}ye&&Ti(j,null,U,"beforeUnmount"),Ut&64?j.type.remove(j,U,pt,yt,Jt,Lt):Pt&&(At!==Wt||ie>0&&ie&64)?se(Pt,U,pt,!1,!0):(At===Wt&&ie&384||!yt&&Ut&16)&&se(Rt,U,pt),Lt&&Xe(j)}(Ne&&(Pe=jt&&jt.onVnodeUnmounted)||ye)&&Zn(()=>{Pe&&li(Pe,U,j),ye&&Ti(j,null,U,"unmounted")},pt)},Xe=j=>{const{type:U,el:pt,anchor:Lt,transition:yt}=j;if(U===Wt){ze(pt,Lt);return}if(U===js){lt(j);return}const At=()=>{p(pt),yt&&!yt.persisted&&yt.afterLeave&&yt.afterLeave()};if(j.shapeFlag&1&&yt&&!yt.persisted){const{leave:jt,delayLeave:Ot}=yt,Rt=()=>jt(pt,At);Ot?Ot(j.el,At,Rt):Rt()}else At()},ze=(j,U)=>{let pt;for(;j!==U;)pt=T(j),p(j),j=pt;p(U)},Ee=(j,U,pt)=>{const{bum:Lt,scope:yt,update:At,subTree:jt,um:Ot,m:Rt,a:Pt}=j;Ih(Rt),Ih(Pt),Lt&&rl(Lt),yt.stop(),At&&(At.active=!1,Fe(jt,j,U,pt)),Ot&&Zn(Ot,U),Zn(()=>{j.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},se=(j,U,pt,Lt=!1,yt=!1,At=0)=>{for(let jt=At;jt<j.length;jt++)Fe(j[jt],U,pt,Lt,yt)},gt=j=>j.shapeFlag&6?gt(j.component.subTree):j.shapeFlag&128?j.suspense.next():T(j.anchor||j.el);let zt=!1;const Nt=(j,U,pt)=>{j==null?U._vnode&&Fe(U._vnode,null,null,!0):X(U._vnode||null,j,U,null,null,null,pt),zt||(zt=!0,wh(),pl(),zt=!1),U._vnode=j},Jt={p:X,um:Fe,m:ke,r:Xe,mt:Le,mc:Tt,pc:kt,pbc:Dt,n:gt,o:t};let Me,Ie;return i&&([Me,Ie]=i(Jt)),{render:Nt,hydrate:Me,createApp:Hm(Nt,Me)}}function Vu({type:t,props:i},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:s}function Gr({effect:t,update:i},s){t.allowRecurse=i.allowRecurse=s}function Gp(t,i){return(!t||t&&!t.pendingBranch)&&i&&!i.persisted}function Vp(t,i,s=!1){const u=t.children,p=i.children;if(he(u)&&he(p))for(let l=0;l<u.length;l++){const h=u[l];let _=p[l];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=p[l]=_r(p[l]),_.el=h.el),!s&&_.patchFlag!==-2&&Vp(h,_)),_.type===Go&&(_.el=h.el)}}function ng(t){const i=t.slice(),s=[0];let u,p,l,h,_;const m=t.length;for(u=0;u<m;u++){const x=t[u];if(x!==0){if(p=s[s.length-1],t[p]<x){i[u]=p,s.push(u);continue}for(l=0,h=s.length-1;l<h;)_=l+h>>1,t[s[_]]<x?l=_+1:h=_;x<t[s[l]]&&(l>0&&(i[u]=s[l-1]),s[l]=u)}}for(l=s.length,h=s[l-1];l-- >0;)s[l]=h,h=i[h];return s}function $p(t){const i=t.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:$p(i)}function Ih(t){if(t)for(let i=0;i<t.length;i++)t[i].active=!1}const ig=Symbol.for("v-scx"),rg=()=>hi(ig),nl={};function yn(t,i,s){return Hp(t,i,s)}function Hp(t,i,{immediate:s,deep:u,flush:p,once:l,onTrack:h,onTrigger:_}=Ke){if(i&&l){const vt=i;i=(...$t)=>{vt(...$t),xt()}}const m=Ln,x=vt=>u===!0?vt:gr(vt,u===!1?1:void 0);let b,k=!1,T=!1;if(vn(t)?(b=()=>t.value,k=dl(t)):Kr(t)?(b=()=>x(t),k=!0):he(t)?(T=!0,k=t.some(vt=>Kr(vt)||dl(vt)),b=()=>t.map(vt=>{if(vn(vt))return vt.value;if(Kr(vt))return x(vt);if(be(vt))return vr(vt,m,2)})):be(t)?i?b=()=>vr(t,m,2):b=()=>(F&&F(),ci(t,m,3,[G])):b=ui,i&&u){const vt=b;b=()=>gr(vt())}let F,G=vt=>{F=$.onStop=()=>{vr(vt,m,4),F=$.onStop=void 0}},X;if(Rl)if(G=ui,i?s&&ci(i,m,3,[b(),T?[]:void 0,G]):b(),p==="sync"){const vt=rg();X=vt.__watcherHandles||(vt.__watcherHandles=[])}else return ui;let bt=T?new Array(t.length).fill(nl):nl;const st=()=>{if(!(!$.active||!$.dirty))if(i){const vt=$.run();(u||k||(T?vt.some(($t,Tt)=>br($t,bt[Tt])):br(vt,bt)))&&(F&&F(),ci(i,m,3,[vt,bt===nl?void 0:T&&bt[0]===nl?[]:bt,G]),bt=vt)}else $.run()};st.allowRecurse=!!i;let ut;p==="sync"?ut=st:p==="post"?ut=()=>Zn(st,m&&m.suspense):(st.pre=!0,m&&(st.id=m.uid),ut=()=>Hc(st));const $=new Rc(b,ui,ut),lt=tp(),xt=()=>{$.stop(),lt&&Oc(lt.effects,$)};return i?s?st():bt=$.run():p==="post"?Zn($.run.bind($),m&&m.suspense):$.run(),X&&X.push(xt),xt}function og(t,i,s){const u=this.proxy,p=an(t)?t.includes(".")?Up(u,t):()=>u[t]:t.bind(u,u);let l;be(i)?l=i:(l=i.handler,s=i);const h=ra(this),_=Hp(p,l.bind(u),s);return h(),_}function Up(t,i){const s=i.split(".");return()=>{let u=t;for(let p=0;p<s.length&&u;p++)u=u[s[p]];return u}}function gr(t,i=1/0,s){if(i<=0||!We(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),i--,vn(t))gr(t.value,i,s);else if(he(t))for(let u=0;u<t.length;u++)gr(t[u],i,s);else if(Hd(t)||Io(t))t.forEach(u=>{gr(u,i,s)});else if(qd(t)){for(const u in t)gr(t[u],i,s);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&gr(t[u],i,s)}return t}const Dl=t=>t.type.__isKeepAlive;function sg(t,i){Zp(t,"a",i)}function ag(t,i){Zp(t,"da",i)}function Zp(t,i,s=Ln){const u=t.__wdc||(t.__wdc=()=>{let p=s;for(;p;){if(p.isDeactivated)return;p=p.parent}return t()});if(Ol(i,u,s),s){let p=s.parent;for(;p&&p.parent;)Dl(p.parent.vnode)&&lg(u,i,s,p),p=p.parent}}function lg(t,i,s,u){const p=Ol(i,t,u,!0);Xr(()=>{Oc(u[i],p)},s)}const fr=Symbol("_leaveCb"),il=Symbol("_enterCb");function ug(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mn(()=>{t.isMounted=!0}),Ji(()=>{t.isUnmounting=!0}),t}const ai=[Function,Array],qp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ai,onEnter:ai,onAfterEnter:ai,onEnterCancelled:ai,onBeforeLeave:ai,onLeave:ai,onAfterLeave:ai,onLeaveCancelled:ai,onBeforeAppear:ai,onAppear:ai,onAfterAppear:ai,onAppearCancelled:ai},Kp=t=>{const i=t.subTree;return i.component?Kp(i.component):i},cg={name:"BaseTransition",props:qp,setup(t,{slots:i}){const s=tf(),u=ug();return()=>{const p=i.default&&Jp(i.default(),!0);if(!p||!p.length)return;let l=p[0];if(p.length>1){for(const T of p)if(T.type!==jn){l=T;break}}const h=Re(t),{mode:_}=h;if(u.isLeaving)return $u(l);const m=Fh(l);if(!m)return $u(l);let x=pc(m,h,u,s,T=>x=T);gl(m,x);const b=s.subTree,k=b&&Fh(b);if(k&&k.type!==jn&&!Ur(m,k)&&Kp(s).type!==jn){const T=pc(k,h,u,s);if(gl(k,T),_==="out-in"&&m.type!==jn)return u.isLeaving=!0,T.afterLeave=()=>{u.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},$u(l);_==="in-out"&&m.type!==jn&&(T.delayLeave=(F,G,X)=>{const bt=Wp(u,k);bt[String(k.key)]=k,F[fr]=()=>{G(),F[fr]=void 0,delete x.delayedLeave},x.delayedLeave=X})}return l}}},hg=cg;function Wp(t,i){const{leavingVNodes:s}=t;let u=s.get(i.type);return u||(u=Object.create(null),s.set(i.type,u)),u}function pc(t,i,s,u,p){const{appear:l,mode:h,persisted:_=!1,onBeforeEnter:m,onEnter:x,onAfterEnter:b,onEnterCancelled:k,onBeforeLeave:T,onLeave:F,onAfterLeave:G,onLeaveCancelled:X,onBeforeAppear:bt,onAppear:st,onAfterAppear:ut,onAppearCancelled:$}=i,lt=String(t.key),xt=Wp(s,t),vt=(Et,Dt)=>{Et&&ci(Et,u,9,Dt)},$t=(Et,Dt)=>{const Vt=Dt[1];vt(Et,Dt),he(Et)?Et.every(Bt=>Bt.length<=1)&&Vt():Et.length<=1&&Vt()},Tt={mode:h,persisted:_,beforeEnter(Et){let Dt=m;if(!s.isMounted)if(l)Dt=bt||m;else return;Et[fr]&&Et[fr](!0);const Vt=xt[lt];Vt&&Ur(t,Vt)&&Vt.el[fr]&&Vt.el[fr](),vt(Dt,[Et])},enter(Et){let Dt=x,Vt=b,Bt=k;if(!s.isMounted)if(l)Dt=st||x,Vt=ut||b,Bt=$||k;else return;let ae=!1;const Le=Et[il]=Ae=>{ae||(ae=!0,Ae?vt(Bt,[Et]):vt(Vt,[Et]),Tt.delayedLeave&&Tt.delayedLeave(),Et[il]=void 0)};Dt?$t(Dt,[Et,Le]):Le()},leave(Et,Dt){const Vt=String(t.key);if(Et[il]&&Et[il](!0),s.isUnmounting)return Dt();vt(T,[Et]);let Bt=!1;const ae=Et[fr]=Le=>{Bt||(Bt=!0,Dt(),Le?vt(X,[Et]):vt(G,[Et]),Et[fr]=void 0,xt[Vt]===t&&delete xt[Vt])};xt[Vt]=t,F?$t(F,[Et,ae]):ae()},clone(Et){const Dt=pc(Et,i,s,u,p);return p&&p(Dt),Dt}};return Tt}function $u(t){if(Dl(t))return t=xr(t),t.children=null,t}function Fh(t){if(!Dl(t))return t;const{shapeFlag:i,children:s}=t;if(s){if(i&16)return s[0];if(i&32&&be(s.default))return s.default()}}function gl(t,i){t.shapeFlag&6&&t.component?gl(t.component.subTree,i):t.shapeFlag&128?(t.ssContent.transition=i.clone(t.ssContent),t.ssFallback.transition=i.clone(t.ssFallback)):t.transition=i}function Jp(t,i=!1,s){let u=[],p=0;for(let l=0;l<t.length;l++){let h=t[l];const _=s==null?h.key:String(s)+String(h.key!=null?h.key:l);h.type===Wt?(h.patchFlag&128&&p++,u=u.concat(Jp(h.children,i,_))):(i||h.type!==jn)&&u.push(_!=null?xr(h,{key:_}):h)}if(p>1)for(let l=0;l<u.length;l++)u[l].patchFlag=-2;return u}const dg=t=>t.__isTeleport,Wt=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),js=Symbol.for("v-stc"),zs=[];let bi=null;function I(t=!1){zs.push(bi=t?null:[])}function pg(){zs.pop(),bi=zs[zs.length-1]||null}let Ws=1;function Nh(t){Ws+=t}function Yp(t){return t.dynamicChildren=Ws>0?bi||Ro:null,pg(),Ws>0&&bi&&bi.push(t),t}function Q(t,i,s,u,p,l){return Yp(Y(t,i,s,u,p,l,!0))}function St(t,i,s,u,p){return Yp(et(t,i,s,u,p,!0))}function yl(t){return t?t.__v_isVNode===!0:!1}function Ur(t,i){return t.type===i.type&&t.key===i.key}const Xp=({key:t})=>t??null,sl=({ref:t,ref_key:i,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?an(t)||vn(t)||be(t)?{i:gn,r:t,k:i,f:!!s}:t:null);function Y(t,i=null,s=null,u=0,p=null,l=t===Wt?0:1,h=!1,_=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:i,key:i&&Xp(i),ref:i&&sl(i),scopeId:Al,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:u,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:gn};return _?(Wc(m,s),l&128&&t.normalize(m)):s&&(m.shapeFlag|=an(s)?8:16),Ws>0&&!h&&bi&&(m.patchFlag>0||l&6)&&m.patchFlag!==32&&bi.push(m),m}const et=fg;function fg(t,i=null,s=null,u=0,p=null,l=!1){if((!t||t===kp)&&(t=jn),yl(t)){const _=xr(t,i,!0);return s&&Wc(_,s),Ws>0&&!l&&bi&&(_.shapeFlag&6?bi[bi.indexOf(t)]=_:bi.push(_)),_.patchFlag=-2,_}if(wg(t)&&(t=t.__vccOpts),i){i=_g(i);let{class:_,style:m}=i;_&&!an(_)&&(i.class=pn(_)),We(m)&&(fp(m)&&!he(m)&&(m=fn({},m)),i.style=Oi(m))}const h=an(t)?1:Bm(t)?128:dg(t)?64:We(t)?4:be(t)?2:0;return Y(t,i,s,u,p,h,l,!0)}function _g(t){return t?fp(t)||Rp(t)?fn({},t):t:null}function xr(t,i,s=!1,u=!1){const{props:p,ref:l,patchFlag:h,children:_,transition:m}=t,x=i?Qp(p||{},i):p,b={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&Xp(x),ref:i&&i.ref?s&&l?he(l)?l.concat(sl(i)):[l,sl(i)]:sl(i):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:i&&t.type!==Wt?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:m,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xr(t.ssContent),ssFallback:t.ssFallback&&xr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return m&&u&&gl(b,m.clone(b)),b}function ue(t=" ",i=0){return et(Go,null,t,i)}function mg(t,i){const s=et(js,null,t);return s.staticCount=i,s}function Ft(t="",i=!1){return i?(I(),St(jn,null,t)):et(jn,null,t)}function vi(t){return t==null||typeof t=="boolean"?et(jn):he(t)?et(Wt,null,t.slice()):typeof t=="object"?_r(t):et(Go,null,String(t))}function _r(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xr(t)}function Wc(t,i){let s=0;const{shapeFlag:u}=t;if(i==null)i=null;else if(he(i))s=16;else if(typeof i=="object")if(u&65){const p=i.default;p&&(p._c&&(p._d=!1),Wc(t,p()),p._c&&(p._d=!0));return}else{s=32;const p=i._;!p&&!Rp(i)?i._ctx=gn:p===3&&gn&&(gn.slots._===1?i._=1:(i._=2,t.patchFlag|=1024))}else be(i)?(i={default:i,_ctx:gn},s=32):(i=String(i),u&64?(s=16,i=[ue(i)]):s=8);t.children=i,t.shapeFlag|=s}function Qp(...t){const i={};for(let s=0;s<t.length;s++){const u=t[s];for(const p in u)if(p==="class")i.class!==u.class&&(i.class=pn([i.class,u.class]));else if(p==="style")i.style=Oi([i.style,u.style]);else if(ea(p)){const l=i[p],h=u[p];h&&l!==h&&!(he(l)&&l.includes(h))&&(i[p]=l?[].concat(l,h):h)}else p!==""&&(i[p]=u[p])}return i}function li(t,i,s,u=null){ci(t,i,7,[s,u])}const gg=Ap();let yg=0;function vg(t,i,s){const u=t.type,p=(i?i.appContext:t.appContext)||gg,l={uid:yg++,vnode:t,type:u,parent:i,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fp(u,p),emitsOptions:Lp(u,p),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:u.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=i?i.root:l,l.emit=wm.bind(null,l),t.ce&&t.ce(l),l}let Ln=null;const tf=()=>Ln||gn;let vl,fc;{const t=Wd(),i=(s,u)=>{let p;return(p=t[s])||(p=t[s]=[]),p.push(u),l=>{p.length>1?p.forEach(h=>h(l)):p[0](l)}};vl=i("__VUE_INSTANCE_SETTERS__",s=>Ln=s),fc=i("__VUE_SSR_SETTERS__",s=>Rl=s)}const ra=t=>{const i=Ln;return vl(t),t.scope.on(),()=>{t.scope.off(),vl(i)}},jh=()=>{Ln&&Ln.scope.off(),vl(null)};function ef(t){return t.vnode.shapeFlag&4}let Rl=!1;function bg(t,i=!1){i&&fc(i);const{props:s,children:u}=t.vnode,p=ef(t);Zm(t,s,p,i),Wm(t,u);const l=p?xg(t,i):void 0;return i&&fc(!1),l}function xg(t,i){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rm);const{setup:u}=s;if(u){const p=t.setupContext=u.length>1?rf(t):null,l=ra(t);Cr();const h=vr(u,t,0,[t.props,p]);if(wr(),l(),Ud(h)){if(h.then(jh,jh),i)return h.then(_=>{zh(t,_,i)}).catch(_=>{Bl(_,t,0)});t.asyncDep=h}else zh(t,h,i)}else nf(t,i)}function zh(t,i,s){be(i)?t.type.__ssrInlineRender?t.ssrRender=i:t.render=i:We(i)&&(t.setupState=yp(i)),nf(t,s)}let Gh;function nf(t,i,s){const u=t.type;if(!t.render){if(!i&&Gh&&!u.render){const p=u.template||qc(t).template;if(p){const{isCustomElement:l,compilerOptions:h}=t.appContext.config,{delimiters:_,compilerOptions:m}=u,x=fn(fn({isCustomElement:l,delimiters:_},h),m);u.render=Gh(p,x)}}t.render=u.render||ui}{const p=ra(t);Cr();try{Nm(t)}finally{wr(),p()}}}const Lg={get(t,i){return Wn(t,"get",""),t[i]}};function rf(t){const i=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Lg),slots:t.slots,emit:t.emit,expose:i}}function Il(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(yp(Gc(t.exposed)),{get(i,s){if(s in i)return i[s];if(s in Ns)return Ns[s](t)},has(i,s){return s in i||s in Ns}})):t.proxy}function Cg(t,i=!0){return be(t)?t.displayName||t.name:t.name||i&&t.__name}function wg(t){return be(t)&&"__vccOpts"in t}const ce=(t,i)=>dm(t,i,Rl);function Jc(t,i,s){const u=arguments.length;return u===2?We(i)&&!he(i)?yl(i)?et(t,null,[i]):et(t,i):et(t,null,i):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&yl(s)&&(s=[s]),et(t,i,s))}const kg="3.4.29";/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mg="http://www.w3.org/2000/svg",Eg="http://www.w3.org/1998/Math/MathML",qi=typeof document<"u"?document:null,Vh=qi&&qi.createElement("template"),Pg={insert:(t,i,s)=>{i.insertBefore(t,s||null)},remove:t=>{const i=t.parentNode;i&&i.removeChild(t)},createElement:(t,i,s,u)=>{const p=i==="svg"?qi.createElementNS(Mg,t):i==="mathml"?qi.createElementNS(Eg,t):s?qi.createElement(t,{is:s}):qi.createElement(t);return t==="select"&&u&&u.multiple!=null&&p.setAttribute("multiple",u.multiple),p},createText:t=>qi.createTextNode(t),createComment:t=>qi.createComment(t),setText:(t,i)=>{t.nodeValue=i},setElementText:(t,i)=>{t.textContent=i},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>qi.querySelector(t),setScopeId(t,i){t.setAttribute(i,"")},insertStaticContent(t,i,s,u,p,l){const h=s?s.previousSibling:i.lastChild;if(p&&(p===l||p.nextSibling))for(;i.insertBefore(p.cloneNode(!0),s),!(p===l||!(p=p.nextSibling)););else{Vh.innerHTML=u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t;const _=Vh.content;if(u==="svg"||u==="mathml"){const m=_.firstChild;for(;m.firstChild;)_.appendChild(m.firstChild);_.removeChild(m)}i.insertBefore(_,s)}return[h?h.nextSibling:i.firstChild,s?s.previousSibling:i.lastChild]}},lr="transition",Ts="animation",Js=Symbol("_vtc"),Fl=(t,{slots:i})=>Jc(hg,Bg(t),i);Fl.displayName="Transition";const of={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Fl.props=fn({},qp,of);const Vr=(t,i=[])=>{he(t)?t.forEach(s=>s(...i)):t&&t(...i)},$h=t=>t?he(t)?t.some(i=>i.length>1):t.length>1:!1;function Bg(t){const i={};for(const Bt in t)Bt in of||(i[Bt]=t[Bt]);if(t.css===!1)return i;const{name:s="v",type:u,duration:p,enterFromClass:l=`${s}-enter-from`,enterActiveClass:h=`${s}-enter-active`,enterToClass:_=`${s}-enter-to`,appearFromClass:m=l,appearActiveClass:x=h,appearToClass:b=_,leaveFromClass:k=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:F=`${s}-leave-to`}=t,G=Sg(p),X=G&&G[0],bt=G&&G[1],{onBeforeEnter:st,onEnter:ut,onEnterCancelled:$,onLeave:lt,onLeaveCancelled:xt,onBeforeAppear:vt=st,onAppear:$t=ut,onAppearCancelled:Tt=$}=i,Et=(Bt,ae,Le)=>{$r(Bt,ae?b:_),$r(Bt,ae?x:h),Le&&Le()},Dt=(Bt,ae)=>{Bt._isLeaving=!1,$r(Bt,k),$r(Bt,F),$r(Bt,T),ae&&ae()},Vt=Bt=>(ae,Le)=>{const Ae=Bt?$t:ut,It=()=>Et(ae,Bt,Le);Vr(Ae,[ae,It]),Hh(()=>{$r(ae,Bt?m:l),ur(ae,Bt?b:_),$h(Ae)||Uh(ae,u,X,It)})};return fn(i,{onBeforeEnter(Bt){Vr(st,[Bt]),ur(Bt,l),ur(Bt,h)},onBeforeAppear(Bt){Vr(vt,[Bt]),ur(Bt,m),ur(Bt,x)},onEnter:Vt(!1),onAppear:Vt(!0),onLeave(Bt,ae){Bt._isLeaving=!0;const Le=()=>Dt(Bt,ae);ur(Bt,k),ur(Bt,T),Og(),Hh(()=>{Bt._isLeaving&&($r(Bt,k),ur(Bt,F),$h(lt)||Uh(Bt,u,bt,Le))}),Vr(lt,[Bt,Le])},onEnterCancelled(Bt){Et(Bt,!1),Vr($,[Bt])},onAppearCancelled(Bt){Et(Bt,!0),Vr(Tt,[Bt])},onLeaveCancelled(Bt){Dt(Bt),Vr(xt,[Bt])}})}function Sg(t){if(t==null)return null;if(We(t))return[Hu(t.enter),Hu(t.leave)];{const i=Hu(t);return[i,i]}}function Hu(t){return F_(t)}function ur(t,i){i.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Js]||(t[Js]=new Set)).add(i)}function $r(t,i){i.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const s=t[Js];s&&(s.delete(i),s.size||(t[Js]=void 0))}function Hh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tg=0;function Uh(t,i,s,u){const p=t._endId=++Tg,l=()=>{p===t._endId&&u()};if(s)return setTimeout(l,s);const{type:h,timeout:_,propCount:m}=Ag(t,i);if(!h)return u();const x=h+"end";let b=0;const k=()=>{t.removeEventListener(x,T),l()},T=F=>{F.target===t&&++b>=m&&k()};setTimeout(()=>{b<m&&k()},_+1),t.addEventListener(x,T)}function Ag(t,i){const s=window.getComputedStyle(t),u=G=>(s[G]||"").split(", "),p=u(`${lr}Delay`),l=u(`${lr}Duration`),h=Zh(p,l),_=u(`${Ts}Delay`),m=u(`${Ts}Duration`),x=Zh(_,m);let b=null,k=0,T=0;i===lr?h>0&&(b=lr,k=h,T=l.length):i===Ts?x>0&&(b=Ts,k=x,T=m.length):(k=Math.max(h,x),b=k>0?h>x?lr:Ts:null,T=b?b===lr?l.length:m.length:0);const F=b===lr&&/\b(transform|all)(,|$)/.test(u(`${lr}Property`).toString());return{type:b,timeout:k,propCount:T,hasTransform:F}}function Zh(t,i){for(;t.length<i.length;)t=t.concat(t);return Math.max(...i.map((s,u)=>qh(s)+qh(t[u])))}function qh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Og(){return document.body.offsetHeight}function Dg(t,i,s){const u=t[Js];u&&(i=(i?[i,...u]:[...u]).join(" ")),i==null?t.removeAttribute("class"):s?t.setAttribute("class",i):t.className=i}const bl=Symbol("_vod"),sf=Symbol("_vsh"),Nl={beforeMount(t,{value:i},{transition:s}){t[bl]=t.style.display==="none"?"":t.style.display,s&&i?s.beforeEnter(t):As(t,i)},mounted(t,{value:i},{transition:s}){s&&i&&s.enter(t)},updated(t,{value:i,oldValue:s},{transition:u}){!i!=!s&&(u?i?(u.beforeEnter(t),As(t,!0),u.enter(t)):u.leave(t,()=>{As(t,!1)}):As(t,i))},beforeUnmount(t,{value:i}){As(t,i)}};function As(t,i){t.style.display=i?t[bl]:"none",t[sf]=!i}const Rg=Symbol(""),Ig=/(^|;)\s*display\s*:/;function Fg(t,i,s){const u=t.style,p=an(s);let l=!1;if(s&&!p){if(i)if(an(i))for(const h of i.split(";")){const _=h.slice(0,h.indexOf(":")).trim();s[_]==null&&al(u,_,"")}else for(const h in i)s[h]==null&&al(u,h,"");for(const h in s)h==="display"&&(l=!0),al(u,h,s[h])}else if(p){if(i!==s){const h=u[Rg];h&&(s+=";"+h),u.cssText=s,l=Ig.test(s)}}else i&&t.removeAttribute("style");bl in t&&(t[bl]=l?u.display:"",t[sf]&&(u.display="none"))}const Kh=/\s*!important$/;function al(t,i,s){if(he(s))s.forEach(u=>al(t,i,u));else if(s==null&&(s=""),i.startsWith("--"))t.setProperty(i,s);else{const u=Ng(t,i);Kh.test(s)?t.setProperty(Ho(u),s.replace(Kh,""),"important"):t[u]=s}}const Wh=["Webkit","Moz","ms"],Uu={};function Ng(t,i){const s=Uu[i];if(s)return s;let u=Di(i);if(u!=="filter"&&u in t)return Uu[i]=u;u=El(u);for(let p=0;p<Wh.length;p++){const l=Wh[p]+u;if(l in t)return Uu[i]=l}return i}const Jh="http://www.w3.org/1999/xlink";function Yh(t,i,s,u,p,l=$_(i)){u&&i.startsWith("xlink:")?s==null?t.removeAttributeNS(Jh,i.slice(6,i.length)):t.setAttributeNS(Jh,i,s):s==null||l&&!Jd(s)?t.removeAttribute(i):t.setAttribute(i,l?"":String(s))}function jg(t,i,s,u,p,l,h){if(i==="innerHTML"||i==="textContent"){u&&h(u,p,l),t[i]=s??"";return}const _=t.tagName;if(i==="value"&&_!=="PROGRESS"&&!_.includes("-")){const x=_==="OPTION"?t.getAttribute("value")||"":t.value,b=s==null?"":String(s);(x!==b||!("_value"in t))&&(t.value=b),s==null&&t.removeAttribute(i),t._value=s;return}let m=!1;if(s===""||s==null){const x=typeof t[i];x==="boolean"?s=Jd(s):s==null&&x==="string"?(s="",m=!0):x==="number"&&(s=0,m=!0)}try{t[i]=s}catch{}m&&t.removeAttribute(i)}function Ao(t,i,s,u){t.addEventListener(i,s,u)}function zg(t,i,s,u){t.removeEventListener(i,s,u)}const Xh=Symbol("_vei");function Gg(t,i,s,u,p=null){const l=t[Xh]||(t[Xh]={}),h=l[i];if(u&&h)h.value=u;else{const[_,m]=Vg(i);if(u){const x=l[i]=Ug(u,p);Ao(t,_,x,m)}else h&&(zg(t,_,h,m),l[i]=void 0)}}const Qh=/(?:Once|Passive|Capture)$/;function Vg(t){let i;if(Qh.test(t)){i={};let u;for(;u=t.match(Qh);)t=t.slice(0,t.length-u[0].length),i[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ho(t.slice(2)),i]}let Zu=0;const $g=Promise.resolve(),Hg=()=>Zu||($g.then(()=>Zu=0),Zu=Date.now());function Ug(t,i){const s=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=s.attached)return;ci(Zg(u,s.value),i,5,[u])};return s.value=t,s.attached=Hg(),s}function Zg(t,i){if(he(i)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},i.map(u=>p=>!p._stopped&&u&&u(p))}else return i}const td=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qg=(t,i,s,u,p,l,h,_,m)=>{const x=p==="svg";i==="class"?Dg(t,u,x):i==="style"?Fg(t,s,u):ea(i)?Ac(i)||Gg(t,i,s,u,h):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):Kg(t,i,u,x))?(jg(t,i,u,l,h,_,m),(i==="value"||i==="checked"||i==="selected")&&Yh(t,i,u,x,h,i!=="value")):(i==="true-value"?t._trueValue=u:i==="false-value"&&(t._falseValue=u),Yh(t,i,u,x))};function Kg(t,i,s,u){if(u)return!!(i==="innerHTML"||i==="textContent"||i in t&&td(i)&&be(s));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&t.tagName==="INPUT"||i==="type"&&t.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const p=t.tagName;if(p==="IMG"||p==="VIDEO"||p==="CANVAS"||p==="SOURCE")return!1}return td(i)&&an(s)?!1:i in t}const ed=t=>{const i=t.props["onUpdate:modelValue"]||!1;return he(i)?s=>rl(i,s):i};function Wg(t){t.target.composing=!0}function nd(t){const i=t.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const qu=Symbol("_assign"),Jg={created(t,{modifiers:{lazy:i,trim:s,number:u}},p){t[qu]=ed(p);const l=u||p.props&&p.props.type==="number";Ao(t,i?"change":"input",h=>{if(h.target.composing)return;let _=t.value;s&&(_=_.trim()),l&&(_=rc(_)),t[qu](_)}),s&&Ao(t,"change",()=>{t.value=t.value.trim()}),i||(Ao(t,"compositionstart",Wg),Ao(t,"compositionend",nd),Ao(t,"change",nd))},mounted(t,{value:i}){t.value=i??""},beforeUpdate(t,{value:i,oldValue:s,modifiers:{lazy:u,trim:p,number:l}},h){if(t[qu]=ed(h),t.composing)return;const _=(l||t.type==="number")&&!/^0\d/.test(t.value)?rc(t.value):t.value,m=i??"";_!==m&&(document.activeElement===t&&t.type!=="range"&&(u&&i===s||p&&t.value.trim()===m)||(t.value=m))}},Yg=["ctrl","shift","alt","meta"],Xg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,i)=>Yg.some(s=>t[`${s}Key`]&&!i.includes(s))},xl=(t,i)=>{const s=t._withMods||(t._withMods={}),u=i.join(".");return s[u]||(s[u]=(p,...l)=>{for(let h=0;h<i.length;h++){const _=Xg[i[h]];if(_&&_(p,i))return}return t(p,...l)})},Qg=fn({patchProp:qg},Pg);let Ku,id=!1;function t0(){return Ku=id?Ku:tg(Qg),id=!0,Ku}const e0=(...t)=>{const i=t0().createApp(...t),{mount:s}=i;return i.mount=u=>{const p=i0(u);if(p)return s(p,!0,n0(p))},i};function n0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function i0(t){return an(t)?document.querySelector(t):t}let r0;function o0(){return r0}function Yc(t,i={}){const s=i.head||o0();return s==null?void 0:s.push(t,i)}const s0=["title"],a0={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},l0=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),u0=[l0],c0={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},h0=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),d0=[h0],af={__name:"SwitchTheme",setup(t){const i={dark:"dark",light:"light"},s=Zt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?s.value="dark":s.value="light",yn(s,(p,l)=>{document.documentElement.classList.add(p),document.documentElement.classList.remove(l),localStorage.setItem("theme",p)},{immediate:!0}));const u=()=>{s.value===i.dark?s.value=i.light:s.value=i.dark};return(p,l)=>(I(),Q("button",{type:"button",onClick:u,title:s.value===i.light?"Change to dark mode":"Change to light mode"},[s.value===i.dark?(I(),Q("svg",a0,u0)):(I(),Q("svg",c0,d0))],8,s0))}};var p0={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const f0=["aria-expanded"],_0=Y("span",{class:"sr-only"},"Open main menu",-1),m0={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},g0={class:"font-normal container mx-auto"},y0={class:"flex flex-col m-0 p-0 border-t border-base-border"},v0={__name:"NavbarMobile",setup(t){const{header_links:i}=p0,s=Zt(!1),u=()=>{s.value=!s.value};return(p,l)=>{const h=_t("IconClose"),_=_t("IconHamburger"),m=_t("router-link"),x=_t("ClientOnly"),b=_t("TrackerReport"),k=_t("AnimationOpacity");return I(),Q(Wt,null,[Y("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":s.value,onClick:u},[_0,s.value?(I(),St(h,{key:0})):(I(),St(_,{key:1,class:"w-6 h-6"}))],8,f0),et(k,null,{default:ft(()=>[s.value?(I(),Q("div",m0,[Y("nav",g0,[Y("ul",y0,[(I(!0),Q(Wt,null,Ce(ee(i),(T,F)=>(I(),Q("li",{key:F,class:"border-b border-base-border"},[et(m,{to:T.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:ft(()=>[ue(oe(T.label),1)]),_:2},1032,["to"])]))),128)),Y("li",null,[et(x,null,{default:ft(()=>[et(af,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),Y("li",null,[et(b,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Ft("",!0)]),_:1})],64)}}};function b0(t){try{return new URL(t),!0}catch{return!1}}var x0={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const L0={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},C0={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},w0=["src","alt"],k0={class:"relative hidden md:flex items-center ml-auto"},M0={class:"text-sm leading-6 font-normal"},E0={class:"flex space-x-8"},P0={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},B0={class:"flex items-center ml-2 border-base-muted"},S0={__name:"LayoutHeader",setup(t){const{header_links:i,header_logo_text:s,header_logo_url:u,base_url:p,project_name:l}=x0,h=b0(u)?u:(p+u).replace("//","/");return(_,m)=>{const x=_t("RouterLink"),b=_t("router-link"),k=_t("ClientOnly"),T=_t("TrackerReport");return I(),Q("header",L0,[Y("div",C0,[et(x,{to:"/",class:"flex items-center text-primary-content"},{default:ft(()=>[ee(u)?(I(),Q("img",{key:0,class:"mr-3 h-10",src:ee(h),alt:ee(s)},null,8,w0)):Ft("",!0),Y("span",null,oe(ee(s)||ee(l)),1)]),_:1}),et(v0),Y("div",k0,[Y("nav",M0,[Y("ul",E0,[(I(!0),Q(Wt,null,Ce(ee(i),(F,G)=>(I(),Q("li",{key:G},[et(b,{to:F.link,class:"hover:text-primary-content text-primary-content"},{default:ft(()=>[ue(oe(F.label),1)]),_:2},1032,["to"])]))),128))])]),Y("div",P0,[et(k,null,{default:ft(()=>[et(af,{class:"text-primary-content"})]),_:1})]),Y("div",B0,[et(T,{icon:""})])])])])}}};/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Oo=typeof document<"u";function T0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ge=Object.assign;function Wu(t,i){const s={};for(const u in i){const p=i[u];s[u]=Li(p)?p.map(t):t(p)}return s}const Gs=()=>{},Li=Array.isArray,lf=/#/g,A0=/&/g,O0=/\//g,D0=/=/g,R0=/\?/g,uf=/\+/g,I0=/%5B/g,F0=/%5D/g,cf=/%5E/g,N0=/%60/g,hf=/%7B/g,j0=/%7C/g,df=/%7D/g,z0=/%20/g;function Xc(t){return encodeURI(""+t).replace(j0,"|").replace(I0,"[").replace(F0,"]")}function G0(t){return Xc(t).replace(hf,"{").replace(df,"}").replace(cf,"^")}function _c(t){return Xc(t).replace(uf,"%2B").replace(z0,"+").replace(lf,"%23").replace(A0,"%26").replace(N0,"`").replace(hf,"{").replace(df,"}").replace(cf,"^")}function V0(t){return _c(t).replace(D0,"%3D")}function $0(t){return Xc(t).replace(lf,"%23").replace(R0,"%3F")}function H0(t){return t==null?"":$0(t).replace(O0,"%2F")}function Ys(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const U0=/\/$/,Z0=t=>t.replace(U0,"");function Ju(t,i,s="/"){let u,p={},l="",h="";const _=i.indexOf("#");let m=i.indexOf("?");return _<m&&_>=0&&(m=-1),m>-1&&(u=i.slice(0,m),l=i.slice(m+1,_>-1?_:i.length),p=t(l)),_>-1&&(u=u||i.slice(0,_),h=i.slice(_,i.length)),u=J0(u??i,s),{fullPath:u+(l&&"?")+l+h,path:u,query:p,hash:Ys(h)}}function q0(t,i){const s=i.query?t(i.query):"";return i.path+(s&&"?")+s+(i.hash||"")}function rd(t,i){return!i||!t.toLowerCase().startsWith(i.toLowerCase())?t:t.slice(i.length)||"/"}function K0(t,i,s){const u=i.matched.length-1,p=s.matched.length-1;return u>-1&&u===p&&Vo(i.matched[u],s.matched[p])&&pf(i.params,s.params)&&t(i.query)===t(s.query)&&i.hash===s.hash}function Vo(t,i){return(t.aliasOf||t)===(i.aliasOf||i)}function pf(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const s in t)if(!W0(t[s],i[s]))return!1;return!0}function W0(t,i){return Li(t)?od(t,i):Li(i)?od(i,t):t===i}function od(t,i){return Li(i)?t.length===i.length&&t.every((s,u)=>s===i[u]):t.length===1&&t[0]===i}function J0(t,i){if(t.startsWith("/"))return t;if(!t)return i;const s=i.split("/"),u=t.split("/"),p=u[u.length-1];(p===".."||p===".")&&u.push("");let l=s.length-1,h,_;for(h=0;h<u.length;h++)if(_=u[h],_!==".")if(_==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+u.slice(h).join("/")}var Xs;(function(t){t.pop="pop",t.push="push"})(Xs||(Xs={}));var Vs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vs||(Vs={}));function Y0(t){if(!t)if(Oo){const i=document.querySelector("base");t=i&&i.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Z0(t)}const X0=/^[^#]+#/;function Q0(t,i){return t.replace(X0,"#")+i}function ty(t,i){const s=document.documentElement.getBoundingClientRect(),u=t.getBoundingClientRect();return{behavior:i.behavior,left:u.left-s.left-(i.left||0),top:u.top-s.top-(i.top||0)}}const jl=()=>({left:window.scrollX,top:window.scrollY});function ey(t){let i;if("el"in t){const s=t.el,u=typeof s=="string"&&s.startsWith("#"),p=typeof s=="string"?u?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!p)return;i=ty(p,t)}else i=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(i):window.scrollTo(i.left!=null?i.left:window.scrollX,i.top!=null?i.top:window.scrollY)}function sd(t,i){return(history.state?history.state.position-i:-1)+t}const mc=new Map;function ny(t,i){mc.set(t,i)}function iy(t){const i=mc.get(t);return mc.delete(t),i}let ry=()=>location.protocol+"//"+location.host;function ff(t,i){const{pathname:s,search:u,hash:p}=i,l=t.indexOf("#");if(l>-1){let _=p.includes(t.slice(l))?t.slice(l).length:1,m=p.slice(_);return m[0]!=="/"&&(m="/"+m),rd(m,"")}return rd(s,t)+u+p}function oy(t,i,s,u){let p=[],l=[],h=null;const _=({state:T})=>{const F=ff(t,location),G=s.value,X=i.value;let bt=0;if(T){if(s.value=F,i.value=T,h&&h===G){h=null;return}bt=X?T.position-X.position:0}else u(F);p.forEach(st=>{st(s.value,G,{delta:bt,type:Xs.pop,direction:bt?bt>0?Vs.forward:Vs.back:Vs.unknown})})};function m(){h=s.value}function x(T){p.push(T);const F=()=>{const G=p.indexOf(T);G>-1&&p.splice(G,1)};return l.push(F),F}function b(){const{history:T}=window;T.state&&T.replaceState(Ge({},T.state,{scroll:jl()}),"")}function k(){for(const T of l)T();l=[],window.removeEventListener("popstate",_),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",_),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:m,listen:x,destroy:k}}function ad(t,i,s,u=!1,p=!1){return{back:t,current:i,forward:s,replaced:u,position:window.history.length,scroll:p?jl():null}}function sy(t){const{history:i,location:s}=window,u={value:ff(t,s)},p={value:i.state};p.value||l(u.value,{back:null,current:u.value,forward:null,position:i.length-1,replaced:!0,scroll:null},!0);function l(m,x,b){const k=t.indexOf("#"),T=k>-1?(s.host&&document.querySelector("base")?t:t.slice(k))+m:ry()+t+m;try{i[b?"replaceState":"pushState"](x,"",T),p.value=x}catch(F){console.error(F),s[b?"replace":"assign"](T)}}function h(m,x){const b=Ge({},i.state,ad(p.value.back,m,p.value.forward,!0),x,{position:p.value.position});l(m,b,!0),u.value=m}function _(m,x){const b=Ge({},p.value,i.state,{forward:m,scroll:jl()});l(b.current,b,!0);const k=Ge({},ad(u.value,m,null),{position:b.position+1},x);l(m,k,!1),u.value=m}return{location:u,state:p,push:_,replace:h}}function _f(t){t=Y0(t);const i=sy(t),s=oy(t,i.state,i.location,i.replace);function u(l,h=!0){h||s.pauseListeners(),history.go(l)}const p=Ge({location:"",base:t,go:u,createHref:Q0.bind(null,t)},i,s);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>i.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>i.state.value}),p}function ay(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),_f(t)}function ly(t){return typeof t=="string"||t&&typeof t=="object"}function mf(t){return typeof t=="string"||typeof t=="symbol"}const cr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gf=Symbol("");var ld;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ld||(ld={}));function $o(t,i){return Ge(new Error,{type:t,[gf]:!0},i)}function Zi(t,i){return t instanceof Error&&gf in t&&(i==null||!!(t.type&i))}const ud="[^/]+?",uy={sensitive:!1,strict:!1,start:!0,end:!0},cy=/[.+*?^${}()[\]/\\]/g;function hy(t,i){const s=Ge({},uy,i),u=[];let p=s.start?"^":"";const l=[];for(const x of t){const b=x.length?[]:[90];s.strict&&!x.length&&(p+="/");for(let k=0;k<x.length;k++){const T=x[k];let F=40+(s.sensitive?.25:0);if(T.type===0)k||(p+="/"),p+=T.value.replace(cy,"\\$&"),F+=40;else if(T.type===1){const{value:G,repeatable:X,optional:bt,regexp:st}=T;l.push({name:G,repeatable:X,optional:bt});const ut=st||ud;if(ut!==ud){F+=10;try{new RegExp(`(${ut})`)}catch(lt){throw new Error(`Invalid custom RegExp for param "${G}" (${ut}): `+lt.message)}}let $=X?`((?:${ut})(?:/(?:${ut}))*)`:`(${ut})`;k||($=bt&&x.length<2?`(?:/${$})`:"/"+$),bt&&($+="?"),p+=$,F+=20,bt&&(F+=-8),X&&(F+=-20),ut===".*"&&(F+=-50)}b.push(F)}u.push(b)}if(s.strict&&s.end){const x=u.length-1;u[x][u[x].length-1]+=.7000000000000001}s.strict||(p+="/?"),s.end?p+="$":s.strict&&(p+="(?:/|$)");const h=new RegExp(p,s.sensitive?"":"i");function _(x){const b=x.match(h),k={};if(!b)return null;for(let T=1;T<b.length;T++){const F=b[T]||"",G=l[T-1];k[G.name]=F&&G.repeatable?F.split("/"):F}return k}function m(x){let b="",k=!1;for(const T of t){(!k||!b.endsWith("/"))&&(b+="/"),k=!1;for(const F of T)if(F.type===0)b+=F.value;else if(F.type===1){const{value:G,repeatable:X,optional:bt}=F,st=G in x?x[G]:"";if(Li(st)&&!X)throw new Error(`Provided param "${G}" is an array but it is not repeatable (* or + modifiers)`);const ut=Li(st)?st.join("/"):st;if(!ut)if(bt)T.length<2&&(b.endsWith("/")?b=b.slice(0,-1):k=!0);else throw new Error(`Missing required param "${G}"`);b+=ut}}return b||"/"}return{re:h,score:u,keys:l,parse:_,stringify:m}}function dy(t,i){let s=0;for(;s<t.length&&s<i.length;){const u=i[s]-t[s];if(u)return u;s++}return t.length<i.length?t.length===1&&t[0]===80?-1:1:t.length>i.length?i.length===1&&i[0]===80?1:-1:0}function yf(t,i){let s=0;const u=t.score,p=i.score;for(;s<u.length&&s<p.length;){const l=dy(u[s],p[s]);if(l)return l;s++}if(Math.abs(p.length-u.length)===1){if(cd(u))return 1;if(cd(p))return-1}return p.length-u.length}function cd(t){const i=t[t.length-1];return t.length>0&&i[i.length-1]<0}const py={type:0,value:""},fy=/[a-zA-Z0-9_]/;function _y(t){if(!t)return[[]];if(t==="/")return[[py]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function i(F){throw new Error(`ERR (${s})/"${x}": ${F}`)}let s=0,u=s;const p=[];let l;function h(){l&&p.push(l),l=[]}let _=0,m,x="",b="";function k(){x&&(s===0?l.push({type:0,value:x}):s===1||s===2||s===3?(l.length>1&&(m==="*"||m==="+")&&i(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:x,regexp:b,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):i("Invalid state to consume buffer"),x="")}function T(){x+=m}for(;_<t.length;){if(m=t[_++],m==="\\"&&s!==2){u=s,s=4;continue}switch(s){case 0:m==="/"?(x&&k(),h()):m===":"?(k(),s=1):T();break;case 4:T(),s=u;break;case 1:m==="("?s=2:fy.test(m)?T():(k(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&_--);break;case 2:m===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+m:s=3:b+=m;break;case 3:k(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&_--,b="";break;default:i("Unknown state");break}}return s===2&&i(`Unfinished custom RegExp for param "${x}"`),k(),h(),p}function my(t,i,s){const u=hy(_y(t.path),s),p=Ge(u,{record:t,parent:i,children:[],alias:[]});return i&&!p.record.aliasOf==!i.record.aliasOf&&i.children.push(p),p}function gy(t,i){const s=[],u=new Map;i=pd({strict:!1,end:!0,sensitive:!1},i);function p(b){return u.get(b)}function l(b,k,T){const F=!T,G=yy(b);G.aliasOf=T&&T.record;const X=pd(i,b),bt=[G];if("alias"in b){const $=typeof b.alias=="string"?[b.alias]:b.alias;for(const lt of $)bt.push(Ge({},G,{components:T?T.record.components:G.components,path:lt,aliasOf:T?T.record:G}))}let st,ut;for(const $ of bt){const{path:lt}=$;if(k&&lt[0]!=="/"){const xt=k.record.path,vt=xt[xt.length-1]==="/"?"":"/";$.path=k.record.path+(lt&&vt+lt)}if(st=my($,k,X),T?T.alias.push(st):(ut=ut||st,ut!==st&&ut.alias.push(st),F&&b.name&&!dd(st)&&h(b.name)),vf(st)&&m(st),G.children){const xt=G.children;for(let vt=0;vt<xt.length;vt++)l(xt[vt],st,T&&T.children[vt])}T=T||st}return ut?()=>{h(ut)}:Gs}function h(b){if(mf(b)){const k=u.get(b);k&&(u.delete(b),s.splice(s.indexOf(k),1),k.children.forEach(h),k.alias.forEach(h))}else{const k=s.indexOf(b);k>-1&&(s.splice(k,1),b.record.name&&u.delete(b.record.name),b.children.forEach(h),b.alias.forEach(h))}}function _(){return s}function m(b){const k=xy(b,s);s.splice(k,0,b),b.record.name&&!dd(b)&&u.set(b.record.name,b)}function x(b,k){let T,F={},G,X;if("name"in b&&b.name){if(T=u.get(b.name),!T)throw $o(1,{location:b});X=T.record.name,F=Ge(hd(k.params,T.keys.filter(ut=>!ut.optional).concat(T.parent?T.parent.keys.filter(ut=>ut.optional):[]).map(ut=>ut.name)),b.params&&hd(b.params,T.keys.map(ut=>ut.name))),G=T.stringify(F)}else if(b.path!=null)G=b.path,T=s.find(ut=>ut.re.test(G)),T&&(F=T.parse(G),X=T.record.name);else{if(T=k.name?u.get(k.name):s.find(ut=>ut.re.test(k.path)),!T)throw $o(1,{location:b,currentLocation:k});X=T.record.name,F=Ge({},k.params,b.params),G=T.stringify(F)}const bt=[];let st=T;for(;st;)bt.unshift(st.record),st=st.parent;return{name:X,path:G,params:F,matched:bt,meta:by(bt)}}return t.forEach(b=>l(b)),{addRoute:l,resolve:x,removeRoute:h,getRoutes:_,getRecordMatcher:p}}function hd(t,i){const s={};for(const u of i)u in t&&(s[u]=t[u]);return s}function yy(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:vy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function vy(t){const i={},s=t.props||!1;if("component"in t)i.default=s;else for(const u in t.components)i[u]=typeof s=="object"?s[u]:s;return i}function dd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function by(t){return t.reduce((i,s)=>Ge(i,s.meta),{})}function pd(t,i){const s={};for(const u in t)s[u]=u in i?i[u]:t[u];return s}function xy(t,i){let s=0,u=i.length;for(;s!==u;){const l=s+u>>1;yf(t,i[l])<0?u=l:s=l+1}const p=Ly(t);return p&&(u=i.lastIndexOf(p,u-1)),u}function Ly(t){let i=t;for(;i=i.parent;)if(vf(i)&&yf(t,i)===0)return i}function vf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cy(t){const i={};if(t===""||t==="?")return i;const u=(t[0]==="?"?t.slice(1):t).split("&");for(let p=0;p<u.length;++p){const l=u[p].replace(uf," "),h=l.indexOf("="),_=Ys(h<0?l:l.slice(0,h)),m=h<0?null:Ys(l.slice(h+1));if(_ in i){let x=i[_];Li(x)||(x=i[_]=[x]),x.push(m)}else i[_]=m}return i}function fd(t){let i="";for(let s in t){const u=t[s];if(s=V0(s),u==null){u!==void 0&&(i+=(i.length?"&":"")+s);continue}(Li(u)?u.map(l=>l&&_c(l)):[u&&_c(u)]).forEach(l=>{l!==void 0&&(i+=(i.length?"&":"")+s,l!=null&&(i+="="+l))})}return i}function wy(t){const i={};for(const s in t){const u=t[s];u!==void 0&&(i[s]=Li(u)?u.map(p=>p==null?null:""+p):u==null?u:""+u)}return i}const ky=Symbol(""),_d=Symbol(""),zl=Symbol(""),Qc=Symbol(""),gc=Symbol("");function Os(){let t=[];function i(u){return t.push(u),()=>{const p=t.indexOf(u);p>-1&&t.splice(p,1)}}function s(){t=[]}return{add:i,list:()=>t.slice(),reset:s}}function mr(t,i,s,u,p,l=h=>h()){const h=u&&(u.enterCallbacks[p]=u.enterCallbacks[p]||[]);return()=>new Promise((_,m)=>{const x=T=>{T===!1?m($o(4,{from:s,to:i})):T instanceof Error?m(T):ly(T)?m($o(2,{from:i,to:T})):(h&&u.enterCallbacks[p]===h&&typeof T=="function"&&h.push(T),_())},b=l(()=>t.call(u&&u.instances[p],i,s,x));let k=Promise.resolve(b);t.length<3&&(k=k.then(x)),k.catch(T=>m(T))})}function Yu(t,i,s,u,p=l=>l()){const l=[];for(const h of t)for(const _ in h.components){let m=h.components[_];if(!(i!=="beforeRouteEnter"&&!h.instances[_]))if(My(m)){const b=(m.__vccOpts||m)[i];b&&l.push(mr(b,s,u,h,_,p))}else{let x=m();l.push(()=>x.then(b=>{if(!b)return Promise.reject(new Error(`Couldn't resolve component "${_}" at "${h.path}"`));const k=T0(b)?b.default:b;h.components[_]=k;const F=(k.__vccOpts||k)[i];return F&&mr(F,s,u,h,_,p)()}))}}return l}function My(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function md(t){const i=hi(zl),s=hi(Qc),u=ce(()=>{const m=ee(t.to);return i.resolve(m)}),p=ce(()=>{const{matched:m}=u.value,{length:x}=m,b=m[x-1],k=s.matched;if(!b||!k.length)return-1;const T=k.findIndex(Vo.bind(null,b));if(T>-1)return T;const F=gd(m[x-2]);return x>1&&gd(b)===F&&k[k.length-1].path!==F?k.findIndex(Vo.bind(null,m[x-2])):T}),l=ce(()=>p.value>-1&&Sy(s.params,u.value.params)),h=ce(()=>p.value>-1&&p.value===s.matched.length-1&&pf(s.params,u.value.params));function _(m={}){return By(m)?i[ee(t.replace)?"replace":"push"](ee(t.to)).catch(Gs):Promise.resolve()}return{route:u,href:ce(()=>u.value.href),isActive:l,isExactActive:h,navigate:_}}const Ey=Bp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:md,setup(t,{slots:i}){const s=na(md(t)),{options:u}=hi(zl),p=ce(()=>({[yd(t.activeClass,u.linkActiveClass,"router-link-active")]:s.isActive,[yd(t.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=i.default&&i.default(s);return t.custom?l:Jc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:p.value},l)}}}),Py=Ey;function By(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const i=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(i))return}return t.preventDefault&&t.preventDefault(),!0}}function Sy(t,i){for(const s in i){const u=i[s],p=t[s];if(typeof u=="string"){if(u!==p)return!1}else if(!Li(p)||p.length!==u.length||u.some((l,h)=>l!==p[h]))return!1}return!0}function gd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yd=(t,i,s)=>t??i??s,Ty=Bp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:i,slots:s}){const u=hi(gc),p=ce(()=>t.route||u.value),l=hi(_d,0),h=ce(()=>{let x=ee(l);const{matched:b}=p.value;let k;for(;(k=b[x])&&!k.components;)x++;return x}),_=ce(()=>p.value.matched[h.value]);ol(_d,ce(()=>h.value+1)),ol(ky,_),ol(gc,p);const m=Zt();return yn(()=>[m.value,_.value,t.name],([x,b,k],[T,F,G])=>{b&&(b.instances[k]=x,F&&F!==b&&x&&x===T&&(b.leaveGuards.size||(b.leaveGuards=F.leaveGuards),b.updateGuards.size||(b.updateGuards=F.updateGuards))),x&&b&&(!F||!Vo(b,F)||!T)&&(b.enterCallbacks[k]||[]).forEach(X=>X(x))},{flush:"post"}),()=>{const x=p.value,b=t.name,k=_.value,T=k&&k.components[b];if(!T)return vd(s.default,{Component:T,route:x});const F=k.props[b],G=F?F===!0?x.params:typeof F=="function"?F(x):F:null,bt=Jc(T,Ge({},G,i,{onVnodeUnmounted:st=>{st.component.isUnmounted&&(k.instances[b]=null)},ref:m}));return vd(s.default,{Component:bt,route:x})||bt}}});function vd(t,i){if(!t)return null;const s=t(i);return s.length===1?s[0]:s}const Ay=Ty;function Oy(t){const i=gy(t.routes,t),s=t.parseQuery||Cy,u=t.stringifyQuery||fd,p=t.history,l=Os(),h=Os(),_=Os(),m=pm(cr);let x=cr;Oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Wu.bind(null,gt=>""+gt),k=Wu.bind(null,H0),T=Wu.bind(null,Ys);function F(gt,zt){let Nt,Jt;return mf(gt)?(Nt=i.getRecordMatcher(gt),Jt=zt):Jt=gt,i.addRoute(Jt,Nt)}function G(gt){const zt=i.getRecordMatcher(gt);zt&&i.removeRoute(zt)}function X(){return i.getRoutes().map(gt=>gt.record)}function bt(gt){return!!i.getRecordMatcher(gt)}function st(gt,zt){if(zt=Ge({},zt||m.value),typeof gt=="string"){const U=Ju(s,gt,zt.path),pt=i.resolve({path:U.path},zt),Lt=p.createHref(U.fullPath);return Ge(U,pt,{params:T(pt.params),hash:Ys(U.hash),redirectedFrom:void 0,href:Lt})}let Nt;if(gt.path!=null)Nt=Ge({},gt,{path:Ju(s,gt.path,zt.path).path});else{const U=Ge({},gt.params);for(const pt in U)U[pt]==null&&delete U[pt];Nt=Ge({},gt,{params:k(U)}),zt.params=k(zt.params)}const Jt=i.resolve(Nt,zt),Me=gt.hash||"";Jt.params=b(T(Jt.params));const Ie=q0(u,Ge({},gt,{hash:G0(Me),path:Jt.path})),j=p.createHref(Ie);return Ge({fullPath:Ie,hash:Me,query:u===fd?wy(gt.query):gt.query||{}},Jt,{redirectedFrom:void 0,href:j})}function ut(gt){return typeof gt=="string"?Ju(s,gt,m.value.path):Ge({},gt)}function $(gt,zt){if(x!==gt)return $o(8,{from:zt,to:gt})}function lt(gt){return $t(gt)}function xt(gt){return lt(Ge(ut(gt),{replace:!0}))}function vt(gt){const zt=gt.matched[gt.matched.length-1];if(zt&&zt.redirect){const{redirect:Nt}=zt;let Jt=typeof Nt=="function"?Nt(gt):Nt;return typeof Jt=="string"&&(Jt=Jt.includes("?")||Jt.includes("#")?Jt=ut(Jt):{path:Jt},Jt.params={}),Ge({query:gt.query,hash:gt.hash,params:Jt.path!=null?{}:gt.params},Jt)}}function $t(gt,zt){const Nt=x=st(gt),Jt=m.value,Me=gt.state,Ie=gt.force,j=gt.replace===!0,U=vt(Nt);if(U)return $t(Ge(ut(U),{state:typeof U=="object"?Ge({},Me,U.state):Me,force:Ie,replace:j}),zt||Nt);const pt=Nt;pt.redirectedFrom=zt;let Lt;return!Ie&&K0(u,Jt,Nt)&&(Lt=$o(16,{to:pt,from:Jt}),ke(Jt,Jt,!0,!1)),(Lt?Promise.resolve(Lt):Dt(pt,Jt)).catch(yt=>Zi(yt)?Zi(yt,2)?yt:Xt(yt):kt(yt,pt,Jt)).then(yt=>{if(yt){if(Zi(yt,2))return $t(Ge({replace:j},ut(yt.to),{state:typeof yt.to=="object"?Ge({},Me,yt.to.state):Me,force:Ie}),zt||pt)}else yt=Bt(pt,Jt,!0,j,Me);return Vt(pt,Jt,yt),yt})}function Tt(gt,zt){const Nt=$(gt,zt);return Nt?Promise.reject(Nt):Promise.resolve()}function Et(gt){const zt=ze.values().next().value;return zt&&typeof zt.runWithContext=="function"?zt.runWithContext(gt):gt()}function Dt(gt,zt){let Nt;const[Jt,Me,Ie]=Dy(gt,zt);Nt=Yu(Jt.reverse(),"beforeRouteLeave",gt,zt);for(const U of Jt)U.leaveGuards.forEach(pt=>{Nt.push(mr(pt,gt,zt))});const j=Tt.bind(null,gt,zt);return Nt.push(j),se(Nt).then(()=>{Nt=[];for(const U of l.list())Nt.push(mr(U,gt,zt));return Nt.push(j),se(Nt)}).then(()=>{Nt=Yu(Me,"beforeRouteUpdate",gt,zt);for(const U of Me)U.updateGuards.forEach(pt=>{Nt.push(mr(pt,gt,zt))});return Nt.push(j),se(Nt)}).then(()=>{Nt=[];for(const U of Ie)if(U.beforeEnter)if(Li(U.beforeEnter))for(const pt of U.beforeEnter)Nt.push(mr(pt,gt,zt));else Nt.push(mr(U.beforeEnter,gt,zt));return Nt.push(j),se(Nt)}).then(()=>(gt.matched.forEach(U=>U.enterCallbacks={}),Nt=Yu(Ie,"beforeRouteEnter",gt,zt,Et),Nt.push(j),se(Nt))).then(()=>{Nt=[];for(const U of h.list())Nt.push(mr(U,gt,zt));return Nt.push(j),se(Nt)}).catch(U=>Zi(U,8)?U:Promise.reject(U))}function Vt(gt,zt,Nt){_.list().forEach(Jt=>Et(()=>Jt(gt,zt,Nt)))}function Bt(gt,zt,Nt,Jt,Me){const Ie=$(gt,zt);if(Ie)return Ie;const j=zt===cr,U=Oo?history.state:{};Nt&&(Jt||j?p.replace(gt.fullPath,Ge({scroll:j&&U&&U.scroll},Me)):p.push(gt.fullPath,Me)),m.value=gt,ke(gt,zt,Nt,j),Xt()}let ae;function Le(){ae||(ae=p.listen((gt,zt,Nt)=>{if(!Ee.listening)return;const Jt=st(gt),Me=vt(Jt);if(Me){$t(Ge(Me,{replace:!0}),Jt).catch(Gs);return}x=Jt;const Ie=m.value;Oo&&ny(sd(Ie.fullPath,Nt.delta),jl()),Dt(Jt,Ie).catch(j=>Zi(j,12)?j:Zi(j,2)?($t(j.to,Jt).then(U=>{Zi(U,20)&&!Nt.delta&&Nt.type===Xs.pop&&p.go(-1,!1)}).catch(Gs),Promise.reject()):(Nt.delta&&p.go(-Nt.delta,!1),kt(j,Jt,Ie))).then(j=>{j=j||Bt(Jt,Ie,!1),j&&(Nt.delta&&!Zi(j,8)?p.go(-Nt.delta,!1):Nt.type===Xs.pop&&Zi(j,20)&&p.go(-1,!1)),Vt(Jt,Ie,j)}).catch(Gs)}))}let Ae=Os(),It=Os(),pe;function kt(gt,zt,Nt){Xt(gt);const Jt=It.list();return Jt.length?Jt.forEach(Me=>Me(gt,zt,Nt)):console.error(gt),Promise.reject(gt)}function Cn(){return pe&&m.value!==cr?Promise.resolve():new Promise((gt,zt)=>{Ae.add([gt,zt])})}function Xt(gt){return pe||(pe=!gt,Le(),Ae.list().forEach(([zt,Nt])=>gt?Nt(gt):zt()),Ae.reset()),gt}function ke(gt,zt,Nt,Jt){const{scrollBehavior:Me}=t;if(!Oo||!Me)return Promise.resolve();const Ie=!Nt&&iy(sd(gt.fullPath,0))||(Jt||!Nt)&&history.state&&history.state.scroll||null;return Sl().then(()=>Me(gt,zt,Ie)).then(j=>j&&ey(j)).catch(j=>kt(j,gt,zt))}const Fe=gt=>p.go(gt);let Xe;const ze=new Set,Ee={currentRoute:m,listening:!0,addRoute:F,removeRoute:G,hasRoute:bt,getRoutes:X,resolve:st,options:t,push:lt,replace:xt,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:l.add,beforeResolve:h.add,afterEach:_.add,onError:It.add,isReady:Cn,install(gt){const zt=this;gt.component("RouterLink",Py),gt.component("RouterView",Ay),gt.config.globalProperties.$router=zt,Object.defineProperty(gt.config.globalProperties,"$route",{enumerable:!0,get:()=>ee(m)}),Oo&&!Xe&&m.value===cr&&(Xe=!0,lt(p.location).catch(Me=>{}));const Nt={};for(const Me in cr)Object.defineProperty(Nt,Me,{get:()=>m.value[Me],enumerable:!0});gt.provide(zl,zt),gt.provide(Qc,dp(Nt)),gt.provide(gc,m);const Jt=gt.unmount;ze.add(gt),gt.unmount=function(){ze.delete(gt),ze.size<1&&(x=cr,ae&&ae(),ae=null,m.value=cr,Xe=!1,pe=!1),Jt()}}};function se(gt){return gt.reduce((zt,Nt)=>zt.then(()=>Et(Nt)),Promise.resolve())}return Ee}function Dy(t,i){const s=[],u=[],p=[],l=Math.max(i.matched.length,t.matched.length);for(let h=0;h<l;h++){const _=i.matched[h];_&&(t.matched.find(x=>Vo(x,_))?u.push(_):s.push(_));const m=t.matched[h];m&&(i.matched.find(x=>Vo(x,m))||p.push(m))}return[s,u,p]}function oa(){return hi(zl)}function Gl(){return hi(Qc)}var Ry=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let bf;const Vl=t=>bf=t,xf=Symbol();function yc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $s;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($s||($s={}));function Iy(){const t=Qd(!0),i=t.run(()=>Zt({}));let s=[],u=[];const p=Gc({install(l){Vl(p),p._a=l,l.provide(xf,p),l.config.globalProperties.$pinia=p,u.forEach(h=>s.push(h)),u=[]},use(l){return!this._a&&!Ry?u.push(l):s.push(l),this},_p:s,_a:null,_e:t,_s:new Map,state:i});return p}const Lf=()=>{};function bd(t,i,s,u=Lf){t.push(i);const p=()=>{const l=t.indexOf(i);l>-1&&(t.splice(l,1),u())};return!s&&tp()&&U_(p),p}function So(t,...i){t.slice().forEach(s=>{s(...i)})}const Fy=t=>t();function vc(t,i){t instanceof Map&&i instanceof Map&&i.forEach((s,u)=>t.set(u,s)),t instanceof Set&&i instanceof Set&&i.forEach(t.add,t);for(const s in i){if(!i.hasOwnProperty(s))continue;const u=i[s],p=t[s];yc(p)&&yc(u)&&t.hasOwnProperty(s)&&!vn(u)&&!Kr(u)?t[s]=vc(p,u):t[s]=u}return t}const Ny=Symbol();function jy(t){return!yc(t)||!t.hasOwnProperty(Ny)}const{assign:dr}=Object;function zy(t){return!!(vn(t)&&t.effect)}function Gy(t,i,s,u){const{state:p,actions:l,getters:h}=i,_=s.state.value[t];let m;function x(){_||(s.state.value[t]=p?p():{});const b=mm(s.state.value[t]);return dr(b,l,Object.keys(h||{}).reduce((k,T)=>(k[T]=Gc(ce(()=>{Vl(s);const F=s._s.get(t);return h[T].call(F,F)})),k),{}))}return m=Cf(t,x,i,s,u,!0),m}function Cf(t,i,s={},u,p,l){let h;const _=dr({actions:{}},s),m={deep:!0};let x,b,k=[],T=[],F;const G=u.state.value[t];!l&&!G&&(u.state.value[t]={}),Zt({});let X;function bt(Tt){let Et;x=b=!1,typeof Tt=="function"?(Tt(u.state.value[t]),Et={type:$s.patchFunction,storeId:t,events:F}):(vc(u.state.value[t],Tt),Et={type:$s.patchObject,payload:Tt,storeId:t,events:F});const Dt=X=Symbol();Sl().then(()=>{X===Dt&&(x=!0)}),b=!0,So(k,Et,u.state.value[t])}const st=l?function(){const{state:Et}=s,Dt=Et?Et():{};this.$patch(Vt=>{dr(Vt,Dt)})}:Lf;function ut(){h.stop(),k=[],T=[],u._s.delete(t)}function $(Tt,Et){return function(){Vl(u);const Dt=Array.from(arguments),Vt=[],Bt=[];function ae(It){Vt.push(It)}function Le(It){Bt.push(It)}So(T,{args:Dt,name:Tt,store:xt,after:ae,onError:Le});let Ae;try{Ae=Et.apply(this&&this.$id===t?this:xt,Dt)}catch(It){throw So(Bt,It),It}return Ae instanceof Promise?Ae.then(It=>(So(Vt,It),It)).catch(It=>(So(Bt,It),Promise.reject(It))):(So(Vt,Ae),Ae)}}const lt={_p:u,$id:t,$onAction:bd.bind(null,T),$patch:bt,$reset:st,$subscribe(Tt,Et={}){const Dt=bd(k,Tt,Et.detached,()=>Vt()),Vt=h.run(()=>yn(()=>u.state.value[t],Bt=>{(Et.flush==="sync"?b:x)&&Tt({storeId:t,type:$s.direct,events:F},Bt)},dr({},m,Et)));return Dt},$dispose:ut},xt=na(lt);u._s.set(t,xt);const $t=(u._a&&u._a.runWithContext||Fy)(()=>u._e.run(()=>(h=Qd()).run(i)));for(const Tt in $t){const Et=$t[Tt];if(vn(Et)&&!zy(Et)||Kr(Et))l||(G&&jy(Et)&&(vn(Et)?Et.value=G[Tt]:vc(Et,G[Tt])),u.state.value[t][Tt]=Et);else if(typeof Et=="function"){const Dt=$(Tt,Et);$t[Tt]=Dt,_.actions[Tt]=Et}}return dr(xt,$t),dr(Re(xt),$t),Object.defineProperty(xt,"$state",{get:()=>u.state.value[t],set:Tt=>{bt(Et=>{dr(Et,Tt)})}}),u._p.forEach(Tt=>{dr(xt,h.run(()=>Tt({store:xt,app:u._a,pinia:u,options:_})))}),G&&l&&s.hydrate&&s.hydrate(xt.$state,G),x=!0,b=!0,xt}function sa(t,i,s){let u,p;const l=typeof i=="function";typeof t=="string"?(u=t,p=l?s:i):(p=t,u=t.id);function h(_,m){const x=Um();return _=_||(x?hi(xf,null):null),_&&Vl(_),_=bf,_._s.has(u)||(l?Cf(u,i,p,_):Gy(u,p,_)),_._s.get(u)}return h.$id=u,h}const th=sa("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(t){this.nextAuthor=t}}});var Vy={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const $y={key:0},Hy={__name:"FooterAnalytics",setup(t){const i={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},u=Object.keys(Vy.analytics_services||{}).map(p=>i[p]).filter(Boolean).join("; ");return(p,l)=>ee(u)?(I(),Q("span",$y,"This site uses "+oe(ee(u))+".",1)):Ft("",!0)}};var Uy={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const Zy={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},qy={class:"container mx-auto text-sm pt-2 pb-4"},Ky={class:"pt-4 pb-2 break-words"},Wy=["innerHTML"],Jy={key:0},Yy=["href"],Xy={class:"flex items-center text-xs gap-2"},Qy=["src"],tv=Y("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1),ev={class:"flex flex-col sm:flex-row justify-between gap-4"},nv={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},iv=Y("span",null,[ue(" Data provided by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1),rv=Y("span",null,[ue(" Pages by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1),ov=Y("span",null,[ue(" Support (Services) by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1),sv={__name:"LayoutFooter",setup(t){const{project_authors:i,project_citation:s,project_url:u,copyright_text:p,copyright_image:l,copyright_image_link:h,hash_mode:_}=Uy,m=th(),x=new Date().toISOString().split("T")[0],b=Gl(),k=ce(()=>{const T=(u||"").replace(/\/$/,"");return T.length?_?T+"/#"+b.fullPath:T+b.fullPath:""});return(T,F)=>{const G=_t("ClientOnly"),X=_t("TrackerReport");return I(),Q("footer",Zy,[Y("div",qy,[Y("div",Ky,[ue(oe(ee(i))+" ",1),et(G,null,{default:ft(()=>[Y("span",{innerHTML:ee(m).nextAuthor},null,8,Wy)]),_:1}),ue(" "+oe(ee(s))+". ",1),et(G,null,{default:ft(()=>[Y("span",null,"Retrieved on "+oe(ee(x)),1)]),_:1}),k.value?(I(),Q("span",Jy,[ue(" at "),Y("a",{class:"text-secondary-color",href:k.value},oe(k.value),9,Yy)])):Ft("",!0)]),Y("div",Xy,[(I(),St(Uo(ee(h)?"a":"span"),{href:ee(h),class:"min-w-fit"},{default:ft(()=>[ee(l)?(I(),Q("img",{key:0,src:ee(l),alt:"copyright"},null,8,Qy)):Ft("",!0)]),_:1},8,["href"])),Y("span",null,oe(ee(p)),1)]),tv,Y("div",ev,[Y("div",nv,[iv,rv,ov,et(Hy,{class:"italic"})]),et(X,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},av={class:"min-h-screen h-screen flex flex-col justify-between"},lv={class:"flex flex-col flex-grow"},uv={__name:"Application",setup(t){return(i,s)=>(I(),Q("div",av,[Y("div",lv,[et(S0),Ue(i.$slots,"default")]),et(sv)]))}};var xd={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const cv={__name:"App",setup(t){return Yc({title:xd.project_name,meta:xd.metadata}),(i,s)=>{const u=_t("router-view");return I(),St(uv,null,{default:ft(()=>[et(u)]),_:1})}}},ge=(t,i)=>{const s=t.__vccOpts||t;for(const[u,p]of i)s[u]=p;return s},hv={},dv={class:"mx-auto"},pv=Y("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[Y("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),Y("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),fv=[pv];function _v(t,i){return I(),Q("div",dv,fv)}const mv=ge(hv,[["render",_v]]),gv={},yv={class:"container mx-auto text-center relative top-1/4"},vv=Y("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),bv=Y("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),xv=[vv,bv];function Lv(t,i){return I(),Q("div",yv,xv)}const Cv=ge(gv,[["render",Lv]]),wv=[{name:"homepage",path:"/",alias:"/home",component:Cv}],kv={},Mv={class:"container mx-auto text-center relative top-1/4"},Ev=Y("h1",{class:"text-7xl text-base-lighter"},"500",-1),Pv=Y("p",null,"Internal Server Error.",-1),Bv=Y("p",{class:"m-4 my-10 text-xl"},[ue(" Uh oh, looks like something went wrong!"),Y("br"),ue(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1),Sv=[Ev,Pv,Bv];function Tv(t,i){return I(),Q("div",Mv,Sv)}const Av=ge(kv,[["render",Tv]]),Ov={},Dv={class:"container mx-auto text-center relative top-1/4"},Rv=Y("h1",{class:"text-7xl text-base-lighter"},"404",-1),Iv=Y("p",null,"Page not found.",-1),Fv=Y("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1),Nv=[Rv,Iv,Fv];function jv(t,i){return I(),Q("div",Dv,Nv)}const zv=ge(Ov,[["render",jv]]),Gv=[{path:"/500",name:"httpError500",component:Av,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:zv,meta:{statusCode:404}}],$l=sa("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>i=>t.requests[i],sitemap:t=>{const i=Object.keys(t.requests).sort();return Object.fromEntries(i.map(s=>[s,t.requests[s].url]))}},actions:{setRequest(t,{data:i,request:s}){var p;const u=((p=s.res)==null?void 0:p.responseUrl)||s.responseURL;this.requests[t]={url:u,data:i}}}}),Vv="FamilyGroup",$v="GenusGroup",Hv="SpeciesGroup",Uv="SpeciesAndInfraspeciesGroup",Qs={CanceledError:"CanceledError"},Ld=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function Lr(t,i){const s=$l(),u=i();return u.then(p=>{s.setRequest(t,p)}).catch(p=>{p.name!==Qs.CanceledError&&s.setRequest(t,p.response)}),u}function wf(t,i){return function(){return t.apply(i,arguments)}}const{toString:Zv}=Object.prototype,{getPrototypeOf:eh}=Object,Hl=(t=>i=>{const s=Zv.call(i);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ci=t=>(t=t.toLowerCase(),i=>Hl(i)===t),Ul=t=>i=>typeof i===t,{isArray:Zo}=Array,ta=Ul("undefined");function qv(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kf=Ci("ArrayBuffer");function Kv(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&kf(t.buffer),i}const Wv=Ul("string"),di=Ul("function"),Mf=Ul("number"),Zl=t=>t!==null&&typeof t=="object",Jv=t=>t===!0||t===!1,ll=t=>{if(Hl(t)!=="object")return!1;const i=eh(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yv=Ci("Date"),Xv=Ci("File"),Qv=Ci("Blob"),tb=Ci("FileList"),eb=t=>Zl(t)&&di(t.pipe),nb=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||di(t.append)&&((i=Hl(t))==="formdata"||i==="object"&&di(t.toString)&&t.toString()==="[object FormData]"))},ib=Ci("URLSearchParams"),[rb,ob,sb,ab]=["ReadableStream","Request","Response","Headers"].map(Ci),lb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(t,i,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let u,p;if(typeof t!="object"&&(t=[t]),Zo(t))for(u=0,p=t.length;u<p;u++)i.call(null,t[u],u,t);else{const l=s?Object.getOwnPropertyNames(t):Object.keys(t),h=l.length;let _;for(u=0;u<h;u++)_=l[u],i.call(null,t[_],_,t)}}function Ef(t,i){i=i.toLowerCase();const s=Object.keys(t);let u=s.length,p;for(;u-- >0;)if(p=s[u],i===p.toLowerCase())return p;return null}const Pf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bf=t=>!ta(t)&&t!==Pf;function bc(){const{caseless:t}=Bf(this)&&this||{},i={},s=(u,p)=>{const l=t&&Ef(i,p)||p;ll(i[l])&&ll(u)?i[l]=bc(i[l],u):ll(u)?i[l]=bc({},u):Zo(u)?i[l]=u.slice():i[l]=u};for(let u=0,p=arguments.length;u<p;u++)arguments[u]&&aa(arguments[u],s);return i}const ub=(t,i,s,{allOwnKeys:u}={})=>(aa(i,(p,l)=>{s&&di(p)?t[l]=wf(p,s):t[l]=p},{allOwnKeys:u}),t),cb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hb=(t,i,s,u)=>{t.prototype=Object.create(i.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),s&&Object.assign(t.prototype,s)},db=(t,i,s,u)=>{let p,l,h;const _={};if(i=i||{},t==null)return i;do{for(p=Object.getOwnPropertyNames(t),l=p.length;l-- >0;)h=p[l],(!u||u(h,t,i))&&!_[h]&&(i[h]=t[h],_[h]=!0);t=s!==!1&&eh(t)}while(t&&(!s||s(t,i))&&t!==Object.prototype);return i},pb=(t,i,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=i.length;const u=t.indexOf(i,s);return u!==-1&&u===s},fb=t=>{if(!t)return null;if(Zo(t))return t;let i=t.length;if(!Mf(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=t[i];return s},_b=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),mb=(t,i)=>{const u=(t&&t[Symbol.iterator]).call(t);let p;for(;(p=u.next())&&!p.done;){const l=p.value;i.call(t,l[0],l[1])}},gb=(t,i)=>{let s;const u=[];for(;(s=t.exec(i))!==null;)u.push(s);return u},yb=Ci("HTMLFormElement"),vb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,u,p){return u.toUpperCase()+p}),Cd=(({hasOwnProperty:t})=>(i,s)=>t.call(i,s))(Object.prototype),bb=Ci("RegExp"),Sf=(t,i)=>{const s=Object.getOwnPropertyDescriptors(t),u={};aa(s,(p,l)=>{let h;(h=i(p,l,t))!==!1&&(u[l]=h||p)}),Object.defineProperties(t,u)},xb=t=>{Sf(t,(i,s)=>{if(di(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const u=t[s];if(di(u)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Lb=(t,i)=>{const s={},u=p=>{p.forEach(l=>{s[l]=!0})};return Zo(t)?u(t):u(String(t).split(i)),s},Cb=()=>{},wb=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i,Xu="abcdefghijklmnopqrstuvwxyz",wd="0123456789",Tf={DIGIT:wd,ALPHA:Xu,ALPHA_DIGIT:Xu+Xu.toUpperCase()+wd},kb=(t=16,i=Tf.ALPHA_DIGIT)=>{let s="";const{length:u}=i;for(;t--;)s+=i[Math.random()*u|0];return s};function Mb(t){return!!(t&&di(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Eb=t=>{const i=new Array(10),s=(u,p)=>{if(Zl(u)){if(i.indexOf(u)>=0)return;if(!("toJSON"in u)){i[p]=u;const l=Zo(u)?[]:{};return aa(u,(h,_)=>{const m=s(h,p+1);!ta(m)&&(l[_]=m)}),i[p]=void 0,l}}return u};return s(t,0)},Pb=Ci("AsyncFunction"),Bb=t=>t&&(Zl(t)||di(t))&&di(t.then)&&di(t.catch),mt={isArray:Zo,isArrayBuffer:kf,isBuffer:qv,isFormData:nb,isArrayBufferView:Kv,isString:Wv,isNumber:Mf,isBoolean:Jv,isObject:Zl,isPlainObject:ll,isReadableStream:rb,isRequest:ob,isResponse:sb,isHeaders:ab,isUndefined:ta,isDate:Yv,isFile:Xv,isBlob:Qv,isRegExp:bb,isFunction:di,isStream:eb,isURLSearchParams:ib,isTypedArray:_b,isFileList:tb,forEach:aa,merge:bc,extend:ub,trim:lb,stripBOM:cb,inherits:hb,toFlatObject:db,kindOf:Hl,kindOfTest:Ci,endsWith:pb,toArray:fb,forEachEntry:mb,matchAll:gb,isHTMLForm:yb,hasOwnProperty:Cd,hasOwnProp:Cd,reduceDescriptors:Sf,freezeMethods:xb,toObjectSet:Lb,toCamelCase:vb,noop:Cb,toFiniteNumber:wb,findKey:Ef,global:Pf,isContextDefined:Bf,ALPHABET:Tf,generateString:kb,isSpecCompliantForm:Mb,toJSONObject:Eb,isAsyncFn:Pb,isThenable:Bb};function ve(t,i,s,u,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),u&&(this.request=u),p&&(this.response=p)}mt.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Af=ve.prototype,Of={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Of[t]={value:t}});Object.defineProperties(ve,Of);Object.defineProperty(Af,"isAxiosError",{value:!0});ve.from=(t,i,s,u,p,l)=>{const h=Object.create(Af);return mt.toFlatObject(t,h,function(m){return m!==Error.prototype},_=>_!=="isAxiosError"),ve.call(h,t.message,i,s,u,p),h.cause=t,h.name=t.name,l&&Object.assign(h,l),h};const Sb=null;function xc(t){return mt.isPlainObject(t)||mt.isArray(t)}function Df(t){return mt.endsWith(t,"[]")?t.slice(0,-2):t}function kd(t,i,s){return t?t.concat(i).map(function(p,l){return p=Df(p),!s&&l?"["+p+"]":p}).join(s?".":""):i}function Tb(t){return mt.isArray(t)&&!t.some(xc)}const Ab=mt.toFlatObject(mt,{},null,function(i){return/^is[A-Z]/.test(i)});function ql(t,i,s){if(!mt.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,s=mt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,bt){return!mt.isUndefined(bt[X])});const u=s.metaTokens,p=s.visitor||b,l=s.dots,h=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(i);if(!mt.isFunction(p))throw new TypeError("visitor must be a function");function x(G){if(G===null)return"";if(mt.isDate(G))return G.toISOString();if(!m&&mt.isBlob(G))throw new ve("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(G)||mt.isTypedArray(G)?m&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function b(G,X,bt){let st=G;if(G&&!bt&&typeof G=="object"){if(mt.endsWith(X,"{}"))X=u?X:X.slice(0,-2),G=JSON.stringify(G);else if(mt.isArray(G)&&Tb(G)||(mt.isFileList(G)||mt.endsWith(X,"[]"))&&(st=mt.toArray(G)))return X=Df(X),st.forEach(function($,lt){!(mt.isUndefined($)||$===null)&&i.append(h===!0?kd([X],lt,l):h===null?X:X+"[]",x($))}),!1}return xc(G)?!0:(i.append(kd(bt,X,l),x(G)),!1)}const k=[],T=Object.assign(Ab,{defaultVisitor:b,convertValue:x,isVisitable:xc});function F(G,X){if(!mt.isUndefined(G)){if(k.indexOf(G)!==-1)throw Error("Circular reference detected in "+X.join("."));k.push(G),mt.forEach(G,function(st,ut){(!(mt.isUndefined(st)||st===null)&&p.call(i,st,mt.isString(ut)?ut.trim():ut,X,T))===!0&&F(st,X?X.concat(ut):[ut])}),k.pop()}}if(!mt.isObject(t))throw new TypeError("data must be an object");return F(t),i}function Md(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return i[u]})}function nh(t,i){this._pairs=[],t&&ql(t,this,i)}const Rf=nh.prototype;Rf.append=function(i,s){this._pairs.push([i,s])};Rf.toString=function(i){const s=i?function(u){return i.call(this,u,Md)}:Md;return this._pairs.map(function(p){return s(p[0])+"="+s(p[1])},"").join("&")};function Ob(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function If(t,i,s){if(!i)return t;const u=s&&s.encode||Ob,p=s&&s.serialize;let l;if(p?l=p(i,s):l=mt.isURLSearchParams(i)?i.toString():new nh(i,s).toString(u),l){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Ed{constructor(){this.handlers=[]}use(i,s,u){return this.handlers.push({fulfilled:i,rejected:s,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){mt.forEach(this.handlers,function(u){u!==null&&i(u)})}}const Ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Db=typeof URLSearchParams<"u"?URLSearchParams:nh,Rb=typeof FormData<"u"?FormData:null,Ib=typeof Blob<"u"?Blob:null,Fb={isBrowser:!0,classes:{URLSearchParams:Db,FormData:Rb,Blob:Ib},protocols:["http","https","file","blob","url","data"]},ih=typeof window<"u"&&typeof document<"u",Nb=(t=>ih&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),jb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zb=ih&&window.location.href||"http://localhost",Gb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ih,hasStandardBrowserEnv:Nb,hasStandardBrowserWebWorkerEnv:jb,origin:zb},Symbol.toStringTag,{value:"Module"})),xi={...Gb,...Fb};function Vb(t,i){return ql(t,new xi.classes.URLSearchParams,Object.assign({visitor:function(s,u,p,l){return xi.isNode&&mt.isBuffer(s)?(this.append(u,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},i))}function $b(t){return mt.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Hb(t){const i={},s=Object.keys(t);let u;const p=s.length;let l;for(u=0;u<p;u++)l=s[u],i[l]=t[l];return i}function Nf(t){function i(s,u,p,l){let h=s[l++];if(h==="__proto__")return!0;const _=Number.isFinite(+h),m=l>=s.length;return h=!h&&mt.isArray(p)?p.length:h,m?(mt.hasOwnProp(p,h)?p[h]=[p[h],u]:p[h]=u,!_):((!p[h]||!mt.isObject(p[h]))&&(p[h]=[]),i(s,u,p[h],l)&&mt.isArray(p[h])&&(p[h]=Hb(p[h])),!_)}if(mt.isFormData(t)&&mt.isFunction(t.entries)){const s={};return mt.forEachEntry(t,(u,p)=>{i($b(u),p,s,0)}),s}return null}function Ub(t,i,s){if(mt.isString(t))try{return(i||JSON.parse)(t),mt.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(s||JSON.stringify)(t)}const la={transitional:Ff,adapter:["xhr","http","fetch"],transformRequest:[function(i,s){const u=s.getContentType()||"",p=u.indexOf("application/json")>-1,l=mt.isObject(i);if(l&&mt.isHTMLForm(i)&&(i=new FormData(i)),mt.isFormData(i))return p?JSON.stringify(Nf(i)):i;if(mt.isArrayBuffer(i)||mt.isBuffer(i)||mt.isStream(i)||mt.isFile(i)||mt.isBlob(i)||mt.isReadableStream(i))return i;if(mt.isArrayBufferView(i))return i.buffer;if(mt.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let _;if(l){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Vb(i,this.formSerializer).toString();if((_=mt.isFileList(i))||u.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ql(_?{"files[]":i}:i,m&&new m,this.formSerializer)}}return l||p?(s.setContentType("application/json",!1),Ub(i)):i}],transformResponse:[function(i){const s=this.transitional||la.transitional,u=s&&s.forcedJSONParsing,p=this.responseType==="json";if(mt.isResponse(i)||mt.isReadableStream(i))return i;if(i&&mt.isString(i)&&(u&&!this.responseType||p)){const h=!(s&&s.silentJSONParsing)&&p;try{return JSON.parse(i)}catch(_){if(h)throw _.name==="SyntaxError"?ve.from(_,ve.ERR_BAD_RESPONSE,this,null,this.response):_}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],t=>{la.headers[t]={}});const Zb=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qb=t=>{const i={};let s,u,p;return t&&t.split(`
`).forEach(function(h){p=h.indexOf(":"),s=h.substring(0,p).trim().toLowerCase(),u=h.substring(p+1).trim(),!(!s||i[s]&&Zb[s])&&(s==="set-cookie"?i[s]?i[s].push(u):i[s]=[u]:i[s]=i[s]?i[s]+", "+u:u)}),i},Pd=Symbol("internals");function Ds(t){return t&&String(t).trim().toLowerCase()}function ul(t){return t===!1||t==null?t:mt.isArray(t)?t.map(ul):String(t)}function Kb(t){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=s.exec(t);)i[u[1]]=u[2];return i}const Wb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qu(t,i,s,u,p){if(mt.isFunction(u))return u.call(this,i,s);if(p&&(i=s),!!mt.isString(i)){if(mt.isString(u))return i.indexOf(u)!==-1;if(mt.isRegExp(u))return u.test(i)}}function Jb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,u)=>s.toUpperCase()+u)}function Yb(t,i){const s=mt.toCamelCase(" "+i);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+s,{value:function(p,l,h){return this[u].call(this,i,p,l,h)},configurable:!0})})}class Kn{constructor(i){i&&this.set(i)}set(i,s,u){const p=this;function l(_,m,x){const b=Ds(m);if(!b)throw new Error("header name must be a non-empty string");const k=mt.findKey(p,b);(!k||p[k]===void 0||x===!0||x===void 0&&p[k]!==!1)&&(p[k||m]=ul(_))}const h=(_,m)=>mt.forEach(_,(x,b)=>l(x,b,m));if(mt.isPlainObject(i)||i instanceof this.constructor)h(i,s);else if(mt.isString(i)&&(i=i.trim())&&!Wb(i))h(qb(i),s);else if(mt.isHeaders(i))for(const[_,m]of i.entries())l(m,_,u);else i!=null&&l(s,i,u);return this}get(i,s){if(i=Ds(i),i){const u=mt.findKey(this,i);if(u){const p=this[u];if(!s)return p;if(s===!0)return Kb(p);if(mt.isFunction(s))return s.call(this,p,u);if(mt.isRegExp(s))return s.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Ds(i),i){const u=mt.findKey(this,i);return!!(u&&this[u]!==void 0&&(!s||Qu(this,this[u],u,s)))}return!1}delete(i,s){const u=this;let p=!1;function l(h){if(h=Ds(h),h){const _=mt.findKey(u,h);_&&(!s||Qu(u,u[_],_,s))&&(delete u[_],p=!0)}}return mt.isArray(i)?i.forEach(l):l(i),p}clear(i){const s=Object.keys(this);let u=s.length,p=!1;for(;u--;){const l=s[u];(!i||Qu(this,this[l],l,i,!0))&&(delete this[l],p=!0)}return p}normalize(i){const s=this,u={};return mt.forEach(this,(p,l)=>{const h=mt.findKey(u,l);if(h){s[h]=ul(p),delete s[l];return}const _=i?Jb(l):String(l).trim();_!==l&&delete s[l],s[_]=ul(p),u[_]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return mt.forEach(this,(u,p)=>{u!=null&&u!==!1&&(s[p]=i&&mt.isArray(u)?u.join(", "):u)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const u=new this(i);return s.forEach(p=>u.set(p)),u}static accessor(i){const u=(this[Pd]=this[Pd]={accessors:{}}).accessors,p=this.prototype;function l(h){const _=Ds(h);u[_]||(Yb(p,h),u[_]=!0)}return mt.isArray(i)?i.forEach(l):l(i),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(Kn.prototype,({value:t},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(u){this[s]=u}}});mt.freezeMethods(Kn);function tc(t,i){const s=this||la,u=i||s,p=Kn.from(u.headers);let l=u.data;return mt.forEach(t,function(_){l=_.call(s,l,p.normalize(),i?i.status:void 0)}),p.normalize(),l}function jf(t){return!!(t&&t.__CANCEL__)}function qo(t,i,s){ve.call(this,t??"canceled",ve.ERR_CANCELED,i,s),this.name="CanceledError"}mt.inherits(qo,ve,{__CANCEL__:!0});function zf(t,i,s){const u=s.config.validateStatus;!s.status||!u||u(s.status)?t(s):i(new ve("Request failed with status code "+s.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Xb(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function Qb(t,i){t=t||10;const s=new Array(t),u=new Array(t);let p=0,l=0,h;return i=i!==void 0?i:1e3,function(m){const x=Date.now(),b=u[l];h||(h=x),s[p]=m,u[p]=x;let k=l,T=0;for(;k!==p;)T+=s[k++],k=k%t;if(p=(p+1)%t,p===l&&(l=(l+1)%t),x-h<i)return;const F=b&&x-b;return F?Math.round(T*1e3/F):void 0}}function t1(t,i){let s=0;const u=1e3/i;let p=null;return function(){const h=this===!0,_=Date.now();if(h||_-s>u)return p&&(clearTimeout(p),p=null),s=_,t.apply(null,arguments);p||(p=setTimeout(()=>(p=null,s=Date.now(),t.apply(null,arguments)),u-(_-s)))}}const Ll=(t,i,s=3)=>{let u=0;const p=Qb(50,250);return t1(l=>{const h=l.loaded,_=l.lengthComputable?l.total:void 0,m=h-u,x=p(m),b=h<=_;u=h;const k={loaded:h,total:_,progress:_?h/_:void 0,bytes:m,rate:x||void 0,estimated:x&&_&&b?(_-h)/x:void 0,event:l,lengthComputable:_!=null};k[i?"download":"upload"]=!0,t(k)},s)},e1=xi.hasStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let u;function p(l){let h=l;return i&&(s.setAttribute("href",h),h=s.href),s.setAttribute("href",h),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return u=p(window.location.href),function(h){const _=mt.isString(h)?p(h):h;return _.protocol===u.protocol&&_.host===u.host}}():function(){return function(){return!0}}(),n1=xi.hasStandardBrowserEnv?{write(t,i,s,u,p,l){const h=[t+"="+encodeURIComponent(i)];mt.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),mt.isString(u)&&h.push("path="+u),mt.isString(p)&&h.push("domain="+p),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r1(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function Gf(t,i){return t&&!i1(i)?r1(t,i):i}const Bd=t=>t instanceof Kn?{...t}:t;function Jr(t,i){i=i||{};const s={};function u(x,b,k){return mt.isPlainObject(x)&&mt.isPlainObject(b)?mt.merge.call({caseless:k},x,b):mt.isPlainObject(b)?mt.merge({},b):mt.isArray(b)?b.slice():b}function p(x,b,k){if(mt.isUndefined(b)){if(!mt.isUndefined(x))return u(void 0,x,k)}else return u(x,b,k)}function l(x,b){if(!mt.isUndefined(b))return u(void 0,b)}function h(x,b){if(mt.isUndefined(b)){if(!mt.isUndefined(x))return u(void 0,x)}else return u(void 0,b)}function _(x,b,k){if(k in i)return u(x,b);if(k in t)return u(void 0,x)}const m={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:_,headers:(x,b)=>p(Bd(x),Bd(b),!0)};return mt.forEach(Object.keys(Object.assign({},t,i)),function(b){const k=m[b]||p,T=k(t[b],i[b],b);mt.isUndefined(T)&&k!==_||(s[b]=T)}),s}const Vf=t=>{const i=Jr({},t);let{data:s,withXSRFToken:u,xsrfHeaderName:p,xsrfCookieName:l,headers:h,auth:_}=i;i.headers=h=Kn.from(h),i.url=If(Gf(i.baseURL,i.url),t.params,t.paramsSerializer),_&&h.set("Authorization","Basic "+btoa((_.username||"")+":"+(_.password?unescape(encodeURIComponent(_.password)):"")));let m;if(mt.isFormData(s)){if(xi.hasStandardBrowserEnv||xi.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((m=h.getContentType())!==!1){const[x,...b]=m?m.split(";").map(k=>k.trim()).filter(Boolean):[];h.setContentType([x||"multipart/form-data",...b].join("; "))}}if(xi.hasStandardBrowserEnv&&(u&&mt.isFunction(u)&&(u=u(i)),u||u!==!1&&e1(i.url))){const x=p&&l&&n1.read(l);x&&h.set(p,x)}return i},o1=typeof XMLHttpRequest<"u",s1=o1&&function(t){return new Promise(function(s,u){const p=Vf(t);let l=p.data;const h=Kn.from(p.headers).normalize();let{responseType:_}=p,m;function x(){p.cancelToken&&p.cancelToken.unsubscribe(m),p.signal&&p.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(p.method.toUpperCase(),p.url,!0),b.timeout=p.timeout;function k(){if(!b)return;const F=Kn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),X={data:!_||_==="text"||_==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:F,config:t,request:b};zf(function(st){s(st),x()},function(st){u(st),x()},X),b=null}"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(k)},b.onabort=function(){b&&(u(new ve("Request aborted",ve.ECONNABORTED,p,b)),b=null)},b.onerror=function(){u(new ve("Network Error",ve.ERR_NETWORK,p,b)),b=null},b.ontimeout=function(){let G=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const X=p.transitional||Ff;p.timeoutErrorMessage&&(G=p.timeoutErrorMessage),u(new ve(G,X.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,p,b)),b=null},l===void 0&&h.setContentType(null),"setRequestHeader"in b&&mt.forEach(h.toJSON(),function(G,X){b.setRequestHeader(X,G)}),mt.isUndefined(p.withCredentials)||(b.withCredentials=!!p.withCredentials),_&&_!=="json"&&(b.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&b.addEventListener("progress",Ll(p.onDownloadProgress,!0)),typeof p.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",Ll(p.onUploadProgress)),(p.cancelToken||p.signal)&&(m=F=>{b&&(u(!F||F.type?new qo(null,t,b):F),b.abort(),b=null)},p.cancelToken&&p.cancelToken.subscribe(m),p.signal&&(p.signal.aborted?m():p.signal.addEventListener("abort",m)));const T=Xb(p.url);if(T&&xi.protocols.indexOf(T)===-1){u(new ve("Unsupported protocol "+T+":",ve.ERR_BAD_REQUEST,t));return}b.send(l||null)})},a1=(t,i)=>{let s=new AbortController,u;const p=function(m){if(!u){u=!0,h();const x=m instanceof Error?m:this.reason;s.abort(x instanceof ve?x:new qo(x instanceof Error?x.message:x))}};let l=i&&setTimeout(()=>{p(new ve(`timeout ${i} of ms exceeded`,ve.ETIMEDOUT))},i);const h=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m&&(m.removeEventListener?m.removeEventListener("abort",p):m.unsubscribe(p))}),t=null)};t.forEach(m=>m&&m.addEventListener&&m.addEventListener("abort",p));const{signal:_}=s;return _.unsubscribe=h,[_,()=>{l&&clearTimeout(l),l=null}]},l1=function*(t,i){let s=t.byteLength;if(!i||s<i){yield t;return}let u=0,p;for(;u<s;)p=u+i,yield t.slice(u,p),u=p},u1=async function*(t,i,s){for await(const u of t)yield*l1(ArrayBuffer.isView(u)?u:await s(String(u)),i)},Sd=(t,i,s,u,p)=>{const l=u1(t,i,p);let h=0;return new ReadableStream({type:"bytes",async pull(_){const{done:m,value:x}=await l.next();if(m){_.close(),u();return}let b=x.byteLength;s&&s(h+=b),_.enqueue(new Uint8Array(x))},cancel(_){return u(_),l.return()}},{highWaterMark:2})},Td=(t,i)=>{const s=t!=null;return u=>setTimeout(()=>i({lengthComputable:s,total:t,loaded:u}))},Kl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$f=Kl&&typeof ReadableStream=="function",Lc=Kl&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),c1=$f&&(()=>{let t=!1;const i=new Request(xi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i})(),Ad=64*1024,Cc=$f&&!!(()=>{try{return mt.isReadableStream(new Response("").body)}catch{}})(),Cl={stream:Cc&&(t=>t.body)};Kl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Cl[i]&&(Cl[i]=mt.isFunction(t[i])?s=>s[i]():(s,u)=>{throw new ve(`Response type '${i}' is not supported`,ve.ERR_NOT_SUPPORT,u)})})})(new Response);const h1=async t=>{if(t==null)return 0;if(mt.isBlob(t))return t.size;if(mt.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(mt.isArrayBufferView(t))return t.byteLength;if(mt.isURLSearchParams(t)&&(t=t+""),mt.isString(t))return(await Lc(t)).byteLength},d1=async(t,i)=>{const s=mt.toFiniteNumber(t.getContentLength());return s??h1(i)},p1=Kl&&(async t=>{let{url:i,method:s,data:u,signal:p,cancelToken:l,timeout:h,onDownloadProgress:_,onUploadProgress:m,responseType:x,headers:b,withCredentials:k="same-origin",fetchOptions:T}=Vf(t);x=x?(x+"").toLowerCase():"text";let[F,G]=p||l||h?a1([p,l],h):[],X,bt;const st=()=>{!X&&setTimeout(()=>{F&&F.unsubscribe()}),X=!0};let ut;try{if(m&&c1&&s!=="get"&&s!=="head"&&(ut=await d1(b,u))!==0){let vt=new Request(i,{method:"POST",body:u,duplex:"half"}),$t;mt.isFormData(u)&&($t=vt.headers.get("content-type"))&&b.setContentType($t),vt.body&&(u=Sd(vt.body,Ad,Td(ut,Ll(m)),null,Lc))}mt.isString(k)||(k=k?"cors":"omit"),bt=new Request(i,{...T,signal:F,method:s.toUpperCase(),headers:b.normalize().toJSON(),body:u,duplex:"half",withCredentials:k});let $=await fetch(bt);const lt=Cc&&(x==="stream"||x==="response");if(Cc&&(_||lt)){const vt={};["status","statusText","headers"].forEach(Tt=>{vt[Tt]=$[Tt]});const $t=mt.toFiniteNumber($.headers.get("content-length"));$=new Response(Sd($.body,Ad,_&&Td($t,Ll(_,!0)),lt&&st,Lc),vt)}x=x||"text";let xt=await Cl[mt.findKey(Cl,x)||"text"]($,t);return!lt&&st(),G&&G(),await new Promise((vt,$t)=>{zf(vt,$t,{data:xt,headers:Kn.from($.headers),status:$.status,statusText:$.statusText,config:t,request:bt})})}catch($){throw st(),$&&$.name==="TypeError"&&/fetch/i.test($.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,bt),{cause:$.cause||$}):ve.from($,$&&$.code,t,bt)}}),wc={http:Sb,xhr:s1,fetch:p1};mt.forEach(wc,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const Od=t=>`- ${t}`,f1=t=>mt.isFunction(t)||t===null||t===!1,Hf={getAdapter:t=>{t=mt.isArray(t)?t:[t];const{length:i}=t;let s,u;const p={};for(let l=0;l<i;l++){s=t[l];let h;if(u=s,!f1(s)&&(u=wc[(h=String(s)).toLowerCase()],u===void 0))throw new ve(`Unknown adapter '${h}'`);if(u)break;p[h||"#"+l]=u}if(!u){const l=Object.entries(p).map(([_,m])=>`adapter ${_} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?l.length>1?`since :
`+l.map(Od).join(`
`):" "+Od(l[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return u},adapters:wc};function ec(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qo(null,t)}function Dd(t){return ec(t),t.headers=Kn.from(t.headers),t.data=tc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Hf.getAdapter(t.adapter||la.adapter)(t).then(function(u){return ec(t),u.data=tc.call(t,t.transformResponse,u),u.headers=Kn.from(u.headers),u},function(u){return jf(u)||(ec(t),u&&u.response&&(u.response.data=tc.call(t,t.transformResponse,u.response),u.response.headers=Kn.from(u.response.headers))),Promise.reject(u)})}const Uf="1.7.2",rh={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{rh[t]=function(u){return typeof u===t||"a"+(i<1?"n ":" ")+t}});const Rd={};rh.transitional=function(i,s,u){function p(l,h){return"[Axios v"+Uf+"] Transitional option '"+l+"'"+h+(u?". "+u:"")}return(l,h,_)=>{if(i===!1)throw new ve(p(h," has been removed"+(s?" in "+s:"")),ve.ERR_DEPRECATED);return s&&!Rd[h]&&(Rd[h]=!0,console.warn(p(h," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(l,h,_):!0}};function _1(t,i,s){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let p=u.length;for(;p-- >0;){const l=u[p],h=i[l];if(h){const _=t[l],m=_===void 0||h(_,l,t);if(m!==!0)throw new ve("option "+l+" must be "+m,ve.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ve("Unknown option "+l,ve.ERR_BAD_OPTION)}}const kc={assertOptions:_1,validators:rh},hr=kc.validators;class Wr{constructor(i){this.defaults=i,this.interceptors={request:new Ed,response:new Ed}}async request(i,s){try{return await this._request(i,s)}catch(u){if(u instanceof Error){let p;Error.captureStackTrace?Error.captureStackTrace(p={}):p=new Error;const l=p.stack?p.stack.replace(/^.+\n/,""):"";try{u.stack?l&&!String(u.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+l):u.stack=l}catch{}}throw u}}_request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=Jr(this.defaults,s);const{transitional:u,paramsSerializer:p,headers:l}=s;u!==void 0&&kc.assertOptions(u,{silentJSONParsing:hr.transitional(hr.boolean),forcedJSONParsing:hr.transitional(hr.boolean),clarifyTimeoutError:hr.transitional(hr.boolean)},!1),p!=null&&(mt.isFunction(p)?s.paramsSerializer={serialize:p}:kc.assertOptions(p,{encode:hr.function,serialize:hr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let h=l&&mt.merge(l.common,l[s.method]);l&&mt.forEach(["delete","get","head","post","put","patch","common"],G=>{delete l[G]}),s.headers=Kn.concat(h,l);const _=[];let m=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(s)===!1||(m=m&&X.synchronous,_.unshift(X.fulfilled,X.rejected))});const x=[];this.interceptors.response.forEach(function(X){x.push(X.fulfilled,X.rejected)});let b,k=0,T;if(!m){const G=[Dd.bind(this),void 0];for(G.unshift.apply(G,_),G.push.apply(G,x),T=G.length,b=Promise.resolve(s);k<T;)b=b.then(G[k++],G[k++]);return b}T=_.length;let F=s;for(k=0;k<T;){const G=_[k++],X=_[k++];try{F=G(F)}catch(bt){X.call(this,bt);break}}try{b=Dd.call(this,F)}catch(G){return Promise.reject(G)}for(k=0,T=x.length;k<T;)b=b.then(x[k++],x[k++]);return b}getUri(i){i=Jr(this.defaults,i);const s=Gf(i.baseURL,i.url);return If(s,i.params,i.paramsSerializer)}}mt.forEach(["delete","get","head","options"],function(i){Wr.prototype[i]=function(s,u){return this.request(Jr(u||{},{method:i,url:s,data:(u||{}).data}))}});mt.forEach(["post","put","patch"],function(i){function s(u){return function(l,h,_){return this.request(Jr(_||{},{method:i,headers:u?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}Wr.prototype[i]=s(),Wr.prototype[i+"Form"]=s(!0)});class oh{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const u=this;this.promise.then(p=>{if(!u._listeners)return;let l=u._listeners.length;for(;l-- >0;)u._listeners[l](p);u._listeners=null}),this.promise.then=p=>{let l;const h=new Promise(_=>{u.subscribe(_),l=_}).then(p);return h.cancel=function(){u.unsubscribe(l)},h},i(function(l,h,_){u.reason||(u.reason=new qo(l,h,_),s(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new oh(function(p){i=p}),cancel:i}}}function m1(t){return function(s){return t.apply(null,s)}}function g1(t){return mt.isObject(t)&&t.isAxiosError===!0}const Mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mc).forEach(([t,i])=>{Mc[i]=t});function Zf(t){const i=new Wr(t),s=wf(Wr.prototype.request,i);return mt.extend(s,Wr.prototype,i,{allOwnKeys:!0}),mt.extend(s,i,null,{allOwnKeys:!0}),s.create=function(p){return Zf(Jr(t,p))},s}const ln=Zf(la);ln.Axios=Wr;ln.CanceledError=qo;ln.CancelToken=oh;ln.isCancel=jf;ln.VERSION=Uf;ln.toFormData=ql;ln.AxiosError=ve;ln.Cancel=ln.CanceledError;ln.all=function(i){return Promise.all(i)};ln.spread=m1;ln.isAxiosError=g1;ln.mergeConfig=Jr;ln.AxiosHeaders=Kn;ln.formToJSON=t=>Nf(mt.isHTMLForm(t)?new FormData(t):t);ln.getAdapter=Hf.getAdapter;ln.HttpStatusCode=Mc;ln.default=ln;var y1={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const{url:v1,project_token:b1}=y1,dn=ln.create({baseURL:v1,params:{project_token:b1}});class qn{static getTaxonNameCitations(i,s){return dn.get(`/taxon_names/${i}/inventory/catalog`,s)}static getOtu(i){return dn.get(`/otus/${i}`,{params:{extend:["parents"]}})}static getOtus(i){return dn.get("/otus.json",{params:i})}static getTaxon(i,s){return dn.get(`/taxon_names/${i}`,s)}static summary(i,s){return dn.get(`/taxon_names/${i}/inventory/summary`,s)}static getTaxonTypeDesignation(i){return dn.get(`/taxon_names/${i}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(i,s){return dn.get(`/otus/${i}/inventory/images.json`,s)}static getTaxonomy(i,s){return dn.get(`/otus/${i}/inventory/taxonomy.json`,s)}static getOtuTypeMaterial(i){return dn.get(`/otus/${i}/inventory/type_material.json`)}static getOtuDistribution(i,s={}){return dn.get(`/otus/${i}/inventory/distribution.json`,s)}static getOtuGeoJSONDistribution(i){return dn.get(`/otus/${i}/inventory/distribution.geojson`)}static getCachedMap(i,s){return dn.get(`/cached_maps/${i}`,s)}static getOtuContent(i,s){return dn.get(`/otus/${i}/inventory/content`,s)}static getCachedMap(i){return dn.get(`/cached_maps/${i}`)}}const Qr=sa("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t,{signal:i}){const s=th(),u=await Promise.all([qn.getTaxon(t,{params:{extend:["type_taxon_name_relationship"]}}),Lr("summary",()=>qn.summary(t,{signal:i}))]);this.taxon=Object.assign({},...u.map(p=>p.data)),s.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(t,{signal:i}){const s=await qn.getOtu(t,{signal:i});this.otu=s.data},async loadTaxonomy(t,{signal:i}){const{data:s}=await qn.getTaxonomy(t,{params:{max_descendants_depth:0,extend:["common_names"]},signal:i});this.taxonomy={commonNames:s.common_names,synonyms:s.nomenclatural_synonyms}},async loadCatalog(t,{signal:i}){this.catalog.isLoading=!0;const s=await Lr("taxonomy",()=>qn.getTaxonNameCitations(t,{signal:i}));this.catalog={...s.data,sources:s.data.sources.map(({cached:u,url:p})=>u.replace(p,`<a href="${p}">${p}</a>`)),isLoading:!1}},async loadInit({otuId:t,controller:i}){$l().$reset();try{await this.loadOtu(t,i),await this.loadTaxon(this.otu.taxon_name_id,i),await this.loadCatalog(this.otu.taxon_name_id,i),await this.loadTaxonomy(t,i)}catch(u){return Promise.reject(u)}}}});function x1(t,i){return t||(t={}),t._resolver=i,t}function L1(t){return x1(t,"taxon")}function C1(t){return Yc({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}function Ec(t,i){return!t.length||t.some(s=>i==null?void 0:i.includes(s))}function w1(t,i){return i.split("::").at(2)===t}function k1(t,i){return{type:"Feature",geometry:t,properties:{base:[{type:i}]}}}function M1(t){const i=[],s=[];return t.features.forEach(u=>{const p=u.properties.shape.id,l=u.properties.shape.type;s.includes(u.properties.base.type)||s.push(u.properties.base.type);const h=i.findIndex(_=>_.properties.shape.id===p&&_.properties.shape.type===l);if(h>-1){const _=i[h];_.properties.base.push(u.properties.base),_.properties.target.push(u.properties.target)}else{const _=structuredClone(u);_.properties.base=[_.properties.base],_.properties.target=[_.properties.target],i.push(_)}}),s.sort(),{shapeTypes:s,features:i}}function E1(t){return t.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,i=>i.toUpperCase())}function P1(){const t=oa(),i=Gl(),s=Zt();yn(i,()=>{s.value=u()},{immediate:!0});function u(){const{children:p}=t.getRoutes().find(l=>l.name==="otus-id");return p.map(({path:l,name:h,meta:_})=>({label:l&&(_.label||E1(l)),path:l,name:h,meta:_}))}return s}const To=Object.values(Object.assign({}))[0];function B1({taxon:t,otu:i}){const s=Gl(),p={router:oa(),route:s,taxon:t,otu:i};return{onCreatePage:()=>To==null?void 0:To.onCreatePage(p),onSSRCreatePage:()=>To==null?void 0:To.onSSRCreatePage(p)}}const S1=Y("h3",{class:"font-medium"},"Sitemap",-1),T1={class:"p-4 pt-0"},A1=Y("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),O1=["href"],D1={__name:"SiteMap",setup(t){const i=Zt(!1),s=$l();return(u,p)=>{const l=_t("IconJson"),h=_t("VButton"),_=_t("VTableHeaderCell"),m=_t("VTableHeaderRow"),x=_t("VTableHeader"),b=_t("VTableBodyCell"),k=_t("VTableBodyRow"),T=_t("VTableBody"),F=_t("VTable"),G=_t("VModal");return I(),Q("div",null,[et(h,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:p[0]||(p[0]=X=>i.value=!0)},{default:ft(()=>[et(l,{class:"w-4 h-4"}),ue(" Sitemap ")]),_:1}),i.value?(I(),St(G,{key:0,onClose:p[1]||(p[1]=X=>i.value=!1)},{header:ft(()=>[S1]),default:ft(()=>[Y("div",T1,[A1,et(F,null,{default:ft(()=>[et(x,null,{default:ft(()=>[et(m,null,{default:ft(()=>[et(_,null,{default:ft(()=>[ue(" Request Key ")]),_:1}),et(_,null,{default:ft(()=>[ue(" URL ")]),_:1})]),_:1})]),_:1}),et(T,null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(ee(s).sitemap,(X,bt)=>(I(),St(k,{key:bt},{default:ft(()=>[et(b,{class:"capitalize"},{default:ft(()=>[ue(oe(bt.replaceAll(":"," ")),1)]),_:2},1024),et(b,null,{default:ft(()=>[Y("a",{href:X},oe(X),9,O1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Ft("",!0)])}}},R1={class:"relative"},I1=Y("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Y("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),F1={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},N1={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const i=Zt(!1);return(s,u)=>{const p=_t("router-link");return I(),Q("div",R1,[Y("div",null,[Y("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:u[0]||(u[0]=l=>i.value=!i.value)},[Ue(s.$slots,"default"),I1]),i.value?(I(),Q("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:u[1]||(u[1]=l=>i.value=!1)})):Ft("",!0),i.value?(I(),Q("div",F1,[(I(!0),Q(Wt,null,Ce(t.list,l=>(I(),St(p,{key:l.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:l.id}}},{default:ft(()=>[ue(oe(l.name||s.key),1)]),_:2},1032,["to"]))),128))])):Ft("",!0)])])}}},j1={class:"inline-flex items-center flex-wrap"},z1={class:"inline-flex items-center ml-0 text-sm"},G1=["innerHTML"],V1={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(i,s)=>{const u=_t("IconArrowRight"),p=_t("router-link");return I(),Q("ul",j1,[(I(!0),Q(Wt,null,Ce(t.list,(l,h,_)=>(I(),Q("li",{key:l.id,class:"inline-flex items-center"},[_?(I(),St(u,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Ft("",!0),l.length===1?(I(),St(p,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:l[0].id}}},{default:ft(()=>[ue(oe(h),1)]),_:2},1032,["to"])):(I(),St(N1,{key:2,list:l.map(m=>({...m,name:m.name||h}))},{default:ft(()=>[ue(oe(h),1)]),_:2},1032,["list"]))]))),128)),Y("li",z1,[et(u,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),Y("span",{innerHTML:t.current.full_name_tag},null,8,G1)])])}}},$1={__name:"CommonNames",setup(t){const i=Qr(),s=ce(()=>i.taxonomy.commonNames.map(u=>u.name).join("; "));return(u,p)=>(I(),Q("span",null,oe(s.value),1))}},H1={class:"text-1xl capitalize"},U1={class:"text-xl dark:text-gray-100"},Z1=["title","innerHTML"],q1={key:0,class:"ml-1 text-red-600",title:"Invalid"},K1={class:"text-1xl"},W1={__name:"TaxaInfo",setup(t){const i=Qr();return(s,u)=>(I(),Q("div",null,[Y("h2",H1,oe(ee(i).taxon.rank||"Combination"),1),Y("h1",U1,[Y("span",null,[Y("span",{title:ee(i).taxon.short_status,innerHTML:ee(i).taxon.full_name_tag},null,8,Z1),ee(i).taxon.is_valid?Ft("",!0):(I(),Q("span",q1,"  "))])]),Y("h2",K1,[et($1)])]))}};var J1={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const Y1={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const{url:i,project_token:s}=J1,u=t;function p(){window.open(`${i}/otus/${u.otu.id}/inventory/dwc.csv?project_token=${s}`,"_self")}return(l,h)=>{const _=_t("IconDownload"),m=_t("VButton");return I(),St(m,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:h[0]||(h[0]=()=>{p()})},{default:ft(()=>[et(_,{class:"w-4 h-4 mr-1"}),ue(" DwC ")]),_:1})}}};var X1={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const Q1={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},t4={class:"container mx-auto"},e4={class:"pt-6 pb-6"},n4={class:"flex flex-col-reverse md:flex-row justify-between items-start"},i4={class:"mt-8 flex justify-between items-end"},r4={class:"flex flex-row gap-2"},o4={class:"pt-3 pb-4"},s4={class:"container mx-auto box-border"},a4={__name:"Index",setup(t){const i=Gl(),s=oa(),u=Zt(i.params),p=P1(),l=Qr(),h=th();let _=new AbortController;s.afterEach(ut=>{u.value=ut.params});const m=ce(()=>l.otu),x=ce(()=>l.taxon),b=ce(()=>{var ut,$;return((ut=m.value)==null?void 0:ut.id)&&(($=x.value)==null?void 0:$.id)}),k=ce(()=>p.value.filter(ut=>Ec(ut.meta.rankGroup,x.value.rank_string))),{onCreatePage:T,onSSRCreatePage:F}=B1({taxon:x,otu:m});Zc(async()=>{await G(),await F()}),T(),yn(()=>i.params.id,async()=>{_.abort(),_=new AbortController,G()}),Mn(async()=>{var ut,$;((ut=m.value)==null?void 0:ut.id)!==Number(i.params.id)||!(($=x.value)!=null&&$.id)?await G():bt()}),Ji(()=>{l.$reset(),h.$reset()});async function G(){l.$reset(),h.$reset();try{await l.loadInit({otuId:i.params.id,controller:_}),bt()}catch(ut){ut.name!==Qs.CanceledError&&X(ut)}}function X(ut){var $;switch(($=ut==null?void 0:ut.response)==null?void 0:$.status){case 404:s.replace({name:"httpError404"});break;case 500:s.replace({name:"httpError500"});break}}function bt(){Yc({title:`${X1.project_name} - ${x.value.full_name}`}),C1([L1({id:i.fullPath,name:x.value.full_name,scientificName:{name:x.value.full_name,author:x.value.author,taxonRank:x.value.rank},parentTaxon:{name:x.value.parent.full_name,taxonRank:x.value.parent.rank},commonNames:l.taxonomy.commonNames,alternateName:l.taxonomy.synonyms})])}function st({id:ut,otu_valid_id:$}){s.push({name:"otus-id-overview",params:{id:$||ut}})}return(ut,$)=>{const lt=_t("VSkeleton"),xt=_t("Autocomplete"),vt=_t("ClientOnly"),$t=_t("TabItem"),Tt=_t("TabMenu"),Et=_t("RouterView");return I(),Q("main",null,[Y("div",Q1,[Y("div",t4,[Y("div",e4,[Y("div",n4,[et(lt,{class:"w-full md:w-3/4"},{default:ft(()=>{var Dt;return[b.value?(I(),St(V1,{key:0,class:"w-full md:w-3/4",list:((Dt=m.value)==null?void 0:Dt.parents)||{},current:x.value},null,8,["list","current"])):Ft("",!0)]}),_:1}),et(xt,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:st})]),Y("div",i4,[et(lt,{lines:2,class:"w-96"},{default:ft(()=>[b.value?(I(),St(W1,{key:0})):Ft("",!0)]),_:1}),Y("div",r4,[et(vt,null,{default:ft(()=>[et(D1)]),_:1}),b.value?(I(),St(Y1,{key:0,otu:m.value},null,8,["otu"])):Ft("",!0)])])]),b.value&&ee(p).length>1?(I(),St(Tt,{key:0,class:"m-[-1px] print:hidden"},{default:ft(()=>[(I(!0),Q(Wt,null,Ce(k.value,({name:Dt,label:Vt})=>(I(),St($t,{key:Dt,to:{name:Dt}},{default:ft(()=>[ue(oe(Vt),1)]),_:2},1032,["to"]))),128))]),_:1})):Ft("",!0)])]),Y("div",o4,[Y("div",s4,[b.value?(I(),St(Et,{key:ee(i).fullPath,"taxon-id":x.value.id,taxon:x.value,"taxon-rank":x.value.rank_string,"otu-id":m.value.id,otu:m.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Ft("",!0)])])])}}},l4=["title"],u4=["alt","src"],c4={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(i,s)=>(I(),Q("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[Y("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,u4)],8,l4))}},h4={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},wl={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:i}){const s=i;return(u,p)=>(I(),Q("div",h4,[(I(!0),Q(Wt,null,Ce(t.images,(l,h)=>{var _;return I(),Q("div",{key:l.id},[et(c4,{image:l,class:pn({"border border-secondary-color":t.current===h}),title:(_=l.depictions)==null?void 0:_.map(m=>m.label).join(";"),onClick:m=>s("selectIndex",h)},null,8,["image","class","title","onClick"])])}),128))]))}},d4={class:"flex justify-between flex-col gap-2 text-sm px-2 py-4"},p4={class:"flex flex-col"},f4={class:"font-medium"},_4=["innerHTML"],m4=Y("hr",null,null,-1),g4={class:"flex flex-col justify-between text-sm px-2 py-4 gap-2"},y4={class:"flex flex-col"},v4=["innerHTML"],b4=Y("hr",null,null,-1),x4={__name:"PanelSpecimenRecords",props:{otuId:{type:Number,required:!0}},setup(t){const i=t,s=Zt(0),u=Zt([]),p=Zt(!1),l=Zt(!1),h=Zt([]),_=ce(()=>h.value.filter(st=>st.dwc_occurrence_object_type==="CollectionObject"&&!st.typeStatus)),m=ce(()=>h.value.filter(st=>st.dwc_occurrence_object_type==="CollectionObject"&&st.typeStatus));function x(st){return[st.country,st.stateProvince,st.county,st.verbatimLocality].filter(Boolean).join(", ")}function b(st){return[T(st),k(st),st.catalogNumber,x(st),G(st),F(st)].filter(Boolean).join("; ")}function k(st){const{institutionCode:ut,institutionID:$}=st;if(ut)return $?`<a href="${$}" target="_blank">${ut}</a>`:`<span>${ut}</span>`}function T({individualCount:st,sex:ut}){return ut?`${st} ${ut}`:`${st} specimen${st>1?"s":""}`}function F({recordedBy:st}){return st?`Col. ${st}`:""}function G({verbatimCoordinates:st}){const ut=st==null?void 0:st.split(" ").join(", ");return ut?`(${ut})`:""}Mn(()=>{l.value=!0,dn.get(`/otus/${i.otuId}/inventory/dwc.json`).then(async st=>{for(let ut=0;ut<st.data.length;ut++){const $=st.data[ut];if($.associatedMedia){const lt=await X($);$.associatedMedia=lt}}h.value=st.data}).finally(()=>{l.value=!1})});async function X(st){const ut=st.associatedMedia.split("|"),$=[];return ut.forEach(lt=>{$.push(dn.get(lt.trim(),{params:{extend:["attribution","depictions","source"]}}))}),await Promise.all($).then(lt=>lt.map(xt=>xt.data))}function bt(st,ut){u.value=st,s.value=ut,p.value=!0}return(st,ut)=>{const $=_t("VCardHeader"),lt=_t("VSpinner"),xt=_t("ImageViewer"),vt=_t("VCardContent"),$t=_t("VCard");return I(),Q(Wt,null,[et($t,null,{default:ft(()=>[et($,null,{default:ft(()=>[ue("Type specimens")]),_:1}),et(vt,{class:pn(l.value&&"min-h-[6rem]")},{default:ft(()=>[l.value?(I(),St(lt,{key:0})):Ft("",!0),(I(!0),Q(Wt,null,Ce(m.value,Tt=>(I(),Q(Wt,{key:Tt.id},[Y("div",d4,[Y("div",p4,[Y("span",f4,oe(Tt.typeStatus),1),Y("span",{innerHTML:b(Tt)},null,8,_4)]),Tt.associatedMedia?(I(),St(wl,{key:0,images:Tt.associatedMedia,class:"flex-row flex-wrap gap-2",onSelectIndex:Et=>bt(Tt.associatedMedia,Et)},null,8,["images","onSelectIndex"])):Ft("",!0)]),m4],64))),128)),p.value?(I(),St(xt,{key:1,images:u.value,index:s.value,next:u.value.length-1>s.value,previous:s.value>0,onSelectIndex:ut[0]||(ut[0]=Tt=>s.value=Tt),onNext:ut[1]||(ut[1]=()=>s.value++),onPrevious:ut[2]||(ut[2]=()=>s.value--),onClose:ut[3]||(ut[3]=()=>p.value=!1)},null,8,["images","index","next","previous"])):Ft("",!0)]),_:1},8,["class"])]),_:1}),_.value.length?(I(),St($t,{key:0},{default:ft(()=>[et($,null,{default:ft(()=>[ue("Specimen records")]),_:1}),et(vt,{class:pn(l.value&&"min-h-[6rem]")},{default:ft(()=>[l.value?(I(),St(lt,{key:0})):Ft("",!0),(I(!0),Q(Wt,null,Ce(_.value,Tt=>(I(),Q(Wt,{key:Tt.id},[Y("div",g4,[Y("div",y4,[Y("span",null,oe(Tt.typeStatus),1),Y("span",{innerHTML:b(Tt)},null,8,v4)]),Tt.associatedMedia?(I(),St(wl,{key:0,images:Tt.associatedMedia,class:"lg:flex-row gap-2 flex-wrap",onSelectIndex:Et=>bt(Tt.associatedMedia,Et)},null,8,["images","onSelectIndex"])):Ft("",!0)]),b4],64))),128)),p.value?(I(),St(xt,{key:1,images:u.value,index:s.value,next:u.value.length-1>s.value,previous:s.value>0,onSelectIndex:ut[4]||(ut[4]=Tt=>s.value=Tt),onNext:ut[5]||(ut[5]=()=>s.value++),onPrevious:ut[6]||(ut[6]=()=>s.value--),onClose:ut[7]||(ut[7]=()=>p.value=!1)},null,8,["images","index","next","previous"])):Ft("",!0)]),_:1},8,["class"])]),_:1})):Ft("",!0)],64)}}},L4={id:"panel:specimen-records",component:x4},C4=["href"],w4=["src"],k4={__name:"PaneliNaturalist",props:{taxon:{type:Object,required:!0},perPage:{type:Number,default:60}},setup(t){const i=t,s=Zt(!1),u=Zt([]),p=Zt({page:1,per_page:i.perPage,total_results:0});function l(h={}){s.value=!0,ln.get("https://api.inaturalist.org/v1/observations",{params:{q:i.taxon.expanded_name,...h}}).then(({data:_})=>{u.value=_.results,p.value={page:_.page,per_page:_.per_page,total_results:_.total_results}}).finally(()=>{s.value=!1})}return Mn(()=>{l({per_page:i.perPage})}),(h,_)=>{const m=_t("VCardHeader"),x=_t("VSpinner"),b=_t("VPagination"),k=_t("VCardContent"),T=_t("VCard");return I(),St(T,null,{default:ft(()=>[et(m,null,{default:ft(()=>[ue("iNaturalist")]),_:1}),et(k,null,{default:ft(()=>[s.value?(I(),St(x,{key:0})):Ft("",!0),Y("div",{class:pn(["flex flex-row flex-wrap gap-2 mb-4",s.value&&"min-h-[3.5rem]"])},[(I(!0),Q(Wt,null,Ce(u.value,F=>(I(),Q("div",{key:F.id,class:"flex flex-row flex-wrap gap-2"},[F!=null&&F.observation_photos[0]?(I(),Q("a",{key:0,href:`https://www.inaturalist.org/observations/${F.id}`,target:"_blank"},[(I(),Q("img",{key:F.observation_photos[0].photo.id,src:F.observation_photos[0].photo.url},null,8,w4))],8,C4)):Ft("",!0)]))),128))],2),et(b,{modelValue:p.value.page,"onUpdate:modelValue":[_[0]||(_[0]=F=>p.value.page=F),_[1]||(_[1]=F=>{l({page:F,per_page:t.perPage})})],total:p.value.total_results,per:p.value.per_page},null,8,["modelValue","total","per"])]),_:1})]),_:1})}}},M4={id:"panel:inaturalist",component:k4,rankGroup:["GenusGroup","SpeciesGroup"]},E4=["innerHTML"],P4={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(i,s)=>{const u=_t("VCardHeader"),p=_t("VCardContent");return I(),Q(Wt,null,[et(u,{class:"border-t border-base-muted first:border-t-0"},{default:ft(()=>[ue(oe(t.title),1)]),_:1}),et(p,{class:"panel-content-list"},{default:ft(()=>[(I(!0),Q(Wt,null,Ce(t.textList,(l,h)=>(I(),Q("div",{key:h,class:"pt-1 text-sm",innerHTML:l},null,8,E4))),128))]),_:1})],64)}}},B4={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(t){const i=t,s=Zt([]),u=new AbortController,p=ce(()=>s.value.reduce((l,h)=>(l[h.name]?l[h.name].push(h.text):l[h.name]=[h.text],l),{}));return Pp(()=>{Lr("panel:content",()=>qn.getOtuContent(i.otuId,{params:{extend:["depiction"]},signal:u.signal})).then(({data:l})=>{s.value=l}).catch(l=>{})}),Ji(()=>{u.abort()}),(l,h)=>{const _=_t("VCard");return s.value.length?(I(),St(_,{key:0},{default:ft(()=>[(I(!0),Q(Wt,null,Ce(p.value,(m,x)=>(I(),St(P4,{key:x,title:x,"text-list":m},null,8,["title","text-list"]))),128))]),_:1})):Ft("",!0)}}},S4={id:"panel:content",component:B4},T4={class:"synonyms"},A4=Y("span",{class:"text-orange-500 mr-1"},"=",-1),O4=["innerHTML"],D4={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const i=t;return(s,u)=>(I(),Q("ul",T4,[(I(!0),Q(Wt,null,Ce(i.list,p=>(I(),Q("li",{key:p},[A4,Y("span",{innerHTML:p},null,8,O4)]))),128))]))}},R4={key:0,class:"tree"},I4={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const i=t,s=Zt(!!i.taxonomy.descendants.length),u=Zt([...i.taxonomy.descendants]);yn(s,l=>{l&&p()});const p=()=>{u.value.length||qn.getTaxonomy(i.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:l})=>{u.value=l.descendants})};return(l,h)=>{const _=_t("button-expand"),m=_t("router-link"),x=_t("AnimationOpacity");return Object.keys(t.taxonomy).length?(I(),Q("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Ft("",!0):(I(),St(_,{key:0,modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=b=>s.value=b),class:"absolute -left-2.5"},null,8,["modelValue"])),et(m,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(I(),St(D4,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Ft("",!0),et(x,null,{default:ft(()=>[u.value.length?(I(),Q("ul",R4,[(I(!0),Q(Wt,null,Ce(u.value,b=>(I(),St(x,{key:b.otu_id},{default:ft(()=>[s.value?(I(),St(qf,{key:0,taxonomy:b},null,8,["taxonomy"])):Ft("",!0)]),_:2},1024))),128))])):Ft("",!0)]),_:1})])):Ft("",!0)}}},qf=ge(I4,[["__scopeId","data-v-b79ba271"]]),F4=Y("h3",null,"JSON Data",-1),N4={key:0,class:"p-5 font-normal"},j4={class:"pb-2 text-sm"},z4=["href"],G4={class:"relative"},V4=["innerHTML"],Ko={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const i=t,s=ce(()=>u.getRequest(i.panelKey)),u=$l(),p=Zt(!1),l=ce(()=>[...i.menuOptions,{label:"JSON Data",action:()=>p.value=!0}]);return(h,_)=>{const m=_t("IconHamburger"),x=_t("Dropdown"),b=_t("VClipboard"),k=_t("VModal");return I(),Q(Wt,null,[et(x,{items:l.value},{button:ft(()=>[et(m,{class:"text-base-soft h-4"})]),_:1},8,["items"]),p.value?(I(),St(k,{key:0,onClose:_[0]||(_[0]=T=>p.value=!1)},{header:ft(()=>[F4]),default:ft(()=>[s.value?(I(),Q("div",N4,[Y("h3",j4,[ue(" URL: "),Y("a",{href:s.value.url},oe(s.value.url),9,z4)]),Y("div",G4,[Y("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(s.value.data,null,4)},null,8,V4),et(b,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(s.value.data,null,2)},null,8,["text"])])])):Ft("",!0)]),_:1})):Ft("",!0)],64)}}},$4=t=>(Cp("data-v-91511d41"),t=t(),wp(),t),H4=$4(()=>Y("h2",{class:"text-md"},"Descendants and synonyms",-1)),U4={class:"tree ml-2"},Z4={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=Zt(null),u=Zt(!1);return yn(()=>i.otuId,async()=>{i.otuId&&(u.value=!0,Lr("panel:descendants",()=>qn.getTaxonomy(i.otuId,{params:{max_descendants_depth:1}})).then(({data:p})=>{s.value=p}).finally(()=>u.value=!1))},{immediate:!0}),(p,l)=>{const h=_t("VSpinner"),_=_t("ClientOnly"),m=_t("VCardHeader"),x=_t("AnimationOpacity"),b=_t("VCardContent"),k=_t("VCard");return I(),St(k,null,{default:ft(()=>[et(_,null,{default:ft(()=>[u.value?(I(),St(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Ft("",!0)]),_:1}),et(m,{class:"flex justify-between"},{default:ft(()=>[H4,et(Ko,{"panel-key":"panel:descendants"})]),_:1}),et(b,{class:"text-sm"},{default:ft(()=>[Y("ul",U4,[et(x,null,{default:ft(()=>[s.value&&(s.value.nomenclatural_synonyms.length||s.value.descendants.length)?(I(),St(qf,{key:0,taxonomy:s.value},null,8,["taxonomy"])):Ft("",!0)]),_:1})])]),_:1})]),_:1})}}},q4=ge(Z4,[["__scopeId","data-v-91511d41"]]),K4={id:"panel:descendants",component:q4};var W4={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const J4=sa("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},async loadImages(t){const i=["image/tiff"],s={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const u=await Lr("panel:images",()=>qn.getOtuImages(t,{params:s,signal:this.controller.signal}));this.images=u.data.map(p=>{var m;const l={...p},{url:h,project_token:_}=W4;return i.includes(l.content_type)&&p.original_png&&(l.original=`${h}/${(m=p.original_png)==null?void 0:m.substring(8)}?project_token=${_}`),l}),this.controller=null}catch(u){u.name!==Qs.CanceledError&&(this.controller=null)}}}}),Y4={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=J4(),u=ce(()=>s.images||[]);return Zc(async()=>{await s.loadImages(i.otuId)}),Mn(()=>{s.images||s.loadImages(i.otuId)}),Ji(()=>{s.resetRequest(),s.$reset()}),(p,l)=>{const h=_t("GalleryImage"),_=_t("VCardContent"),m=_t("VCard");return u.value.length?(I(),St(m,{key:0},{default:ft(()=>[et(_,null,{default:ft(()=>[et(h,{images:u.value},null,8,["images"])]),_:1})]),_:1})):Ft("",!0)}}},X4={id:"panel:gallery",component:Y4,rankGroup:[]},Q4=sa("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},loadCachedMap(t){qn.getCachedMap(t,{signal:this.controller.signal}).then(i=>{this.distribution.cachedMap=i.data})},async getAggregateShape(t){Lr("panel:map",()=>qn.getOtuDistribution(t,{signal:this.controller.signal})).then(({data:i})=>{const s=JSON.parse(i.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[k1(s,"Aggregate")]},this.loadCachedMap(i.cached_map.id)}).catch(i=>{i.name!=Qs.CanceledError&&(this.distribution.errorMessage=i.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:t,rankString:i}){const s=i&&w1("SpeciesGroup",i);this.controller=new AbortController,s?Lr("panel:map",()=>qn.getOtuGeoJSONDistribution(t,{signal:this.controller.signal})).then(({data:u})=>{if(u.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=u.message;else{const{features:p,shapeTypes:l}=M1(u);this.distribution.currentShapeTypes=l,this.distribution.geojson={features:p}}}).catch(u=>{u.name!==Qs.CanceledError&&this.getAggregateShape(t)}):this.getAggregateShape(t)}}});function Kf(t){return{html:`<div class="bg-map-collection-object"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function Wf(t){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${t.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function tx(t){return{html:`<div class="bg-map-type-material"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const ex=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:Kf,Mixed:Wf,TypeMaterial:tx},Symbol.toStringTag,{value:"Module"}));function nx({L:t,cluster:i}){const s=i.getAllChildMarkers().map(h=>h.feature.properties.base.map(_=>_.type)).flat(),u=[...new Set(s)],p=u.pop(),l=u.length?Wf:ex[p]||Kf;return t.divIcon(l(i))}const Pc={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function ix({popupElement:t,popupItem:i}){return function(){return{onEachFeature:(s,u)=>{u.pm.setOptions(Pc),u.pm.disable(),u.on("popupopen",()=>i.value=s.properties),u.on("popupclose",()=>i.value=null),u.bindPopup(t.value,{minWidth:400,maxWidth:400})}}}}function Jf({popupElement:t}){const i=Zt(null);return{geojsonOptions:ce(()=>ix({popupElement:t,popupItem:i})),popupItem:i}}const rx="TypeMaterial",Yf="CollectionObject",ox="AssertedDistribution",sx="Georeference",ax="Aggregate",lx={class:"max-h-32 overflow-y-auto text-xs min-w-80"},ux={class:"py-2 last:border-0 truncate border-b",title:"label"},cx=["textContent","onClick"],hx={key:1},Xf={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(t,{emit:i}){const s=i;return(u,p)=>(I(),Q("div",lx,[Y("ul",null,[(I(!0),Q(Wt,null,Ce(t.items,l=>(I(),Q("li",ux,[l.type===ee(Yf)?(I(),Q("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:oe(l.label),onClick:()=>s("selected",l)},null,8,cx)):(I(),Q("span",hx,oe(l.label),1))]))),256))])]))}},dx=Y("h3",{class:"font-medium"},"Cached map",-1),px={class:"p-4 pt-0"},fx={key:0,class:"text-success flex text-sm items-center"},_x=Y("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1),mx={key:1,class:"text-warning flex text-sm items-center"},gx=Y("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1),yx=Y("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1),vx={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const i=Zt(!1);return(s,u)=>{const p=_t("IconCheck"),l=_t("IconWarning"),h=_t("VButton"),_=_t("VTableHeaderCell"),m=_t("VTableHeaderRow"),x=_t("VTableHeader"),b=_t("VTableBodyCell"),k=_t("VTableBodyRow"),T=_t("VTableBody"),F=_t("VTable"),G=_t("VModal");return I(),Q(Wt,null,[et(h,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:u[0]||(u[0]=X=>i.value=!0)},{default:ft(()=>[t.cachedMap.synced?(I(),St(p,{key:0,class:"w-4 h-4"})):(I(),St(l,{key:1,class:"w-4 h-4"}))]),_:1}),i.value?(I(),St(G,{key:0,onClose:u[1]||(u[1]=()=>i.value=!1)},{header:ft(()=>[dx]),default:ft(()=>[Y("div",px,[et(F,null,{default:ft(()=>[et(x,null,{default:ft(()=>[et(m,null,{default:ft(()=>[et(_,null,{default:ft(()=>[ue("Data")]),_:1}),et(_)]),_:1})]),_:1}),et(T,null,{default:ft(()=>[et(k,null,{default:ft(()=>[et(b,null,{default:ft(()=>[ue(" Is synced ")]),_:1}),et(b,null,{default:ft(()=>[t.cachedMap.synced?(I(),Q("p",fx,[et(p,{class:"w-4 h-4"}),_x])):(I(),Q("p",mx,[et(l,{class:"w-4 h-4"}),gx]))]),_:1})]),_:1}),et(k,null,{default:ft(()=>[et(b,null,{default:ft(()=>[ue(" Last update ")]),_:1}),et(b,null,{default:ft(()=>[ue(oe(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),et(x,null,{default:ft(()=>[et(m,null,{default:ft(()=>[et(_,null,{default:ft(()=>[ue("Source")]),_:1}),et(_,null,{default:ft(()=>[ue("Total")]),_:1})]),_:1})]),_:1}),et(T,null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(t.cachedMap.source_scope,(X,bt)=>(I(),St(k,{key:bt},{default:ft(()=>[et(b,{class:"capitalize"},{default:ft(()=>[ue(oe(bt.replaceAll("_"," ")),1)]),_:2},1024),et(b,null,{default:ft(()=>[ue(oe(X),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),yx])]),_:1})):Ft("",!0)],64)}}},bx={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},xx=["innerHTML"],Lx={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:i}){const s=i;return(u,p)=>{const l=_t("IconClose");return I(),Q("div",bx,[Y("div",null,[Y("span",{class:"ml-2",innerHTML:t.label},null,8,xx)]),et(l,{class:"cursor-pointer",onClick:p[0]||(p[0]=()=>s("close"))})])}}},Cx={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},wx={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:i}){const s=i;return(u,p)=>{const l=_t("IconArrowRight"),h=_t("VTableHeaderCell"),_=_t("VTableHeaderRow"),m=_t("VTableHeader"),x=_t("RouterLink"),b=_t("VTableBodyCell"),k=_t("VTableBodyRow"),T=_t("VTableBody"),F=_t("VTable");return t.list.length?(I(),St(F,{key:0,class:"shadow-md"},{default:ft(()=>[et(m,null,{default:ft(()=>[et(_,null,{default:ft(()=>[et(h,{class:"w-full flex justify-between box-border items-center"},{default:ft(()=>[Y("span",null,"OTU ("+oe(t.list.length)+")",1),et(l,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:p[0]||(p[0]=G=>s("close:table"))})]),_:1})]),_:1})]),_:1}),et(T,null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(t.list,G=>(I(),St(k,{key:G.id},{default:ft(()=>[et(b,null,{default:ft(()=>[et(x,{innerHTML:G.object_tag,to:{name:"otus-id",params:{id:G.id}},onClick:p[1]||(p[1]=()=>s("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(I(),Q("div",Cx," No OTUs found in this area "))}}},kx={class:"font-medium"},Qf={__name:"DwcTable",setup(t,{expose:i}){const s=Zt(!1),u=Zt(!1),p=Zt({}),l=Zt();function h({label:_,id:m}){u.value=!0,s.value=!0,p.value={},l.value=_,dn(`/collection_objects/${m}/dwc`).then(({data:x})=>{p.value=x}).catch(()=>{}).finally(()=>{s.value=!1})}return i({show:h}),(_,m)=>{const x=_t("VTableHeaderCell"),b=_t("VTableHeaderRow"),k=_t("VTableHeader"),T=_t("VTableBodyCell"),F=_t("VTableBodyRow"),G=_t("VTableBody"),X=_t("VTable"),bt=_t("VSpinner"),st=_t("VModal");return u.value?(I(),St(st,{key:0,onClose:m[0]||(m[0]=()=>u.value=!1)},{header:ft(()=>[Y("h3",kx,oe(l.value),1)]),default:ft(()=>[et(X,{class:"p-4 pt-0"},{default:ft(()=>[et(k,null,{default:ft(()=>[et(b,null,{default:ft(()=>[et(x,null,{default:ft(()=>[ue("Field")]),_:1}),et(x,null,{default:ft(()=>[ue("Value")]),_:1})]),_:1})]),_:1}),et(G,null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(p.value,(ut,$)=>(I(),St(F,{key:$},{default:ft(()=>[et(T,null,{default:ft(()=>[ue(oe($),1)]),_:2},1024),et(T,null,{default:ft(()=>[ue(oe(ut),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s.value?(I(),St(bt,{key:0})):Ft("",!0)]),_:1})):Ft("",!0)}}},Mx={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},Ex={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:i}){const s=t,u=i,p=Zt(null),l=Zt(null),h=Zt(null),_=Zt([]),m=Zt(!1),x=Zt(),b=Zt(6),k=Zt(6),{popupItem:T,geojsonOptions:F}=Jf({popupElement:p}),G=ce(()=>!!s.shapes&&k.value<=b.value);Mn(()=>{document.addEventListener("keyup",X),document.body.classList.add("overflow-hidden")}),Xr(()=>{document.removeEventListener("keyup",X),document.body.classList.remove("overflow-hidden")});const X=({key:lt})=>{switch(lt){case"Escape":u("close");break}};function bt(lt){const xt={geo_json:lt,taxon_name_id:[s.otu.taxon_name_id],descendants:!0,per:5e3};x.value=!0,qn.getOtus(xt).then(({data:vt})=>{_.value=vt,m.value=!0}).finally(vt=>{x.value=!1})}function st(lt){ut(),G.value&&h.value.resizeMap()}function ut(){k.value=h.value.getMapObject().getZoom()}function $(){b.value=h.value.getMapObject().getZoom(),ut()}return(lt,xt)=>{const vt=_t("VSpinner"),$t=_t("VMap");return I(),Q("div",Mx,[x.value?(I(),St(vt,{key:0})):Ft("",!0),et(Lx,{label:t.otu.object_tag,onClose:xt[0]||(xt[0]=()=>u("close"))},null,8,["label"]),Y("div",{class:pn(["w-full","h-full","relative",{"disable-zoom-out":G.value}])},[et($t,{ref_key:"mapRef",ref:h,class:"w-full h-full",controls:"",dragging:!G.value,"zoom-bounds":b.value,geojson:t.shapes,geojsonOptions:ee(F),"onGeojson:ready":$,"onAdd:layer":xt[1]||(xt[1]=Tt=>bt(JSON.stringify(Tt.geometry))),"onEdit:layer":xt[2]||(xt[2]=Tt=>bt(JSON.stringify(Tt.geometry))),"onDrag:layer":xt[3]||(xt[3]=Tt=>bt(JSON.stringify(Tt.geometry))),"onZoom:change":st,zoom:4},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),Y("div",{ref_key:"popupElement",ref:p},[ee(T)?(I(),St(Xf,{key:0,items:ee(T).base,onSelected:l.value.show},null,8,["items","onSelected"])):Ft("",!0)],512),Y("div",{class:pn(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!m.value,"right-0":m.value}])},[m.value?(I(),St(wx,{key:0,list:_.value,onClose:xt[4]||(xt[4]=()=>u("close")),"onClose:table":xt[5]||(xt[5]=()=>m.value=!1)},null,8,["list"])):Ft("",!0)],2)],2),et(Qf,{ref_key:"dwcTableRef",ref:l},null,512)])}}},Px=ge(Ex,[["__scopeId","data-v-a99dffa5"]]),Bx={class:"relative"},Sx={key:0,class:"flex flex-row p-2 text-xs italic"},Tx={key:1,class:"flex flex-row p-2 gap-2 text-xs"},Ax=2,Ox={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(t){const i=t,s=Zt(!0),u=Zt(!1),p=Zt(null),l=Q4(),h=Zt(null),{popupItem:_,geojsonOptions:m}=Jf({popupElement:h}),x={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return Mn(()=>{s.value=!0,l.loadDistribution({otuId:i.otuId,rankString:i.taxon.rank_string})}),Ji(()=>{l.resetRequest(),l.$reset()}),(b,k)=>{const T=_t("VSpinner"),F=_t("VMap"),G=_t("VButton"),X=_t("ClientOnly"),bt=_t("VCard");return I(),St(bt,null,{default:ft(()=>[Y("div",Bx,[et(X,null,{default:ft(()=>[s.value?(I(),St(T,{key:0})):Ft("",!0),et(F,{class:"h-96 max-h-96",dragging:"",cluster:t.cluster,zoom:Ax,"zoom-bounds":8,geojson:ee(l).distribution.geojson,"cluster-icon-create-function":ee(nx),"geojson-options":ee(m),"onGeojson:ready":k[0]||(k[0]=()=>s.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),Y("div",{ref_key:"popupElement",ref:h},[ee(_)?(I(),St(Xf,{key:0,items:ee(_).base,onSelected:p.value.show},null,8,["items","onSelected"])):Ft("",!0)],512),et(G,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:k[1]||(k[1]=()=>u.value=!0)},{default:ft(()=>[ue(" Search ")]),_:1}),u.value?(I(),St(Px,{key:1,otu:t.otu,shapes:ee(l).distribution.geojson,onClose:k[2]||(k[2]=()=>u.value=!1)},null,8,["otu","shapes"])):Ft("",!0),ee(l).distribution.cachedMap?(I(),St(vx,{key:2,"cached-map":ee(l).distribution.cachedMap},null,8,["cached-map"])):Ft("",!0)]),_:1})]),ee(l).distribution.errorMessage?(I(),Q("div",Sx," * "+oe(ee(l).distribution.errorMessage),1)):Ft("",!0),ee(l).distribution.currentShapeTypes.length?(I(),Q("div",Tx,[(I(!0),Q(Wt,null,Ce(ee(l).distribution.currentShapeTypes,st=>(I(),Q("div",{key:st,class:"flex flex-row items-center"},[Y("div",{class:pn(["w-3","h-3","m-1","rounded-sm",x[st].background])},null,2),Y("span",null,oe(x[st].label),1)]))),128))])):Ft("",!0),et(Qf,{ref_key:"dwcTableRef",ref:p},null,512)]),_:1})}}},Dx={id:"panel:map",component:Ox};function t_(t,i){const s=t.slice(),u=s.splice(0,i),p=s.splice(-i);return{first:u,middle:s,last:p}}const Rx={class:"border-b border-base-muted p-3 px-5"},Ix=["title","innerHTML"],Fx=["innerHTML"],nc={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(i,s)=>(I(),Q("li",Rx,[Y("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,Ix),t.citation.type_label?(I(),Q("p",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,Fx)):Ft("",!0)]))}},Nx={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},e_={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(i,s)=>{const u=_t("IconPlusCircle");return I(),Q("li",Nx,[Y("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:s[0]||(s[0]=()=>i.isExpanded=!i.isExpanded)},[et(u,{class:"h-5 w-5"})]),Y("span",null,"... Show all ... ("+oe(t.count)+")",1)])}}},jx={class:"text-md"},zx={class:"text-sm"},Gx={class:"text-sm"},Vx={class:"text-sm"},$x=2,Hx={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const i=Qr(),s=Zt(!1),u=ce(()=>t_(i.catalog.timeline,$x)),p=ce(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(l,h)=>{const _=_t("VSpinner"),m=_t("VCardHeader"),x=_t("AnimationOpacity"),b=_t("VCard");return I(),St(b,null,{default:ft(()=>[ee(i).catalog.isLoading?(I(),St(_,{key:0,"logo-class":"w-8 h-8",legend:""})):Ft("",!0),et(m,{class:"flex justify-between"},{default:ft(()=>[Y("h2",jx," Nomenclature ("+oe(ee(i).catalog.timeline.length)+") ",1),et(Ko,{"menu-options":p.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Y("ul",zx,[(I(!0),Q(Wt,null,Ce(u.value.first,k=>(I(),St(nc,{key:k.label,citation:k},null,8,["citation"]))),128)),!s.value&&u.value.middle.length?(I(),St(e_,{key:0,count:u.value.middle.length,onClick:h[0]||(h[0]=k=>s.value=!0)},null,8,["count"])):Ft("",!0)]),et(x,null,{default:ft(()=>[ia(Y("ul",Gx,[(I(!0),Q(Wt,null,Ce(u.value.middle,k=>(I(),St(nc,{key:k.label,citation:k},null,8,["citation"]))),128))],512),[[Nl,s.value]])]),_:1}),Y("ul",Vx,[(I(!0),Q(Wt,null,Ce(u.value.last,k=>(I(),St(nc,{key:k.label,citation:k},null,8,["citation"]))),128))])]),_:1})}}},Ux={id:"panel:nomenclature",component:Hx},Zx={class:"border-b border-base-muted p-3 px-5"},qx=["title","innerHTML"],ic={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(i,s)=>(I(),Q("li",Zx,[Y("span",{class:"[&>a]:break-all block",title:t.reference,innerHTML:t.reference},null,8,qx)]))}},Kx={class:"text-md"},Wx={class:"text-sm"},Jx=2,Yx={__name:"PanelNomenclatureReferences",setup(t){const i=Qr(),s=Zt(!1),u=ce(()=>t_(i.catalog.sources,Jx)),p=ce(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(l,h)=>{const _=_t("VSpinner"),m=_t("VCardHeader"),x=_t("AnimationOpacity"),b=_t("VCard");return I(),St(b,null,{default:ft(()=>[ee(i).catalog.isLoading?(I(),St(_,{key:0,"logo-class":"w-8 h-8",legend:""})):Ft("",!0),et(m,{class:"flex justify-between"},{default:ft(()=>[Y("h2",Kx," Nomenclature references ("+oe(ee(i).catalog.sources.length)+") ",1),et(Ko,{"menu-options":p.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Y("ul",Wx,[(I(!0),Q(Wt,null,Ce(u.value.first,k=>(I(),St(ic,{key:k,reference:k},null,8,["reference"]))),128)),!s.value&&u.value.middle.length?(I(),St(e_,{key:0,count:u.value.middle.length,onClick:h[0]||(h[0]=k=>s.value=!0)},null,8,["count"])):Ft("",!0),et(x,null,{default:ft(()=>[ia(Y("div",null,[(I(!0),Q(Wt,null,Ce(u.value.middle,k=>(I(),St(ic,{key:k,reference:k},null,8,["reference"]))),128))],512),[[Nl,s.value]])]),_:1}),(I(!0),Q(Wt,null,Ce(u.value.last,k=>(I(),St(ic,{key:k,reference:k},null,8,["reference"]))),128))])]),_:1})}}},Xx={id:"panel:nomenclature-references",component:Yx},Qx=Y("h2",{class:"text-md"},"Stats",-1),tL={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const i=Qr(),s=Zt(!1),u=ce(()=>[{label:s.value?"Hide taxa":"Show taxa",action:()=>s.value=!s.value}]);return(p,l)=>{const h=_t("VSpinner"),_=_t("VCardHeader"),m=_t("VTableHeaderCell"),x=_t("VTableHeaderRow"),b=_t("VTableHeader"),k=_t("VTableBodyCell"),T=_t("VTableBodyRow"),F=_t("VTableBody"),G=_t("VTable"),X=_t("VCardContent"),bt=_t("VCard");return I(),St(bt,null,{default:ft(()=>[ee(i).catalog.isLoading?(I(),St(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Ft("",!0),et(_,{class:"flex justify-between"},{default:ft(()=>[Qx,et(Ko,{"panel-key":"taxonomy","menu-options":u.value},null,8,["menu-options"])]),_:1}),et(X,{class:"text-sm"},{default:ft(()=>[et(G,null,{default:ft(()=>[et(b,null,{default:ft(()=>[et(x,null,{default:ft(()=>[et(m,{class:"bg-base-foreground"}),s.value?(I(),St(m,{key:0,title:"OTUs linked to valid protonyms"},{default:ft(()=>[ue(" Taxa ")]),_:1})):Ft("",!0),et(m,{title:"Taxon names",class:"border-l border-base-border"},{default:ft(()=>[ue(" Names ")]),_:1}),et(m,{colspan:"2",class:"bg-base-foreground"})]),_:1}),et(x,null,{default:ft(()=>[et(m,null,{default:ft(()=>[ue("Rank")]),_:1}),s.value?(I(),St(m,{key:0,title:"OTUs linked to valid protonyms"},{default:ft(()=>[ue("Total")]),_:1})):Ft("",!0),et(m,{title:"Taxon names",class:"border-l border-base-border"},{default:ft(()=>[ue(" Total ")]),_:1}),et(m,null,{default:ft(()=>[ue(" Valid ")]),_:1}),et(m,null,{default:ft(()=>[ue(" Invalid ")]),_:1})]),_:1})]),_:1}),et(F,null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(ee(i).catalog.stats,({rank:st,taxa:ut,names:$})=>(I(),St(T,{key:st},{default:ft(()=>[et(k,{class:"capitalize"},{default:ft(()=>[ue(oe(st),1)]),_:2},1024),s.value?(I(),St(k,{key:0},{default:ft(()=>[ue(oe(ut),1)]),_:2},1024)):Ft("",!0),et(k,{class:"border-l border-base-border"},{default:ft(()=>[ue(oe($.invalid+$.valid),1)]),_:2},1024),et(k,null,{default:ft(()=>[ue(oe($.valid),1)]),_:2},1024),et(k,null,{default:ft(()=>[ue(oe($.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},eL={id:"panel:statistics",component:tL},nL=Y("h2",{class:"text-md"},"Type",-1),iL=["innerHTML"],rL={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const i=Qr(),s=ce(()=>{var p;return((p=i.taxon)==null?void 0:p.type_taxon_name_relationship)||{}}),u=ce(()=>[s.value.subject_object_tag||"",s.value.subject_status_tag||"",s.value.object_object_tag||""].join(" "));return(p,l)=>{const h=_t("VCardHeader"),_=_t("VCardContent"),m=_t("VCard");return I(),St(m,null,{default:ft(()=>[et(h,{class:"flex justify-between"},{default:ft(()=>[nL,et(Ko,{"panel-key":"panel:type"})]),_:1}),et(_,{class:"text-sm"},{default:ft(()=>[Y("p",{innerHTML:u.value},null,8,iL)]),_:1})]),_:1})}}},oL={id:"panel:type",component:rL,rankGroup:[Vv,$v]},sL=Y("h2",{class:"text-md"},"Type specimen",-1),aL={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=Zt([]);return yn(()=>i.otuId,()=>{i.otuId&&Lr("panel:typeMaterial",()=>qn.getOtuTypeMaterial(i.otuId)).then(({data:u})=>{s.value=u.type_materials_catalog_labels.sort((p,l)=>Ld.indexOf(p.type_type)-Ld.indexOf(l.type_type))})},{immediate:!0}),(u,p)=>{const l=_t("VCardHeader"),h=_t("VCardContent"),_=_t("VCard");return s.value.length?(I(),St(_,{key:0},{default:ft(()=>[et(l,{class:"flex justify-between"},{default:ft(()=>[sL,et(Ko,{"panel-key":"panel:typeMaterial"})]),_:1}),et(h,{class:"text-sm"},{default:ft(()=>[Y("p",null,oe(s.value[0].label),1)]),_:1})]),_:1})):Ft("",!0)}}},lL={id:"panel:type-specimen",component:aL,rankGroup:[Hv,Uv]},uL={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:statistics"]]]}};var cL={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const hL=Object.values(Object.assign({"/panels/PanelSpecimenRecords/main.js":L4,"/panels/PaneliNaturalist/main.js":M4,"/src/modules/otus/components/Panel/PanelContent/main.js":S4,"/src/modules/otus/components/Panel/PanelDescendants/main.js":K4,"/src/modules/otus/components/Panel/PanelGallery/main.js":X4,"/src/modules/otus/components/Panel/PanelMap/main.js":Dx,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":Ux,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":Xx,"/src/modules/otus/components/Panel/PanelStats/main.js":eL,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":oL,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":lL})),{taxa_page:dL}=cL,Id=Object.assign({...uL,...dL});function pL(t){return t.map(i=>i.map(s=>s.map(u=>{const l=typeof u=="string"?{id:u}:{...u};return{...hL.find(_=>_.id===l.id),...l}})))}const Hs={};for(const t in Id){const i=Id[t];Hs[t]={panels:pL((i==null?void 0:i.panels)||{}),rankGroup:i.rank_group||[],label:i.label}}const fL={class:"grid gap-3"},_L={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){var l;const i=t,s=oa(),u=Hs[s.currentRoute.value.meta.tab],p={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(l=u.rankGroup)!=null&&l.length&&!Ec(u.rankGroup,i.taxonRank)&&s.replace({name:"otus-id-overview"}),(h,_)=>(I(),Q("div",fL,[(I(!0),Q(Wt,null,Ce(ee(u).panels,m=>(I(),Q("div",{class:pn(["grid","grid-cols-1","gap-3",p[m.length]])},[(I(!0),Q(Wt,null,Ce(m,(x,b)=>(I(),Q("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:b},[(I(!0),Q(Wt,null,Ce(x,({component:k,rankGroup:T,id:F,bind:G})=>(I(),Q(Wt,{key:F},[!T||ee(Ec)(T,t.taxonRank)?(I(),St(Uo(k),Qp({key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon,"panel-key":F,ref_for:!0},G),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Ft("",!0)],64))),128))]))),128))],2))),256))]))}};function mL(){return Object.keys(Hs||{}).map(i=>({path:i,name:`otus-id-${i}`,component:_L,meta:{tab:i,rankGroup:Hs[i].rankGroup,label:Hs[i].label}}))}const gL=[{name:"otus-id",path:"/otus/:id",component:a4,redirect:{name:"otus-id-overview"},children:mL()}],yL="modulepreload",vL=function(t){return"/"+t},Fd={},On=function(i,s,u){let p=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));p=Promise.all(s.map(_=>{if(_=vL(_),_ in Fd)return;Fd[_]=!0;const m=_.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":yL,m||(b.as="script",b.crossOrigin=""),b.href=_,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((k,T)=>{b.addEventListener("load",k),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${_}`)))})}))}return p.then(()=>i()).catch(l=>{const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l})},bL=()=>On(()=>import("./DataType-BaGEcdF-.js"),[]),xL=()=>On(()=>import("./SectionTerms-BJj6h4AX.js"),[]),LL=()=>On(()=>import("./SectionLimitations-iqY49mNJ.js"),[]),CL=()=>On(()=>import("./SectionLandscape-CTc72X74.js"),__vite__mapDeps([0,1])),wL=()=>On(()=>import("./SectionDescription-C0OEYlUS.js"),[]),kL=()=>On(()=>import("./SectionData-DI6edycO.js"),__vite__mapDeps([2,3,4,5,6,7,8,9])),ML=()=>On(()=>import("./SectionAuthor-ChXmO3Sf.js"),[]),EL=()=>On(()=>import("./iconCitation-DCrhtNj3.js"),[]),PL=()=>On(()=>import("./IconReference-BNZ4wWuo.js"),[]),BL=()=>On(()=>import("./IconOk-9-iqVw8i.js"),[]),SL=()=>On(()=>import("./IconMicroscope-BML-xooK.js"),[]),TL=()=>On(()=>import("./IconImage-wH1lcV1X.js"),[]),AL=()=>On(()=>import("./IconBug-BXUSA1zg.js"),[]),OL=()=>On(()=>import("./IconAudio-Dhp3Z3TK.js"),[]),DL=()=>On(()=>import("./home-Bo4jmJQs.js"),__vite__mapDeps([10,2,3,4,5,6,7,8,9,0,1,11,12,13])),RL=()=>On(()=>import("./about-ZmWPcs82.js"),[]),IL=[{name:"components-Section-Data-DataType",path:"/components/section/data/datatype",component:bL,props:!0},{name:"components-Section-SectionTerms",path:"/components/section/sectionterms",component:xL,props:!0},{name:"components-Section-SectionLimitations",path:"/components/section/sectionlimitations",component:LL,props:!0},{name:"components-Section-SectionLandscape",path:"/components/section/sectionlandscape",component:CL,props:!0},{name:"components-Section-SectionDescription",path:"/components/section/sectiondescription",component:wL,props:!0},{name:"components-Section-SectionData",path:"/components/section/sectiondata",component:kL,props:!0},{name:"components-Section-SectionAuthor",path:"/components/section/sectionauthor",component:ML,props:!0},{name:"components-Icon-iconCitation",path:"/components/icon/iconcitation",component:EL,props:!0},{name:"components-Icon-IconReference",path:"/components/icon/iconreference",component:PL,props:!0},{name:"components-Icon-IconOk",path:"/components/icon/iconok",component:BL,props:!0},{name:"components-Icon-IconMicroscope",path:"/components/icon/iconmicroscope",component:SL,props:!0},{name:"components-Icon-IconImage",path:"/components/icon/iconimage",component:TL,props:!0},{name:"components-Icon-IconBug",path:"/components/icon/iconbug",component:AL,props:!0},{name:"components-Icon-IconAudio",path:"/components/icon/iconaudio",component:OL,props:!0},{name:"home",path:"/",component:DL,props:!0,alias:"/home"},{name:"about",path:"/about",component:RL,props:!0}];var FL={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const NL=Object.assign({"/src/modules/home/router/index.js":wv,"/src/modules/httpErrorPages/router/index.js":Gv,"/src/modules/otus/router/index.js":gL}),jL=Object.assign({}),{base_url:Nd,hash_mode:zL}=FL,GL=[].concat(...Object.values(NL),...Object.values(jL)),VL=[...IL,...GL];function $L(){return zL?ay(Nd):_f(Nd)}function HL(){return Oy({history:$L(),routes:VL,scrollBehavior(t,i,s){return t.hash?{el:t.hash}:{top:0}}})}var UL={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};function ZL({originUrl:t}){const{url:i,project_token:s}=UL,p=e0(i&&s?cv:mv),l=HL(),h=Iy();return p.use(l),p.use(h),{app:p,router:l,store:h}}var qL={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const{map_tile_server:KL,map_tile_attribution:WL,map_tiles:JL}=qL;function YL(t,i){return Object.fromEntries((JL||[{label:"tile",server:KL,attribution:WL}]).map(({server:u,attribution:p,label:l})=>[l,t.tileLayer(u,{...i,attribution:p})]))}var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,i){(function(s,u){u(i)})(Do,function(s){var u="1.9.4";function p(e){var o,d,y,C;for(d=1,y=arguments.length;d<y;d++){C=arguments[d];for(o in C)e[o]=C[o]}return e}var l=Object.create||function(){function e(){}return function(o){return e.prototype=o,new e}}();function h(e,o){var d=Array.prototype.slice;if(e.bind)return e.bind.apply(e,d.call(arguments,1));var y=d.call(arguments,2);return function(){return e.apply(o,y.length?y.concat(d.call(arguments)):arguments)}}var _=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function x(e,o,d){var y,C,B,H;return H=function(){y=!1,C&&(B.apply(d,C),C=!1)},B=function(){y?C=arguments:(e.apply(d,arguments),setTimeout(H,o),y=!0)},B}function b(e,o,d){var y=o[1],C=o[0],B=y-C;return e===y&&d?e:((e-C)%B+B)%B+C}function k(){return!1}function T(e,o){if(o===!1)return e;var d=Math.pow(10,o===void 0?6:o);return Math.round(e*d)/d}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return F(e).split(/\s+/)}function X(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var d in o)e.options[d]=o[d];return e.options}function bt(e,o,d){var y=[];for(var C in e)y.push(encodeURIComponent(d?C.toUpperCase():C)+"="+encodeURIComponent(e[C]));return(!o||o.indexOf("?")===-1?"?":"&")+y.join("&")}var st=/\{ *([\w_ -]+) *\}/g;function ut(e,o){return e.replace(st,function(d,y){var C=o[y];if(C===void 0)throw new Error("No value provided for variable "+d);return typeof C=="function"&&(C=C(o)),C})}var $=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function lt(e,o){for(var d=0;d<e.length;d++)if(e[d]===o)return d;return-1}var xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function vt(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var $t=0;function Tt(e){var o=+new Date,d=Math.max(0,16-(o-$t));return $t=o+d,window.setTimeout(e,d)}var Et=window.requestAnimationFrame||vt("RequestAnimationFrame")||Tt,Dt=window.cancelAnimationFrame||vt("CancelAnimationFrame")||vt("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Vt(e,o,d){if(d&&Et===Tt)e.call(o);else return Et.call(window,h(e,o))}function Bt(e){e&&Dt.call(window,e)}var ae={__proto__:null,extend:p,create:l,bind:h,get lastId(){return _},stamp:m,throttle:x,wrapNum:b,falseFn:k,formatNum:T,trim:F,splitWords:G,setOptions:X,getParamString:bt,template:ut,isArray:$,indexOf:lt,emptyImageUrl:xt,requestFn:Et,cancelFn:Dt,requestAnimFrame:Vt,cancelAnimFrame:Bt};function Le(){}Le.extend=function(e){var o=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=o.__super__=this.prototype,y=l(d);y.constructor=o,o.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(o[C]=this[C]);return e.statics&&p(o,e.statics),e.includes&&(Ae(e.includes),p.apply(null,[y].concat(e.includes))),p(y,e),delete y.statics,delete y.includes,y.options&&(y.options=d.options?l(d.options):{},p(y.options,e.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,H=y._initHooks.length;B<H;B++)y._initHooks[B].call(this)}},o},Le.include=function(e){var o=this.prototype.options;return p(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},Le.mergeOptions=function(e){return p(this.prototype.options,e),this},Le.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),d=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ae(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=$(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var It={on:function(e,o,d){if(typeof e=="object")for(var y in e)this._on(y,e[y],o);else{e=G(e);for(var C=0,B=e.length;C<B;C++)this._on(e[C],o,d)}return this},off:function(e,o,d){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var y in e)this._off(y,e[y],o);else{e=G(e);for(var C=arguments.length===1,B=0,H=e.length;B<H;B++)C?this._off(e[B]):this._off(e[B],o,d)}return this},_on:function(e,o,d,y){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(e,o,d)===!1){d===this&&(d=void 0);var C={fn:o,ctx:d};y&&(C.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(C)}},_off:function(e,o,d){var y,C,B;if(this._events&&(y=this._events[e],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,B=y.length;C<B;C++)y[C].fn=k;delete this._events[e];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var H=this._listens(e,o,d);if(H!==!1){var ot=y[H];this._firingCount&&(ot.fn=k,this._events[e]=y=y.slice()),y.splice(H,1)}}},fire:function(e,o,d){if(!this.listens(e,d))return this;var y=p({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var C=this._events[e];if(C){this._firingCount=this._firingCount+1||1;for(var B=0,H=C.length;B<H;B++){var ot=C[B],dt=ot.fn;ot.once&&this.off(e,dt,ot.ctx),dt.call(ot.ctx||this,y)}this._firingCount--}}return d&&this._propagateEvent(y),this},listens:function(e,o,d,y){typeof e!="string"&&console.warn('"string" type argument expected');var C=o;typeof o!="function"&&(y=!!o,C=void 0,d=void 0);var B=this._events&&this._events[e];if(B&&B.length&&this._listens(e,C,d)!==!1)return!0;if(y){for(var H in this._eventParents)if(this._eventParents[H].listens(e,o,d,y))return!0}return!1},_listens:function(e,o,d){if(!this._events)return!1;var y=this._events[e]||[];if(!o)return!!y.length;d===this&&(d=void 0);for(var C=0,B=y.length;C<B;C++)if(y[C].fn===o&&y[C].ctx===d)return C;return!1},once:function(e,o,d){if(typeof e=="object")for(var y in e)this._on(y,e[y],o,!0);else{e=G(e);for(var C=0,B=e.length;C<B;C++)this._on(e[C],o,d,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,p({layer:e.target,propagatedFrom:e.target},e),!0)}};It.addEventListener=It.on,It.removeEventListener=It.clearAllEventListeners=It.off,It.addOneTimeEventListener=It.once,It.fireEvent=It.fire,It.hasEventListeners=It.listens;var pe=Le.extend(It);function kt(e,o,d){this.x=d?Math.round(e):e,this.y=d?Math.round(o):o}var Cn=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};kt.prototype={clone:function(){return new kt(this.x,this.y)},add:function(e){return this.clone()._add(Xt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Xt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new kt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new kt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Cn(this.x),this.y=Cn(this.y),this},distanceTo:function(e){e=Xt(e);var o=e.x-this.x,d=e.y-this.y;return Math.sqrt(o*o+d*d)},equals:function(e){return e=Xt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Xt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function Xt(e,o,d){return e instanceof kt?e:$(e)?new kt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new kt(e.x,e.y):new kt(e,o,d)}function ke(e,o){if(e)for(var d=o?[e,o]:e,y=0,C=d.length;y<C;y++)this.extend(d[y])}ke.prototype={extend:function(e){var o,d;if(!e)return this;if(e instanceof kt||typeof e[0]=="number"||"x"in e)o=d=Xt(e);else if(e=Fe(e),o=e.min,d=e.max,!o||!d)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=d.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(e){return Xt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Xt(this.min.x,this.max.y)},getTopRight:function(){return Xt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,d;return typeof e[0]=="number"||e instanceof kt?e=Xt(e):e=Fe(e),e instanceof ke?(o=e.min,d=e.max):o=d=e,o.x>=this.min.x&&d.x<=this.max.x&&o.y>=this.min.y&&d.y<=this.max.y},intersects:function(e){e=Fe(e);var o=this.min,d=this.max,y=e.min,C=e.max,B=C.x>=o.x&&y.x<=d.x,H=C.y>=o.y&&y.y<=d.y;return B&&H},overlaps:function(e){e=Fe(e);var o=this.min,d=this.max,y=e.min,C=e.max,B=C.x>o.x&&y.x<d.x,H=C.y>o.y&&y.y<d.y;return B&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var o=this.min,d=this.max,y=Math.abs(o.x-d.x)*e,C=Math.abs(o.y-d.y)*e;return Fe(Xt(o.x-y,o.y-C),Xt(d.x+y,d.y+C))},equals:function(e){return e?(e=Fe(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Fe(e,o){return!e||e instanceof ke?e:new ke(e,o)}function Xe(e,o){if(e)for(var d=o?[e,o]:e,y=0,C=d.length;y<C;y++)this.extend(d[y])}Xe.prototype={extend:function(e){var o=this._southWest,d=this._northEast,y,C;if(e instanceof Ee)y=e,C=e;else if(e instanceof Xe){if(y=e._southWest,C=e._northEast,!y||!C)return this}else return e?this.extend(se(e)||ze(e)):this;return!o&&!d?(this._southWest=new Ee(y.lat,y.lng),this._northEast=new Ee(C.lat,C.lng)):(o.lat=Math.min(y.lat,o.lat),o.lng=Math.min(y.lng,o.lng),d.lat=Math.max(C.lat,d.lat),d.lng=Math.max(C.lng,d.lng)),this},pad:function(e){var o=this._southWest,d=this._northEast,y=Math.abs(o.lat-d.lat)*e,C=Math.abs(o.lng-d.lng)*e;return new Xe(new Ee(o.lat-y,o.lng-C),new Ee(d.lat+y,d.lng+C))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof Ee||"lat"in e?e=se(e):e=ze(e);var o=this._southWest,d=this._northEast,y,C;return e instanceof Xe?(y=e.getSouthWest(),C=e.getNorthEast()):y=C=e,y.lat>=o.lat&&C.lat<=d.lat&&y.lng>=o.lng&&C.lng<=d.lng},intersects:function(e){e=ze(e);var o=this._southWest,d=this._northEast,y=e.getSouthWest(),C=e.getNorthEast(),B=C.lat>=o.lat&&y.lat<=d.lat,H=C.lng>=o.lng&&y.lng<=d.lng;return B&&H},overlaps:function(e){e=ze(e);var o=this._southWest,d=this._northEast,y=e.getSouthWest(),C=e.getNorthEast(),B=C.lat>o.lat&&y.lat<d.lat,H=C.lng>o.lng&&y.lng<d.lng;return B&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=ze(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ze(e,o){return e instanceof Xe?e:new Xe(e,o)}function Ee(e,o,d){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,d!==void 0&&(this.alt=+d)}Ee.prototype={equals:function(e,o){if(!e)return!1;e=se(e);var d=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return d<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return zt.distance(this,se(e))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,d=o/Math.cos(Math.PI/180*this.lat);return ze([this.lat-o,this.lng-d],[this.lat+o,this.lng+d])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function se(e,o,d){return e instanceof Ee?e:$(e)&&typeof e[0]!="object"?e.length===3?new Ee(e[0],e[1],e[2]):e.length===2?new Ee(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new Ee(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new Ee(e,o,d)}var gt={latLngToPoint:function(e,o){var d=this.projection.project(e),y=this.scale(o);return this.transformation._transform(d,y)},pointToLatLng:function(e,o){var d=this.scale(o),y=this.transformation.untransform(e,d);return this.projection.unproject(y)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,d=this.scale(e),y=this.transformation.transform(o.min,d),C=this.transformation.transform(o.max,d);return new ke(y,C)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?b(e.lng,this.wrapLng,!0):e.lng,d=this.wrapLat?b(e.lat,this.wrapLat,!0):e.lat,y=e.alt;return new Ee(d,o,y)},wrapLatLngBounds:function(e){var o=e.getCenter(),d=this.wrapLatLng(o),y=o.lat-d.lat,C=o.lng-d.lng;if(y===0&&C===0)return e;var B=e.getSouthWest(),H=e.getNorthEast(),ot=new Ee(B.lat-y,B.lng-C),dt=new Ee(H.lat-y,H.lng-C);return new Xe(ot,dt)}},zt=p({},gt,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var d=Math.PI/180,y=e.lat*d,C=o.lat*d,B=Math.sin((o.lat-e.lat)*d/2),H=Math.sin((o.lng-e.lng)*d/2),ot=B*B+Math.cos(y)*Math.cos(C)*H*H,dt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*dt}}),Nt=6378137,Jt={R:Nt,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,d=this.MAX_LATITUDE,y=Math.max(Math.min(d,e.lat),-d),C=Math.sin(y*o);return new kt(this.R*e.lng*o,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(e){var o=180/Math.PI;return new Ee((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:function(){var e=Nt*Math.PI;return new ke([-e,-e],[e,e])}()};function Me(e,o,d,y){if($(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=d,this._d=y}Me.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new kt((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function Ie(e,o,d,y){return new Me(e,o,d,y)}var j=p({},zt,{code:"EPSG:3857",projection:Jt,transformation:function(){var e=.5/(Math.PI*Jt.R);return Ie(e,.5,-e,.5)}()}),U=p({},j,{code:"EPSG:900913"});function pt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Lt(e,o){var d="",y,C,B,H,ot,dt;for(y=0,B=e.length;y<B;y++){for(ot=e[y],C=0,H=ot.length;C<H;C++)dt=ot[C],d+=(C?"L":"M")+dt.x+" "+dt.y;d+=o?te.svg?"z":"x":""}return d||"M0 0"}var yt=document.documentElement.style,At="ActiveXObject"in window,jt=At&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),Rt=Jn("webkit"),Pt=Jn("android"),Ut=Jn("android 2")||Jn("android 3"),ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qt=Pt&&Jn("Google")&&ie<537&&!("AudioNode"in window),de=!!window.opera,ye=!Ot&&Jn("chrome"),Ne=Jn("gecko")&&!Rt&&!de&&!At,Pe=!ye&&Jn("safari"),Je=Jn("phantom"),En="OTransition"in yt,Dn=navigator.platform.indexOf("Win")===0,kr=At&&"transition"in yt,ti="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,pi="MozPerspective"in yt,bn=!window.L_DISABLE_3D&&(kr||ti||pi)&&!En&&!Je,un=typeof orientation<"u"||Jn("mobile"),to=un&&Rt,Wl=un&&ti,Wo=!window.PointerEvent&&window.MSPointerEvent,ua=!!(window.PointerEvent||Wo),ca="ontouchstart"in window||!!window.TouchEvent,Jl=!window.L_NO_TOUCH&&(ca||ua),Yl=un&&de,ha=un&&Ne,da=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xl=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,o),window.removeEventListener("testPassiveEventSupport",k,o)}catch{}return e}(),Ql=function(){return!!document.createElement("canvas").getContext}(),Jo=!!(document.createElementNS&&pt("svg").createSVGRect),pa=!!Jo&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),tu=!Jo&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),eu=navigator.platform.indexOf("Mac")===0,nu=navigator.platform.indexOf("Linux")===0;function Jn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var te={ie:At,ielt9:jt,edge:Ot,webkit:Rt,android:Pt,android23:Ut,androidStock:Qt,opera:de,chrome:ye,gecko:Ne,safari:Pe,phantom:Je,opera12:En,win:Dn,ie3d:kr,webkit3d:ti,gecko3d:pi,any3d:bn,mobile:un,mobileWebkit:to,mobileWebkit3d:Wl,msPointer:Wo,pointer:ua,touch:Jl,touchNative:ca,mobileOpera:Yl,mobileGecko:ha,retina:da,passiveEvents:Xl,canvas:Ql,svg:Jo,vml:tu,inlineSvg:pa,mac:eu,linux:nu},fa=te.msPointer?"MSPointerDown":"pointerdown",_a=te.msPointer?"MSPointerMove":"pointermove",Yo=te.msPointer?"MSPointerUp":"pointerup",ma=te.msPointer?"MSPointerCancel":"pointercancel",Xo={touchstart:fa,touchmove:_a,touchend:Yo,touchcancel:ma},ga={touchstart:au,touchmove:no,touchend:no,touchcancel:no},Yi={},ya=!1;function iu(e,o,d){return o==="touchstart"&&Qo(),ga[o]?(d=ga[o].bind(this,d),e.addEventListener(Xo[o],d,!1),d):(console.warn("wrong event specified:",o),k)}function ru(e,o,d){if(!Xo[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(Xo[o],d,!1)}function ou(e){Yi[e.pointerId]=e}function su(e){Yi[e.pointerId]&&(Yi[e.pointerId]=e)}function eo(e){delete Yi[e.pointerId]}function Qo(){ya||(document.addEventListener(fa,ou,!0),document.addEventListener(_a,su,!0),document.addEventListener(Yo,eo,!0),document.addEventListener(ma,eo,!0),ya=!0)}function no(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var d in Yi)o.touches.push(Yi[d]);o.changedTouches=[o],e(o)}}function au(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&_n(o),no(e,o)}function lu(e){var o={},d,y;for(y in e)d=e[y],o[y]=d&&d.bind?d.bind(e):d;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var uu=200;function cu(e,o){e.addEventListener("dblclick",o);var d=0,y;function C(B){if(B.detail!==1){y=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var H=Ca(B);if(!(H.some(function(dt){return dt instanceof HTMLLabelElement&&dt.attributes.for})&&!H.some(function(dt){return dt instanceof HTMLInputElement||dt instanceof HTMLSelectElement}))){var ot=Date.now();ot-d<=uu?(y++,y===2&&o(lu(B))):y=1,d=ot}}}return e.addEventListener("click",C),{dblclick:o,simDblclick:C}}function hu(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var ts=ro(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mr=ro(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),va=Mr==="webkitTransition"||Mr==="OTransition"?Mr+"End":"transitionend";function ba(e){return typeof e=="string"?document.getElementById(e):e}function wi(e,o){var d=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!d||d==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(e,null);d=y?y[o]:null}return d==="auto"?null:d}function Te(e,o,d){var y=document.createElement(e);return y.className=o||"",d&&d.appendChild(y),y}function Ze(e){var o=e.parentNode;o&&o.removeChild(e)}function Er(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Xi(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function Ri(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function es(e,o){if(e.classList!==void 0)return e.classList.contains(o);var d=io(e);return d.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(d)}function me(e,o){if(e.classList!==void 0)for(var d=G(o),y=0,C=d.length;y<C;y++)e.classList.add(d[y]);else if(!es(e,o)){var B=io(e);ns(e,(B?B+" ":"")+o)}}function Qe(e,o){e.classList!==void 0?e.classList.remove(o):ns(e,F((" "+io(e)+" ").replace(" "+o+" "," ")))}function ns(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function io(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function zn(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&du(e,o)}function du(e,o){var d=!1,y="DXImageTransform.Microsoft.Alpha";try{d=e.filters.item(y)}catch{if(o===1)return}o=Math.round(o*100),d?(d.Enabled=o!==100,d.Opacity=o):e.style.filter+=" progid:"+y+"(opacity="+o+")"}function ro(e){for(var o=document.documentElement.style,d=0;d<e.length;d++)if(e[d]in o)return e[d];return!1}function Ii(e,o,d){var y=o||new kt(0,0);e.style[ts]=(te.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(d?" scale("+d+")":"")}function en(e,o){e._leaflet_pos=o,te.any3d?Ii(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function Fi(e){return e._leaflet_pos||new kt(0,0)}var Pr,Br,is;if("onselectstart"in document)Pr=function(){_e(window,"selectstart",_n)},Br=function(){Ve(window,"selectstart",_n)};else{var Sr=ro(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pr=function(){if(Sr){var e=document.documentElement.style;is=e[Sr],e[Sr]="none"}},Br=function(){Sr&&(document.documentElement.style[Sr]=is,is=void 0)}}function rs(){_e(window,"dragstart",_n)}function os(){Ve(window,"dragstart",_n)}var oo,ss;function as(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(so(),oo=e,ss=e.style.outlineStyle,e.style.outlineStyle="none",_e(window,"keydown",so))}function so(){oo&&(oo.style.outlineStyle=ss,oo=void 0,ss=void 0,Ve(window,"keydown",so))}function xa(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ls(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var pu={__proto__:null,TRANSFORM:ts,TRANSITION:Mr,TRANSITION_END:va,get:ba,getStyle:wi,create:Te,remove:Ze,empty:Er,toFront:Xi,toBack:Ri,hasClass:es,addClass:me,removeClass:Qe,setClass:ns,getClass:io,setOpacity:zn,testProp:ro,setTransform:Ii,setPosition:en,getPosition:Fi,get disableTextSelection(){return Pr},get enableTextSelection(){return Br},disableImageDrag:rs,enableImageDrag:os,preventOutline:as,restoreOutline:so,getSizedParentNode:xa,getScale:ls};function _e(e,o,d,y){if(o&&typeof o=="object")for(var C in o)Ni(e,C,o[C],d);else{o=G(o);for(var B=0,H=o.length;B<H;B++)Ni(e,o[B],d,y)}return this}var ei="_leaflet_events";function Ve(e,o,d,y){if(arguments.length===1)La(e),delete e[ei];else if(o&&typeof o=="object")for(var C in o)cs(e,C,o[C],d);else if(o=G(o),arguments.length===2)La(e,function(ot){return lt(o,ot)!==-1});else for(var B=0,H=o.length;B<H;B++)cs(e,o[B],d,y);return this}function La(e,o){for(var d in e[ei]){var y=d.split(/\d/)[0];(!o||o(y))&&cs(e,y,null,null,d)}}var us={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ni(e,o,d,y){var C=o+m(d)+(y?"_"+m(y):"");if(e[ei]&&e[ei][C])return this;var B=function(ot){return d.call(y||e,ot||window.event)},H=B;!te.touchNative&&te.pointer&&o.indexOf("touch")===0?B=iu(e,o,B):te.touch&&o==="dblclick"?B=cu(e,B):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(us[o]||o,B,te.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(B=function(ot){ot=ot||window.event,Qi(e,ot)&&H(ot)},e.addEventListener(us[o],B,!1)):e.addEventListener(o,H,!1):e.attachEvent("on"+o,B),e[ei]=e[ei]||{},e[ei][C]=B}function cs(e,o,d,y,C){C=C||o+m(d)+(y?"_"+m(y):"");var B=e[ei]&&e[ei][C];if(!B)return this;!te.touchNative&&te.pointer&&o.indexOf("touch")===0?ru(e,o,B):te.touch&&o==="dblclick"?hu(e,B):"removeEventListener"in e?e.removeEventListener(us[o]||o,B,!1):e.detachEvent("on"+o,B),e[ei][C]=null}function ji(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function hs(e){return Ni(e,"wheel",ji),this}function Tr(e){return _e(e,"mousedown touchstart dblclick contextmenu",ji),e._leaflet_disable_click=!0,this}function _n(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function zi(e){return _n(e),ji(e),this}function Ca(e){if(e.composedPath)return e.composedPath();for(var o=[],d=e.target;d;)o.push(d),d=d.parentNode;return o}function wa(e,o){if(!o)return new kt(e.clientX,e.clientY);var d=ls(o),y=d.boundingClientRect;return new kt((e.clientX-y.left)/d.x-o.clientLeft,(e.clientY-y.top)/d.y-o.clientTop)}var fu=te.linux&&te.chrome?window.devicePixelRatio:te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ka(e){return te.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/fu:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Qi(e,o){var d=o.relatedTarget;if(!d)return!0;try{for(;d&&d!==e;)d=d.parentNode}catch{return!1}return d!==e}var _u={__proto__:null,on:_e,off:Ve,stopPropagation:ji,disableScrollPropagation:hs,disableClickPropagation:Tr,preventDefault:_n,stop:zi,getPropagationPath:Ca,getMousePosition:wa,getWheelDelta:ka,isExternalTarget:Qi,addListener:_e,removeListener:Ve},Ma=pe.extend({run:function(e,o,d,y){this.stop(),this._el=e,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Fi(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Vt(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,d=this._duration*1e3;o<d?this._runFrame(this._easeOut(o/d),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var d=this._startPos.add(this._offset.multiplyBy(e));o&&d._round(),en(this._el,d),this.fire("step")},_complete:function(){Bt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),we=pe.extend({options:{crs:j,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=X(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(se(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mr&&te.any3d&&!te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_e(this._proxy,va,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,d){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(se(e),o,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=p({animate:d.animate},d.zoom),d.pan=p({animate:d.animate,duration:d.duration},d.pan));var y=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,d.zoom):this._tryAnimatedPan(e,d.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o,d.pan&&d.pan.noMoveStart),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,d){var y=this.getZoomScale(o),C=this.getSize().divideBy(2),B=e instanceof kt?e:this.latLngToContainerPoint(e),H=B.subtract(C).multiplyBy(1-1/y),ot=this.containerPointToLatLng(C.add(H));return this.setView(ot,o,{zoom:d})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():ze(e);var d=Xt(o.paddingTopLeft||o.padding||[0,0]),y=Xt(o.paddingBottomRight||o.padding||[0,0]),C=this.getBoundsZoom(e,!1,d.add(y));if(C=typeof o.maxZoom=="number"?Math.min(o.maxZoom,C):C,C===1/0)return{center:e.getCenter(),zoom:C};var B=y.subtract(d).divideBy(2),H=this.project(e.getSouthWest(),C),ot=this.project(e.getNorthEast(),C),dt=this.unproject(H.add(ot).divideBy(2).add(B),C);return{center:dt,zoom:C}},fitBounds:function(e,o){if(e=ze(e),!e.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(e,o);return this.setView(d.center,d.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=Xt(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,d,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,d){if(d=d||{},d.animate===!1||!te.any3d)return this.setView(e,o,d);this._stop();var y=this.project(this.getCenter()),C=this.project(e),B=this.getSize(),H=this._zoom;e=se(e),o=o===void 0?H:o;var ot=Math.max(B.x,B.y),dt=ot*this.getZoomScale(H,o),wt=C.distanceTo(y)||1,Ht=1.42,le=Ht*Ht;function xe(tn){var ko=tn?-1:1,oi=tn?dt:ot,Du=dt*dt-ot*ot+ko*le*le*wt*wt,Mo=2*oi*le*wt,Eo=Du/Mo,Va=Math.sqrt(Eo*Eo+1)-Eo,$a=Va<1e-9?-18:Math.log(Va);return $a}function kn(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function nn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function rn(tn){return kn(tn)/nn(tn)}var hn=xe(0);function Bi(tn){return ot*(nn(hn)/nn(hn+Ht*tn))}function Co(tn){return ot*(nn(hn)*rn(hn+Ht*tn)-kn(hn))/le}function za(tn){return 1-Math.pow(1-tn,1.5)}var wo=Date.now(),Ga=(xe(1)-hn)/Ht,Ou=d.duration?1e3*d.duration:1e3*Ga*.8;function Ps(){var tn=(Date.now()-wo)/Ou,ko=za(tn)*Ga;tn<=1?(this._flyToFrame=Vt(Ps,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(Co(ko)/wt)),H),this.getScaleZoom(ot/Bi(ko),H),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Ps.call(this),this},flyToBounds:function(e,o){var d=this._getBoundsCenterZoom(e,o);return this.flyTo(d.center,d.zoom,o)},setMaxBounds:function(e){return e=ze(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var d=this.getCenter(),y=this._limitCenter(d,this._zoom,ze(e));return d.equals(y)||this.panTo(y,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var d=Xt(o.paddingTopLeft||o.padding||[0,0]),y=Xt(o.paddingBottomRight||o.padding||[0,0]),C=this.project(this.getCenter()),B=this.project(e),H=this.getPixelBounds(),ot=Fe([H.min.add(d),H.max.subtract(y)]),dt=ot.getSize();if(!ot.contains(B)){this._enforcingBounds=!0;var wt=B.subtract(ot.getCenter()),Ht=ot.extend(B).getSize().subtract(dt);C.x+=wt.x<0?-Ht.x:Ht.x,C.y+=wt.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(C),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=p({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),y=o.divideBy(2).round(),C=d.divideBy(2).round(),B=y.subtract(C);return!B.x&&!B.y?this:(e.animate&&e.pan?this.panBy(B):(e.pan&&this._rawPanBy(B),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=p({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=h(this._handleGeolocationResponse,this),d=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,d,e):navigator.geolocation.getCurrentPosition(o,d,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,d=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,d=e.coords.longitude,y=new Ee(o,d),C=y.toBounds(e.coords.accuracy*2),B=this._locateOptions;if(B.setView){var H=this.getBoundsZoom(C);this.setView(y,B.maxZoom?Math.min(H,B.maxZoom):H)}var ot={latlng:y,bounds:C,timestamp:e.timestamp};for(var dt in e.coords)typeof e.coords[dt]=="number"&&(ot[dt]=e.coords[dt]);this.fire("locationfound",ot)}},addHandler:function(e,o){if(!o)return this;var d=this[e]=new o(this);return this._handlers.push(d),this.options[e]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Bt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Ze(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var d="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),y=Te("div",d,o||this._mapPane);return e&&(this._panes[e]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),d=this.unproject(e.getTopRight());return new Xe(o,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,d){e=ze(e),d=Xt(d||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),B=this.getMaxZoom(),H=e.getNorthWest(),ot=e.getSouthEast(),dt=this.getSize().subtract(d),wt=Fe(this.project(ot,y),this.project(H,y)).getSize(),Ht=te.any3d?this.options.zoomSnap:1,le=dt.x/wt.x,xe=dt.y/wt.y,kn=o?Math.max(le,xe):Math.min(le,xe);return y=this.getScaleZoom(kn,y),Ht&&(y=Math.round(y/(Ht/100))*(Ht/100),y=o?Math.ceil(y/Ht)*Ht:Math.floor(y/Ht)*Ht),Math.max(C,Math.min(B,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new kt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var d=this._getTopLeftPoint(e,o);return new ke(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var d=this.options.crs;return o=o===void 0?this._zoom:o,d.scale(e)/d.scale(o)},getScaleZoom:function(e,o){var d=this.options.crs;o=o===void 0?this._zoom:o;var y=d.zoom(e*d.scale(o));return isNaN(y)?1/0:y},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(se(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(Xt(e),o)},layerPointToLatLng:function(e){var o=Xt(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(se(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(se(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ze(e))},distance:function(e,o){return this.options.crs.distance(se(e),se(o))},containerPointToLayerPoint:function(e){return Xt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Xt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(Xt(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(e)))},mouseEventToContainerPoint:function(e){return wa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=ba(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_e(o,"scroll",this._onScroll,this),this._containerId=m(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&te.any3d,me(e,"leaflet-container"+(te.touch?" leaflet-touch":"")+(te.retina?" leaflet-retina":"")+(te.ielt9?" leaflet-oldie":"")+(te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=wi(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),en(this._mapPane,new kt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(e.markerPane,"leaflet-zoom-hide"),me(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o,d){en(this._mapPane,new kt(0,0));var y=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var C=this._zoom!==o;this._moveStart(C,d)._move(e,o)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,d,y){o===void 0&&(o=this._zoom);var C=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),y?d&&d.pinch&&this.fire("zoom",d):((C||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Bt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){en(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[m(this._container)]=this;var o=e?Ve:_e;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),te.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Bt(this._resizeRequest),this._resizeRequest=Vt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var d=[],y,C=o==="mouseout"||o==="mouseover",B=e.target||e.srcElement,H=!1;B;){if(y=this._targets[m(B)],y&&(o==="click"||o==="preclick")&&this._draggableMoved(y)){H=!0;break}if(y&&y.listens(o,!0)&&(C&&!Qi(B,e)||(d.push(y),C))||B===this._container)break;B=B.parentNode}return!d.length&&!H&&!C&&this.listens(o,!0)&&(d=[this]),d},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var d=e.type;d==="mousedown"&&as(o),this._fireDOMEvent(e,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,d){if(e.type==="click"){var y=p({},e);y.type="preclick",this._fireDOMEvent(y,y.type,d)}var C=this._findEventTargets(e,o);if(d){for(var B=[],H=0;H<d.length;H++)d[H].listens(o,!0)&&B.push(d[H]);C=B.concat(C)}if(C.length){o==="contextmenu"&&_n(e);var ot=C[0],dt={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var wt=ot.getLatLng&&(!ot._radius||ot._radius<=10);dt.containerPoint=wt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(e),dt.layerPoint=this.containerPointToLayerPoint(dt.containerPoint),dt.latlng=wt?ot.getLatLng():this.layerPointToLatLng(dt.layerPoint)}for(H=0;H<C.length;H++)if(C[H].fire(o,dt,!0),dt.originalEvent._stopped||C[H].options.bubblingMouseEvents===!1&&lt(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return Fi(this._mapPane)||new kt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var d=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var d=this.getSize()._divideBy(2);return this.project(e,o)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,d){var y=this._getNewPixelOrigin(d,o);return this.project(e,o)._subtract(y)},_latLngBoundsToNewLayerBounds:function(e,o,d){var y=this._getNewPixelOrigin(d,o);return Fe([this.project(e.getSouthWest(),o)._subtract(y),this.project(e.getNorthWest(),o)._subtract(y),this.project(e.getSouthEast(),o)._subtract(y),this.project(e.getNorthEast(),o)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,d){if(!d)return e;var y=this.project(e,o),C=this.getSize().divideBy(2),B=new ke(y.subtract(C),y.add(C)),H=this._getBoundsOffset(B,d,o);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?e:this.unproject(y.add(H),o)},_limitOffset:function(e,o){if(!o)return e;var d=this.getPixelBounds(),y=new ke(d.min.add(e),d.max.add(e));return e.add(this._getBoundsOffset(y,o))},_getBoundsOffset:function(e,o,d){var y=Fe(this.project(o.getNorthEast(),d),this.project(o.getSouthWest(),d)),C=y.min.subtract(e.min),B=y.max.subtract(e.max),H=this._rebound(C.x,-B.x),ot=this._rebound(C.y,-B.y);return new kt(H,ot)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),d=this.getMaxZoom(),y=te.any3d?this.options.zoomSnap:1;return y&&(e=Math.round(e/y)*y),Math.max(o,Math.min(d,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var d=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,o),!0)},_createAnimProxy:function(){var e=this._proxy=Te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var d=ts,y=this._proxy.style[d];Ii(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),y===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();Ii(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(o),C=this._getCenterOffset(e)._divideBy(1-1/y);return d.animate!==!0&&!this.getSize().contains(C)?!1:(Vt(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,d,y){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Be(e,o){return new we(e,o)}var Rn=Le.extend({options:{position:"topright"},initialize:function(e){X(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),d=this.getPosition(),y=e._controlCorners[d];return me(o,"leaflet-control"),d.indexOf("bottom")!==-1?y.insertBefore(o,y.firstChild):y.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ki=function(e){return new Rn(e)};we.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",d=this._controlContainer=Te("div",o+"control-container",this._container);function y(C,B){var H=o+C+" "+o+B;e[C+B]=Te("div",H,d)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Ze(this._controlCorners[e]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ea=Rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,d,y){return d<y?-1:y<d?1:0}},initialize:function(e,o,d){X(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in e)this._addLayer(e[y],y);for(y in o)this._addLayer(o[y],y,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Rn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(m(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=Te("div",e),d=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Tr(o),hs(o);var y=this._section=Te("section",e+"-list");d&&(this._map.on("click",this.collapse,this),_e(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Te("a",e+"-toggle",o);C.href="#",C.title="Layers",C.setAttribute("role","button"),_e(C,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){_n(B),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Te("div",e+"-base",y),this._separator=Te("div",e+"-separator",y),this._overlaysList=Te("div",e+"-overlays",y),o.appendChild(y)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&m(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,d){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:d}),this.options.sortLayers&&this._layers.sort(h(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var e,o,d,y,C=0;for(d=0;d<this._layers.length;d++)y=this._layers[d],this._addItem(y),o=o||y.overlay,e=e||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(e=e&&C>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(m(e.target)),d=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;d&&this._map.fire(d,o)},_createRadioElement:function(e,o){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=d,y.firstChild},_addItem:function(e){var o=document.createElement("label"),d=this._map.hasLayer(e.layer),y;e.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=d):y=this._createRadioElement("leaflet-base-layers_"+m(this),d),this._layerControlInputs.push(y),y.layerId=m(e.layer),_e(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+e.name;var B=document.createElement("span");o.appendChild(B),B.appendChild(y),B.appendChild(C);var H=e.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,o,d,y=[],C=[];this._handlingClick=!0;for(var B=e.length-1;B>=0;B--)o=e[B],d=this._getLayer(o.layerId).layer,o.checked?y.push(d):o.checked||C.push(d);for(B=0;B<C.length;B++)this._map.hasLayer(C[B])&&this._map.removeLayer(C[B]);for(B=0;B<y.length;B++)this._map.hasLayer(y[B])||this._map.addLayer(y[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,d,y=this._map.getZoom(),C=e.length-1;C>=0;C--)o=e[C],d=this._getLayer(o.layerId).layer,o.disabled=d.options.minZoom!==void 0&&y<d.options.minZoom||d.options.maxZoom!==void 0&&y>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,_e(e,"click",_n),this.expand();var o=this;setTimeout(function(){Ve(e,"click",_n),o._preventClick=!1})}}),Pa=function(e,o,d){return new Ea(e,o,d)},ds=Rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",d=Te("div",o+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,o+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,o+"-out",d,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,d,y,C){var B=Te("a",d,y);return B.innerHTML=e,B.href="#",B.title=o,B.setAttribute("role","button"),B.setAttribute("aria-label",o),Tr(B),_e(B,"click",zi),_e(B,"click",C,this),_e(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";Qe(this._zoomInButton,o),Qe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(me(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(me(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});we.mergeOptions({zoomControl:!0}),we.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ds,this.addControl(this.zoomControl))});var ps=function(e){return new ds(e)},Ar=Rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",d=Te("div",o),y=this.options;return this._addScales(y,o+"-line",d),e.on(y.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),d},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,d){e.metric&&(this._mScale=Te("div",o,d)),e.imperial&&(this._iScale=Te("div",o,d))},_update:function(){var e=this._map,o=e.getSize().y/2,d=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(d)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),d=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,d,o/e)},_updateImperial:function(e){var o=e*3.2808399,d,y,C;o>5280?(d=o/5280,y=this._getRoundNum(d),this._updateScale(this._iScale,y+" mi",y/d)):(C=this._getRoundNum(o),this._updateScale(this._iScale,C+" ft",C/o))},_updateScale:function(e,o,d){e.style.width=Math.round(this.options.maxWidth*d)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),d=e/o;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,o*d}}),mu=function(e){return new Ar(e)},Mi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ao=Rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(te.inlineSvg?Mi+" ":"")+"Leaflet</a>"},initialize:function(e){X(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Te("div","leaflet-control-attribution"),Tr(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var d=[];this.options.prefix&&d.push(this.options.prefix),e.length&&d.push(e.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});we.mergeOptions({attributionControl:!0}),we.addInitHook(function(){this.options.attributionControl&&new ao().addTo(this)});var tr=function(e){return new ao(e)};Rn.Layers=Ea,Rn.Zoom=ds,Rn.Scale=Ar,Rn.Attribution=ao,ki.layers=Pa,ki.zoom=ps,ki.scale=mu,ki.attribution=tr;var ni=Le.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(e,o){return e.addHandler(o,this),this};var gu={Events:It},Ba=te.touch?"touchstart mousedown":"mousedown",Ei=pe.extend({options:{clickTolerance:3},initialize:function(e,o,d,y){X(this,y),this._element=e,this._dragStartTarget=o||e,this._preventOutline=d},enable:function(){this._enabled||(_e(this._dragStartTarget,Ba,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),Ve(this._dragStartTarget,Ba,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!es(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ei._dragging=this,this._preventOutline&&as(this._element),rs(),Pr(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,d=xa(this._element);this._startPoint=new kt(o.clientX,o.clientY),this._startPos=Fi(this._element),this._parentScale=ls(d);var y=e.type==="mousedown";_e(document,y?"mousemove":"touchmove",this._onMove,this),_e(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,d=new kt(o.clientX,o.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,_n(e),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),en(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ve(document,"mousemove touchmove",this._onMove,this),Ve(document,"mouseup touchend touchcancel",this._onUp,this),os(),Br();var o=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,o&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Sa(e,o,d){var y,C=[1,4,2,8],B,H,ot,dt,wt,Ht,le,xe;for(B=0,Ht=e.length;B<Ht;B++)e[B]._code=Vi(e[B],o);for(ot=0;ot<4;ot++){for(le=C[ot],y=[],B=0,Ht=e.length,H=Ht-1;B<Ht;H=B++)dt=e[B],wt=e[H],dt._code&le?wt._code&le||(xe=Yn(wt,dt,le,o,d),xe._code=Vi(xe,o),y.push(xe)):(wt._code&le&&(xe=Yn(wt,dt,le,o,d),xe._code=Vi(xe,o),y.push(xe)),y.push(dt));e=y}return e}function Ta(e,o){var d,y,C,B,H,ot,dt,wt,Ht;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var le=se([0,0]),xe=ze(e),kn=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());kn<1700&&(le=fs(e));var nn=e.length,rn=[];for(d=0;d<nn;d++){var hn=se(e[d]);rn.push(o.project(se([hn.lat-le.lat,hn.lng-le.lng])))}for(ot=dt=wt=0,d=0,y=nn-1;d<nn;y=d++)C=rn[d],B=rn[y],H=C.y*B.x-B.y*C.x,dt+=(C.x+B.x)*H,wt+=(C.y+B.y)*H,ot+=H*3;ot===0?Ht=rn[0]:Ht=[dt/ot,wt/ot];var Bi=o.unproject(Xt(Ht));return se([Bi.lat+le.lat,Bi.lng+le.lng])}function fs(e){for(var o=0,d=0,y=0,C=0;C<e.length;C++){var B=se(e[C]);o+=B.lat,d+=B.lng,y++}return se([o/y,d/y])}var yu={__proto__:null,clipPolygon:Sa,polygonCenter:Ta,centroid:fs};function _s(e,o){if(!o||!e.length)return e.slice();var d=o*o;return e=er(e,d),e=Pn(e,d),e}function Aa(e,o,d){return Math.sqrt($i(e,o,d,!0))}function mn(e,o,d){return $i(e,o,d)}function Pn(e,o){var d=e.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(d);C[0]=C[d-1]=1,lo(e,C,o,0,d-1);var B,H=[];for(B=0;B<d;B++)C[B]&&H.push(e[B]);return H}function lo(e,o,d,y,C){var B=0,H,ot,dt;for(ot=y+1;ot<=C-1;ot++)dt=$i(e[ot],e[y],e[C],!0),dt>B&&(H=ot,B=dt);B>d&&(o[H]=1,lo(e,o,d,y,H),lo(e,o,d,H,C))}function er(e,o){for(var d=[e[0]],y=1,C=0,B=e.length;y<B;y++)vu(e[y],e[C])>o&&(d.push(e[y]),C=y);return C<B-1&&d.push(e[B-1]),d}var Gi;function nr(e,o,d,y,C){var B=y?Gi:Vi(e,d),H=Vi(o,d),ot,dt,wt;for(Gi=H;;){if(!(B|H))return[e,o];if(B&H)return!1;ot=B||H,dt=Yn(e,o,ot,d,C),wt=Vi(dt,d),ot===B?(e=dt,B=wt):(o=dt,H=wt)}}function Yn(e,o,d,y,C){var B=o.x-e.x,H=o.y-e.y,ot=y.min,dt=y.max,wt,Ht;return d&8?(wt=e.x+B*(dt.y-e.y)/H,Ht=dt.y):d&4?(wt=e.x+B*(ot.y-e.y)/H,Ht=ot.y):d&2?(wt=dt.x,Ht=e.y+H*(dt.x-e.x)/B):d&1&&(wt=ot.x,Ht=e.y+H*(ot.x-e.x)/B),new kt(wt,Ht,C)}function Vi(e,o){var d=0;return e.x<o.min.x?d|=1:e.x>o.max.x&&(d|=2),e.y<o.min.y?d|=4:e.y>o.max.y&&(d|=8),d}function vu(e,o){var d=o.x-e.x,y=o.y-e.y;return d*d+y*y}function $i(e,o,d,y){var C=o.x,B=o.y,H=d.x-C,ot=d.y-B,dt=H*H+ot*ot,wt;return dt>0&&(wt=((e.x-C)*H+(e.y-B)*ot)/dt,wt>1?(C=d.x,B=d.y):wt>0&&(C+=H*wt,B+=ot*wt)),H=e.x-C,ot=e.y-B,y?H*H+ot*ot:new kt(C,B)}function Ye(e){return!$(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function ms(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(e)}function Or(e,o){var d,y,C,B,H,ot,dt,wt;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ht=se([0,0]),le=ze(e),xe=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());xe<1700&&(Ht=fs(e));var kn=e.length,nn=[];for(d=0;d<kn;d++){var rn=se(e[d]);nn.push(o.project(se([rn.lat-Ht.lat,rn.lng-Ht.lng])))}for(d=0,y=0;d<kn-1;d++)y+=nn[d].distanceTo(nn[d+1])/2;if(y===0)wt=nn[0];else for(d=0,B=0;d<kn-1;d++)if(H=nn[d],ot=nn[d+1],C=H.distanceTo(ot),B+=C,B>y){dt=(B-y)/C,wt=[ot.x-dt*(ot.x-H.x),ot.y-dt*(ot.y-H.y)];break}var hn=o.unproject(Xt(wt));return se([hn.lat+Ht.lat,hn.lng+Ht.lng])}var bu={__proto__:null,simplify:_s,pointToSegmentDistance:Aa,closestPointOnSegment:mn,clipSegment:nr,_getEdgeIntersection:Yn,_getBitCode:Vi,_sqClosestPointOnSegment:$i,isFlat:Ye,_flat:ms,polylineCenter:Or},Gn={project:function(e){return new kt(e.lng,e.lat)},unproject:function(e){return new Ee(e.y,e.x)},bounds:new ke([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ke([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,d=this.R,y=e.lat*o,C=this.R_MINOR/d,B=Math.sqrt(1-C*C),H=B*Math.sin(y),ot=Math.tan(Math.PI/4-y/2)/Math.pow((1-H)/(1+H),B/2);return y=-d*Math.log(Math.max(ot,1e-10)),new kt(e.lng*o*d,y)},unproject:function(e){for(var o=180/Math.PI,d=this.R,y=this.R_MINOR/d,C=Math.sqrt(1-y*y),B=Math.exp(-e.y/d),H=Math.PI/2-2*Math.atan(B),ot=0,dt=.1,wt;ot<15&&Math.abs(dt)>1e-7;ot++)wt=C*Math.sin(H),wt=Math.pow((1-wt)/(1+wt),C/2),dt=Math.PI/2-2*Math.atan(B*wt)-H,H+=dt;return new Ee(H*o,e.x*o/d)}},uo={__proto__:null,LonLat:Gn,Mercator:Vn,SphericalMercator:Jt},Oa=p({},zt,{code:"EPSG:3395",projection:Vn,transformation:function(){var e=.5/(Math.PI*Vn.R);return Ie(e,.5,-e,.5)}()}),co=p({},zt,{code:"EPSG:4326",projection:Gn,transformation:Ie(1/180,1,-1/180,.5)}),Dr=p({},gt,{projection:Gn,transformation:Ie(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var d=o.lng-e.lng,y=o.lat-e.lat;return Math.sqrt(d*d+y*y)},infinite:!0});gt.Earth=zt,gt.EPSG3395=Oa,gt.EPSG3857=j,gt.EPSG900913=U,gt.EPSG4326=co,gt.Simple=Dr;var Xn=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var d=this.getEvents();o.on(d,this),this.once("remove",function(){o.off(d,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});we.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=m(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=m(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,o){for(var d in this._layers)e.call(o,this._layers[d]);return this},_addLayers:function(e){e=e?$(e)?e:[e]:[];for(var o=0,d=e.length;o<d;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=m(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,d=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;e=C.minZoom===void 0?e:Math.min(e,C.minZoom),o=C.maxZoom===void 0?o:Math.max(o,C.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ir=Xn.extend({initialize:function(e,o){X(this,o),this._layers={};var d,y;if(e)for(d=0,y=e.length;d<y;d++)this.addLayer(e[d])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),d,y;for(d in this._layers)y=this._layers[d],y[e]&&y[e].apply(y,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var d in this._layers)e.call(o,this._layers[d]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return m(e)}}),gs=function(e,o){return new ir(e,o)},fi=ir.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ir.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ir.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Xe;for(var o in this._layers){var d=this._layers[o];e.extend(d.getBounds?d.getBounds():d.getLatLng())}return e}}),xu=function(e,o){return new fi(e,o)},rr=Le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){X(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var d=this._getIconUrl(e);if(!d){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(d,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(y,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(e,o){var d=this.options,y=d[o+"Size"];typeof y=="number"&&(y=[y,y]);var C=Xt(y),B=Xt(o==="shadow"&&d.shadowAnchor||d.iconAnchor||C&&C.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(d.className||""),B&&(e.style.marginLeft=-B.x+"px",e.style.marginTop=-B.y+"px"),C&&(e.style.width=C.x+"px",e.style.height=C.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return te.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Lu(e){return new rr(e)}var Hi=rr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Hi.imagePath!="string"&&(Hi.imagePath=this._detectIconPath()),(this.options.imagePath||Hi.imagePath)+rr.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(d,y,C){var B=y.exec(d);return B&&B[C]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Te("div","leaflet-default-icon-path",document.body),o=wi(e,"background-image")||wi(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Da=ni.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ei(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,d=o._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,B=Fi(o._icon),H=d.getPixelBounds(),ot=d.getPixelOrigin(),dt=Fe(H.min._subtract(ot).add(C),H.max._subtract(ot).subtract(C));if(!dt.contains(B)){var wt=Xt((Math.max(dt.max.x,B.x)-dt.max.x)/(H.max.x-dt.max.x)-(Math.min(dt.min.x,B.x)-dt.min.x)/(H.min.x-dt.min.x),(Math.max(dt.max.y,B.y)-dt.max.y)/(H.max.y-dt.max.y)-(Math.min(dt.min.y,B.y)-dt.min.y)/(H.min.y-dt.min.y)).multiplyBy(y);d.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),en(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Vt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Bt(this._panRequest),this._panRequest=Vt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,d=o._shadow,y=Fi(o._icon),C=o._map.layerPointToLatLng(y);d&&en(d,y),o._latlng=C,e.latlng=C,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Bt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ho=Xn.extend({options:{icon:new Hi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){X(this,o),this._latlng=se(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=se(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=e.icon.createIcon(this._icon),y=!1;d!==this._icon&&(this._icon&&this._removeIcon(),y=!0,e.title&&(d.title=e.title),d.tagName==="IMG"&&(d.alt=e.alt||"")),me(d,o),e.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(d,"focus",this._panOnFocus,this);var C=e.icon.createShadow(this._shadow),B=!1;C!==this._shadow&&(this._removeShadow(),B=!0),C&&(me(C,o),C.alt=""),this._shadow=C,e.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&B&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&en(this._icon,e),this._shadow&&en(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Da)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Da(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&zn(this._icon,e),this._shadow&&zn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,d=o.iconSize?Xt(o.iconSize):Xt(0,0),y=o.iconAnchor?Xt(o.iconAnchor):Xt(0,0);e.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:d.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ra(e,o){return new ho(e,o)}var Bn=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return X(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rr=Bn.extend({options:{fill:!0,radius:10},initialize:function(e,o){X(this,o),this._latlng=se(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=se(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Bn.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,d=this._clickTolerance(),y=[e+d,o+d];this._pxBounds=new ke(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cu(e,o){return new Rr(e,o)}var _i=Rr.extend({initialize:function(e,o,d){if(typeof o=="number"&&(o=p({},d,{radius:o})),X(this,o),this._latlng=se(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Xe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Bn.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,d=this._map,y=d.options.crs;if(y.distance===zt.distance){var C=Math.PI/180,B=this._mRadius/zt.R/C,H=d.project([o+B,e]),ot=d.project([o-B,e]),dt=H.add(ot).divideBy(2),wt=d.unproject(dt).lat,Ht=Math.acos((Math.cos(B*C)-Math.sin(o*C)*Math.sin(wt*C))/(Math.cos(o*C)*Math.cos(wt*C)))/C;(isNaN(Ht)||Ht===0)&&(Ht=B/Math.cos(Math.PI/180*o)),this._point=dt.subtract(d.getPixelOrigin()),this._radius=isNaN(Ht)?0:dt.x-d.project([wt,e-Ht]).x,this._radiusY=dt.y-H.y}else{var le=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(le).x}this._updateBounds()}});function wu(e,o,d){return new _i(e,o,d)}var mi=Bn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){X(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,d=null,y=$i,C,B,H=0,ot=this._parts.length;H<ot;H++)for(var dt=this._parts[H],wt=1,Ht=dt.length;wt<Ht;wt++){C=dt[wt-1],B=dt[wt];var le=y(e,C,B,!0);le<o&&(o=le,d=y(e,C,B))}return d&&(d.distance=Math.sqrt(o)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Or(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=se(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Xe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],d=Ye(e),y=0,C=e.length;y<C;y++)d?(o[y]=se(e[y]),this._bounds.extend(o[y])):o[y]=this._convertLatLngs(e[y]);return o},_project:function(){var e=new ke;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new kt(e,e);this._rawPxBounds&&(this._pxBounds=new ke([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,d){var y=e[0]instanceof Ee,C=e.length,B,H;if(y){for(H=[],B=0;B<C;B++)H[B]=this._map.latLngToLayerPoint(e[B]),d.extend(H[B]);o.push(H)}else for(B=0;B<C;B++)this._projectLatlngs(e[B],o,d)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,d,y,C,B,H,ot,dt;for(d=0,C=0,B=this._rings.length;d<B;d++)for(dt=this._rings[d],y=0,H=dt.length;y<H-1;y++)ot=nr(dt[y],dt[y+1],e,y,!0),ot&&(o[C]=o[C]||[],o[C].push(ot[0]),(ot[1]!==dt[y+1]||y===H-2)&&(o[C].push(ot[1]),C++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,d=0,y=e.length;d<y;d++)e[d]=_s(e[d],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var d,y,C,B,H,ot,dt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(d=0,B=this._parts.length;d<B;d++)for(ot=this._parts[d],y=0,H=ot.length,C=H-1;y<H;C=y++)if(!(!o&&y===0)&&Aa(e,ot[C],ot[y])<=dt)return!0;return!1}});function ys(e,o){return new mi(e,o)}mi._flat=ms;var ii=mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ta(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var o=mi.prototype._convertLatLngs.call(this,e),d=o.length;return d>=2&&o[0]instanceof Ee&&o[0].equals(o[d-1])&&o.pop(),o},_setLatLngs:function(e){mi.prototype._setLatLngs.call(this,e),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,d=new kt(o,o);if(e=new ke(e.min.subtract(d),e.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,B;y<C;y++)B=Sa(this._rings[y],e,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,d,y,C,B,H,ot,dt,wt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(B=0,dt=this._parts.length;B<dt;B++)for(d=this._parts[B],H=0,wt=d.length,ot=wt-1;H<wt;ot=H++)y=d[H],C=d[ot],y.y>e.y!=C.y>e.y&&e.x<(C.x-y.x)*(e.y-y.y)/(C.y-y.y)+y.x&&(o=!o);return o||mi.prototype._containsPoint.call(this,e,!0)}});function ku(e,o){return new ii(e,o)}var gi=fi.extend({initialize:function(e,o){X(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=$(e)?e:e.features,d,y,C;if(o){for(d=0,y=o.length;d<y;d++)C=o[d],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var B=this.options;if(B.filter&&!B.filter(e))return this;var H=po(e,B);return H?(H.feature=Fr(e),H.defaultOptions=H.options,this.resetStyle(H),B.onEachFeature&&B.onEachFeature(e,H),this.addLayer(H)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=p({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function po(e,o){var d=e.type==="Feature"?e.geometry:e,y=d?d.coordinates:null,C=[],B=o&&o.pointToLayer,H=o&&o.coordsToLatLng||bs,ot,dt,wt,Ht;if(!y&&!d)return null;switch(d.type){case"Point":return ot=H(y),vs(B,e,ot,o);case"MultiPoint":for(wt=0,Ht=y.length;wt<Ht;wt++)ot=H(y[wt]),C.push(vs(B,e,ot,o));return new fi(C);case"LineString":case"MultiLineString":return dt=Ir(y,d.type==="LineString"?0:1,H),new mi(dt,o);case"Polygon":case"MultiPolygon":return dt=Ir(y,d.type==="Polygon"?1:2,H),new ii(dt,o);case"GeometryCollection":for(wt=0,Ht=d.geometries.length;wt<Ht;wt++){var le=po({geometry:d.geometries[wt],type:"Feature",properties:e.properties},o);le&&C.push(le)}return new fi(C);case"FeatureCollection":for(wt=0,Ht=d.features.length;wt<Ht;wt++){var xe=po(d.features[wt],o);xe&&C.push(xe)}return new fi(C);default:throw new Error("Invalid GeoJSON object.")}}function vs(e,o,d,y){return e?e(o,d):new ho(d,y&&y.markersInheritOptions&&y)}function bs(e){return new Ee(e[1],e[0],e[2])}function Ir(e,o,d){for(var y=[],C=0,B=e.length,H;C<B;C++)H=o?Ir(e[C],o-1,d):(d||bs)(e[C]),y.push(H);return y}function xs(e,o){return e=se(e),e.alt!==void 0?[T(e.lng,o),T(e.lat,o),T(e.alt,o)]:[T(e.lng,o),T(e.lat,o)]}function fo(e,o,d,y){for(var C=[],B=0,H=e.length;B<H;B++)C.push(o?fo(e[B],Ye(e[B])?0:o-1,d,y):xs(e[B],y));return!o&&d&&C.length>0&&C.push(C[0].slice()),C}function or(e,o){return e.feature?p({},e.feature,{geometry:o}):Fr(o)}function Fr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Nr={toGeoJSON:function(e){return or(this,{type:"Point",coordinates:xs(this.getLatLng(),e)})}};ho.include(Nr),_i.include(Nr),Rr.include(Nr),mi.include({toGeoJSON:function(e){var o=!Ye(this._latlngs),d=fo(this._latlngs,o?1:0,!1,e);return or(this,{type:(o?"Multi":"")+"LineString",coordinates:d})}}),ii.include({toGeoJSON:function(e){var o=!Ye(this._latlngs),d=o&&!Ye(this._latlngs[0]),y=fo(this._latlngs,d?2:o?1:0,!0,e);return o||(y=[y]),or(this,{type:(d?"Multi":"")+"Polygon",coordinates:y})}}),ir.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(d){o.push(d.toGeoJSON(e).geometry.coordinates)}),or(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var d=o==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var B=C.toGeoJSON(e);if(d)y.push(B.geometry);else{var H=Fr(B);H.type==="FeatureCollection"?y.push.apply(y,H.features):y.push(H)}}}),d?or(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Ls(e,o){return new gi(e,o)}var Cs=Ls,_o=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,d){this._url=e,this._bounds=ze(o),X(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Xi(this._image),this},bringToBack:function(){return this._map&&Ri(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ze(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:Te("img");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onload=h(this.fire,this,"load"),o.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ii(this._image,d,o)},_reset:function(){var e=this._image,o=new ke(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=o.getSize();en(e,o.min),e.style.width=d.x+"px",e.style.height=d.y+"px"},_updateOpacity:function(){zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),mo=function(e,o,d){return new _o(e,o,d)},ws=_o.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:Te("video");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onloadeddata=h(this.fire,this,"load"),e){for(var d=o.getElementsByTagName("source"),y=[],C=0;C<d.length;C++)y.push(d[C].src);this._url=d.length>0?y:[o.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var H=Te("source");H.src=this._url[B],o.appendChild(H)}}});function Mu(e,o,d){return new ws(e,o,d)}var Ia=_o.extend({_initImage:function(){var e=this._image=this._url;me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=k,e.onmousemove=k}});function Eu(e,o,d){return new Ia(e,o,d)}var Sn=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,o){e&&(e instanceof Ee||$(e))?(this._latlng=se(e),X(this,o)):(X(this,e),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&zn(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(zn(this._container,0),this._removeTimeout=setTimeout(h(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=se(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xi(this._container),this},bringToBack:function(){return this._map&&Ri(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof fi){o=null;var d=this._source._layers;for(var y in d)if(d[y]._map){o=d[y];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=Xt(this.options.offset),d=this._getAnchor();this._zoomAnimated?en(this._container,e.add(d)):o=o.add(e).add(d);var y=this._containerBottom=-o.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});we.include({_initOverlay:function(e,o,d,y){var C=o;return C instanceof e||(C=new e(y).setContent(o)),d&&C.setLatLng(d),C}}),Xn.include({_initOverlay:function(e,o,d,y){var C=d;return C instanceof e?(X(C,y),C._source=this):(C=o&&!y?o:new e(y,this),C.setContent(d)),C}});var go=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Sn.prototype.openOn.call(this,e)},onAdd:function(e){Sn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bn||this._source.on("preclick",ji))},onRemove:function(e){Sn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bn||this._source.off("preclick",ji))},getEvents:function(){var e=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=Te("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Te("div",e+"-content-wrapper",o);if(this._contentNode=Te("div",e+"-content",d),Tr(o),hs(this._contentNode),_e(o,"contextmenu",ji),this._tipContainer=Te("div",e+"-tip-container",o),this._tip=Te("div",e+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Te("a",e+"-close-button",o);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',_e(y,"click",function(C){_n(C),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var d=e.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),o.width=d+1+"px",o.whiteSpace="",o.height="";var y=e.offsetHeight,C=this.options.maxHeight,B="leaflet-popup-scrolled";C&&y>C?(o.height=C+"px",me(e,B)):Qe(e,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),d=this._getAnchor();en(this._container,o.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,o=parseInt(wi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+o,y=this._containerWidth,C=new kt(this._containerLeft,-d-this._containerBottom);C._add(Fi(this._container));var B=e.layerPointToContainerPoint(C),H=Xt(this.options.autoPanPadding),ot=Xt(this.options.autoPanPaddingTopLeft||H),dt=Xt(this.options.autoPanPaddingBottomRight||H),wt=e.getSize(),Ht=0,le=0;B.x+y+dt.x>wt.x&&(Ht=B.x+y-wt.x+dt.x),B.x-Ht-ot.x<0&&(Ht=B.x-ot.x),B.y+d+dt.y>wt.y&&(le=B.y+d-wt.y+dt.y),B.y-le-ot.y<0&&(le=B.y-ot.y),(Ht||le)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Ht,le]))}},_getAnchor:function(){return Xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pu=function(e,o){return new go(e,o)};we.mergeOptions({closePopupOnClick:!0}),we.include({openPopup:function(e,o,d){return this._initOverlay(go,e,o,d).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Xn.include({bindPopup:function(e,o){return this._popup=this._initOverlay(go,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof fi||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){zi(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Bn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var yo=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Sn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Sn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Sn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Te("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,d,y=this._map,C=this._container,B=y.latLngToContainerPoint(y.getCenter()),H=y.layerPointToContainerPoint(e),ot=this.options.direction,dt=C.offsetWidth,wt=C.offsetHeight,Ht=Xt(this.options.offset),le=this._getAnchor();ot==="top"?(o=dt/2,d=wt):ot==="bottom"?(o=dt/2,d=0):ot==="center"?(o=dt/2,d=wt/2):ot==="right"?(o=0,d=wt/2):ot==="left"?(o=dt,d=wt/2):H.x<B.x?(ot="right",o=0,d=wt/2):(ot="left",o=dt+(Ht.x+le.x)*2,d=wt/2),e=e.subtract(Xt(o,d,!0)).add(Ht).add(le),Qe(C,"leaflet-tooltip-right"),Qe(C,"leaflet-tooltip-left"),Qe(C,"leaflet-tooltip-top"),Qe(C,"leaflet-tooltip-bottom"),me(C,"leaflet-tooltip-"+ot),en(C,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&zn(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return Xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bu=function(e,o){return new yo(e,o)};we.include({openTooltip:function(e,o,d){return this._initOverlay(yo,e,o,d).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Xn.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yo,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[o](d),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof fi||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&(_e(o,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),_e(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var o=e.latlng,d,y;this._tooltip.options.sticky&&e.originalEvent&&(d=this._map.mouseEventToContainerPoint(e.originalEvent),y=this._map.containerPointToLayerPoint(d),o=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(o)}});var Fa=rr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Er(o),o.appendChild(d.html)):o.innerHTML=d.html!==!1?d.html:"",d.bgPos){var y=Xt(d.bgPos);o.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Su(e){return new Fa(e)}rr.Default=Hi;var jr=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){X(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ze(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof kt?e:new kt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,d=-e(-1/0,1/0),y=0,C=o.length,B;y<C;y++)B=o[y].style.zIndex,o[y]!==this._container&&B&&(d=e(d,+B));isFinite(d)&&(this.options.zIndex=d+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te.ielt9){zn(this._container,this.options.opacity);var e=+new Date,o=!1,d=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var B=Math.min(1,(e-C.loaded)/200);zn(C.el,B),B<1?o=!0:(C.active?d=!0:this._onOpaqueTile(C),C.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),o&&(Bt(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=Te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===e?(this._levels[d].el.style.zIndex=o-Math.abs(e-d),this._onUpdateLevel(d)):(Ze(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var y=this._levels[e],C=this._map;return y||(y=this._levels[e]={},y.el=Te("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=o,y.origin=C.project(C.unproject(C.getPixelOrigin()),e).round(),y.zoom=e,this._setZoomTransform(y,C.getCenter(),C.getZoom()),k(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,o,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var y=o.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ze(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,d,y){var C=Math.floor(e/2),B=Math.floor(o/2),H=d-1,ot=new kt(+C,+B);ot.z=+H;var dt=this._tileCoordsToKey(ot),wt=this._tiles[dt];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),H>y?this._retainParent(C,B,H,y):!1)},_retainChildren:function(e,o,d,y){for(var C=2*e;C<2*e+2;C++)for(var B=2*o;B<2*o+2;B++){var H=new kt(C,B);H.z=d+1;var ot=this._tileCoordsToKey(H),dt=this._tiles[ot];if(dt&&dt.active){dt.retain=!0;continue}else dt&&dt.loaded&&(dt.retain=!0);d+1<y&&this._retainChildren(C,B,d+1,y)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,d,y){var C=Math.round(o);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var B=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||B)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(e),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var d in this._levels)this._setZoomTransform(this._levels[d],e,o)},_setZoomTransform:function(e,o,d){var y=this._map.getZoomScale(d,e.zoom),C=e.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(o,d)).round();te.any3d?Ii(e.el,C,y):en(e.el,C)},_resetGrid:function(){var e=this._map,o=e.options.crs,d=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],y).x/d.x),Math.ceil(e.project([0,o.wrapLng[1]],y).x/d.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],y).y/d.x),Math.ceil(e.project([o.wrapLat[1],0],y).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,d=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),y=o.getZoomScale(d,this._tileZoom),C=o.project(e,this._tileZoom).floor(),B=o.getSize().divideBy(y*2);return new ke(C.subtract(B),C.add(B))},_update:function(e){var o=this._map;if(o){var d=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(e),C=this._pxBoundsToTileRange(y),B=C.getCenter(),H=[],ot=this.options.keepBuffer,dt=new ke(C.getBottomLeft().subtract([ot,-ot]),C.getTopRight().add([ot,-ot]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Ht=this._tiles[wt].coords;(Ht.z!==this._tileZoom||!dt.contains(new kt(Ht.x,Ht.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(e,d);return}for(var le=C.min.y;le<=C.max.y;le++)for(var xe=C.min.x;xe<=C.max.x;xe++){var kn=new kt(xe,le);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var nn=this._tiles[this._tileCoordsToKey(kn)];nn?nn.current=!0:H.push(kn)}}if(H.sort(function(hn,Bi){return hn.distanceTo(B)-Bi.distanceTo(B)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var rn=document.createDocumentFragment();for(xe=0;xe<H.length;xe++)this._addTile(H[xe],rn);this._level.el.appendChild(rn)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var d=this._globalTileRange;if(!o.wrapLng&&(e.x<d.min.x||e.x>d.max.x)||!o.wrapLat&&(e.y<d.min.y||e.y>d.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(e);return ze(this.options.bounds).overlaps(y)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,d=this.getTileSize(),y=e.scaleBy(d),C=y.add(d),B=o.unproject(y,e.z),H=o.unproject(C,e.z);return[B,H]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),d=new Xe(o[0],o[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),d=new kt(+o[0],+o[1]);return d.z=+o[2],d},_removeTile:function(e){var o=this._tiles[e];o&&(Ze(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){me(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=k,e.onmousemove=k,te.ielt9&&this.options.opacity<1&&zn(e,this.options.opacity)},_addTile:function(e,o){var d=this._getTilePos(e),y=this._tileCoordsToKey(e),C=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(C),this.createTile.length<2&&Vt(h(this._tileReady,this,e,null,C)),en(C,d),this._tiles[y]={el:C,coords:e,current:!0},o.appendChild(C),this.fire("tileloadstart",{tile:C,coords:e})},_tileReady:function(e,o,d){o&&this.fire("tileerror",{error:o,tile:d,coords:e});var y=this._tileCoordsToKey(e);d=this._tiles[y],d&&(d.loaded=+new Date,this._map._fadeAnimated?(zn(d.el,0),Bt(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),o||(me(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te.ielt9||!this._map._fadeAnimated?Vt(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new kt(this._wrapX?b(e.x,this._wrapX):e.x,this._wrapY?b(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new ke(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Tu(e){return new jr(e)}var Ui=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=X(this,o),o.detectRetina&&te.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var d=document.createElement("img");return _e(d,"load",h(this._tileOnLoad,this,o,d)),_e(d,"error",h(this._tileOnError,this,o,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(e),d},getTileUrl:function(e){var o={r:te.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=d),o["-y"]=d}return ut(this._url,p(o,this.options))},_tileOnLoad:function(e,o){te.ielt9?setTimeout(h(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,d){var y=this.options.errorTileUrl;y&&o.getAttribute("src")!==y&&(o.src=y),e(d,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,d=this.options.zoomReverse,y=this.options.zoomOffset;return d&&(e=o-e),e+y},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=k,o.onerror=k,!o.complete)){o.src=xt;var d=this._tiles[e].coords;Ze(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:d})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",xt),jr.prototype._removeTile.call(this,e)},_tileReady:function(e,o,d){if(!(!this._map||d&&d.getAttribute("src")===xt))return jr.prototype._tileReady.call(this,e,o,d)}});function vo(e,o){return new Ui(e,o)}var Na=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var d=p({},this.defaultWmsParams);for(var y in o)y in this.options||(d[y]=o[y]);o=X(this,o);var C=o.detectRetina&&te.retina?2:1,B=this.getTileSize();d.width=B.x*C,d.height=B.y*C,this.wmsParams=d},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ui.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),d=this._crs,y=Fe(d.project(o[0]),d.project(o[1])),C=y.min,B=y.max,H=(this._wmsVersion>=1.3&&this._crs===co?[C.y,C.x,B.y,B.x]:[C.x,C.y,B.x,B.y]).join(","),ot=Ui.prototype.getTileUrl.call(this,e);return ot+bt(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(e,o){return p(this.wmsParams,e),o||this.redraw(),this}});function Au(e,o){return new Na(e,o)}Ui.WMS=Na,vo.wms=Au;var ri=Xn.extend({options:{padding:.1},initialize:function(e){X(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var d=this._map.getZoomScale(o,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,o),B=y.multiplyBy(-d).add(C).subtract(this._map._getNewPixelOrigin(e,o));te.any3d?Ii(this._container,B,d):en(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),d=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new ke(d,d.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bo=ri.extend({options:{tolerance:0},getEvents:function(){var e=ri.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");_e(e,"mousemove",this._onMouseMove,this),_e(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_e(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Bt(this._redrawRequest),delete this._ctx,Ze(this._container),Ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var e=this._bounds,o=this._container,d=e.getSize(),y=te.retina?2:1;en(o,e.min),o.width=y*d.x,o.height=y*d.y,o.style.width=d.x+"px",o.style.height=d.y+"px",te.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[m(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,d=o.next,y=o.prev;d?d.prev=y:this._drawLast=y,y?y.next=d:this._drawFirst=d,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),d=[],y,C;for(C=0;C<o.length;C++){if(y=Number(o[C]),isNaN(y))return;d.push(y)}e.options._dashArray=d}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Vt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ke,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var d=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)e=y.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var d,y,C,B,H=e._parts,ot=H.length,dt=this._ctx;if(ot){for(dt.beginPath(),d=0;d<ot;d++){for(y=0,C=H[d].length;y<C;y++)B=H[d][y],dt[y?"lineTo":"moveTo"](B.x,B.y);o&&dt.closePath()}this._fillStroke(dt,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,d=this._ctx,y=Math.max(Math.round(e._radius),1),C=(Math.max(Math.round(e._radiusY),1)||y)/y;C!==1&&(d.save(),d.scale(1,C)),d.beginPath(),d.arc(o.x,o.y/C,y,0,Math.PI*2,!1),C!==1&&d.restore(),this._fillStroke(d,e)}},_fillStroke:function(e,o){var d=o.options;d.fill&&(e.globalAlpha=d.fillOpacity,e.fillStyle=d.fillColor||d.color,e.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=d.opacity,e.lineWidth=d.weight,e.strokeStyle=d.color,e.lineCap=d.lineCap,e.lineJoin=d.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),d,y,C=this._drawFirst;C;C=C.next)d=C.layer,d.options.interactive&&d._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(d))&&(y=d);this._fireEvent(y?[y]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var d,y,C=this._drawFirst;C;C=C.next)d=C.layer,d.options.interactive&&d._containsPoint(o)&&(y=d);y!==this._hoveredLayer&&(this._handleMouseOut(e),y&&(me(this._container,"leaflet-interactive"),this._fireEvent([y],e,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,d){this._map._fireDOMEvent(o,d||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var d=o.next,y=o.prev;if(d)d.prev=y;else return;y?y.next=d:d&&(this._drawFirst=d),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var d=o.next,y=o.prev;if(y)y.next=d;else return;d?d.prev=y:y&&(this._drawLast=y),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function ja(e){return te.canvas?new bo(e):null}var zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ks={_initContainer:function(){this._container=Te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=zr("shape");me(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=zr("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;Ze(o),e.removeInteractiveTarget(o),delete this._layers[m(e)]},_updateStyle:function(e){var o=e._stroke,d=e._fill,y=e.options,C=e._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(o||(o=e._stroke=zr("stroke")),C.appendChild(o),o.weight=y.weight+"px",o.color=y.color,o.opacity=y.opacity,y.dashArray?o.dashStyle=$(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=y.lineCap.replace("butt","flat"),o.joinstyle=y.lineJoin):o&&(C.removeChild(o),e._stroke=null),y.fill?(d||(d=e._fill=zr("fill")),C.appendChild(d),d.color=y.fillColor||y.color,d.opacity=y.fillOpacity):d&&(C.removeChild(d),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),d=Math.round(e._radius),y=Math.round(e._radiusY||d);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+d+","+y+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){Xi(e._container)},_bringToBack:function(e){Ri(e._container)}},wn=te.vml?zr:pt,cn=ri.extend({_initContainer:function(){this._container=wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),Ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var e=this._bounds,o=e.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,d.setAttribute("width",o.x),d.setAttribute("height",o.y)),en(d,e.min),d.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=wn("path");e.options.className&&me(o,e.options.className),e.options.interactive&&me(o,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ze(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,d=e.options;o&&(d.stroke?(o.setAttribute("stroke",d.color),o.setAttribute("stroke-opacity",d.opacity),o.setAttribute("stroke-width",d.weight),o.setAttribute("stroke-linecap",d.lineCap),o.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?o.setAttribute("stroke-dasharray",d.dashArray):o.removeAttribute("stroke-dasharray"),d.dashOffset?o.setAttribute("stroke-dashoffset",d.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),d.fill?(o.setAttribute("fill",d.fillColor||d.color),o.setAttribute("fill-opacity",d.fillOpacity),o.setAttribute("fill-rule",d.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,Lt(e._parts,o))},_updateCircle:function(e){var o=e._point,d=Math.max(Math.round(e._radius),1),y=Math.max(Math.round(e._radiusY),1)||d,C="a"+d+","+y+" 0 1,0 ",B=e._empty()?"M0 0":"M"+(o.x-d)+","+o.y+C+d*2+",0 "+C+-d*2+",0 ";this._setPath(e,B)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){Xi(e._path)},_bringToBack:function(e){Ri(e._path)}});te.vml&&cn.include(ks);function Ms(e){return te.svg||te.vml?new cn(e):null}we.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&ja(e)||Ms(e)}});var $n=ii.extend({initialize:function(e,o){ii.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ze(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function fe(e,o){return new $n(e,o)}cn.create=wn,cn.pointsToPath=Lt,gi.geometryToLayer=po,gi.coordsToLatLng=bs,gi.coordsToLatLngs=Ir,gi.latLngToCoords=xs,gi.latLngsToCoords=fo,gi.getFeature=or,gi.asFeature=Fr,we.mergeOptions({boxZoom:!0});var xo=ni.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pr(),rs(),this._startPoint=this._map.mouseEventToContainerPoint(e),_e(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Te("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new ke(this._point,this._startPoint),d=o.getSize();en(this._box,o.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ze(this._box),Qe(this._container,"leaflet-crosshair")),Br(),os(),Ve(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var o=new Xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});we.addInitHook("addHandler","boxZoom",xo),we.mergeOptions({doubleClickZoom:!0});var Lo=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,d=o.getZoom(),y=o.options.zoomDelta,C=e.originalEvent.shiftKey?d-y:d+y;o.options.doubleClickZoom==="center"?o.setZoom(C):o.setZoomAround(e.containerPoint,C)}});we.addInitHook("addHandler","doubleClickZoom",Lo),we.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yi=ni.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ei(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ze(this._map.options.maxBounds);this._offsetLimit=Fe(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),d=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-o+d)%e+o-d,B=(y+o+d)%e-o-d,H=Math.abs(C+d)<Math.abs(B+d)?C:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(e){var o=this._map,d=o.options,y=!d.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),y)o.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,H=d.easeLinearity,ot=C.multiplyBy(H/B),dt=ot.distanceTo([0,0]),wt=Math.min(d.inertiaMaxSpeed,dt),Ht=ot.multiplyBy(wt/dt),le=wt/(d.inertiaDeceleration*H),xe=Ht.multiplyBy(-le/2).round();!xe.x&&!xe.y?o.fire("moveend"):(xe=o._limitOffset(xe,o.options.maxBounds),Vt(function(){o.panBy(xe,{duration:le,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});we.addInitHook("addHandler","dragging",yi),we.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sn=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),_e(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,d=e.scrollTop||o.scrollTop,y=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(y,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},d=this.keyCodes,y,C;for(y=0,C=d.left.length;y<C;y++)o[d.left[y]]=[-1*e,0];for(y=0,C=d.right.length;y<C;y++)o[d.right[y]]=[e,0];for(y=0,C=d.down.length;y<C;y++)o[d.down[y]]=[0,e];for(y=0,C=d.up.length;y<C;y++)o[d.up[y]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},d=this.keyCodes,y,C;for(y=0,C=d.zoomIn.length;y<C;y++)o[d.zoomIn[y]]=e;for(y=0,C=d.zoomOut.length;y<C;y++)o[d.zoomOut[y]]=-e},_addHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,d=this._map,y;if(o in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(y=this._panKeys[o],e.shiftKey&&(y=Xt(y).multiplyBy(3)),d.options.maxBounds&&(y=d._limitOffset(Xt(y),d.options.maxBounds)),d.options.worldCopyJump){var C=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(y)));d.panTo(C)}else d.panBy(y)}else if(o in this._zoomKeys)d.setZoom(d.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;zi(e)}}});we.addInitHook("addHandler","keyboard",sn),we.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Es=ni.extend({addHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=ka(e),d=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var y=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),y),zi(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),d=this._map.options.zoomSnap||0;e._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,B=d?Math.ceil(C/d)*d:C,H=e._limitZoom(o+(this._delta>0?B:-B))-o;this._delta=0,this._startTime=null,H&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+H):e.setZoomAround(this._lastMousePos,o+H))}});we.addInitHook("addHandler","scrollWheelZoom",Es);var Hn=600;we.mergeOptions({tapHold:te.touchNative&&te.safari&&te.mobile,tapTolerance:15});var In=ni.extend({addHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new kt(o.clientX,o.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(_e(document,"touchend",_n),_e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Hn),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ve(document,"touchend",_n),Ve(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new kt(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var d=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});d._simulated=!0,o.target.dispatchEvent(d)}});we.addInitHook("addHandler","tapHold",In),we.mergeOptions({touchZoom:te.touch,bounceAtZoomLimits:!0});var Pi=ni.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var d=o.mouseEventToContainerPoint(e.touches[0]),y=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(d.add(y)._divideBy(2))),this._startDist=d.distanceTo(y),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),_n(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,d=o.mouseEventToContainerPoint(e.touches[0]),y=o.mouseEventToContainerPoint(e.touches[1]),C=d.distanceTo(y)/this._startDist;if(this._zoom=o.getScaleZoom(C,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&C<1||this._zoom>o.getMaxZoom()&&C>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var B=d._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&B.x===0&&B.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Bt(this._animRequest);var H=h(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Vt(H,this,!0),_n(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Bt(this._animRequest),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});we.addInitHook("addHandler","touchZoom",Pi),we.BoxZoom=xo,we.DoubleClickZoom=Lo,we.Drag=yi,we.Keyboard=sn,we.ScrollWheelZoom=Es,we.TapHold=In,we.TouchZoom=Pi,s.Bounds=ke,s.Browser=te,s.CRS=gt,s.Canvas=bo,s.Circle=_i,s.CircleMarker=Rr,s.Class=Le,s.Control=Rn,s.DivIcon=Fa,s.DivOverlay=Sn,s.DomEvent=_u,s.DomUtil=pu,s.Draggable=Ei,s.Evented=pe,s.FeatureGroup=fi,s.GeoJSON=gi,s.GridLayer=jr,s.Handler=ni,s.Icon=rr,s.ImageOverlay=_o,s.LatLng=Ee,s.LatLngBounds=Xe,s.Layer=Xn,s.LayerGroup=ir,s.LineUtil=bu,s.Map=we,s.Marker=ho,s.Mixin=gu,s.Path=Bn,s.Point=kt,s.PolyUtil=yu,s.Polygon=ii,s.Polyline=mi,s.Popup=go,s.PosAnimation=Ma,s.Projection=uo,s.Rectangle=$n,s.Renderer=ri,s.SVG=cn,s.SVGOverlay=Ia,s.TileLayer=Ui,s.Tooltip=yo,s.Transformation=Me,s.Util=ae,s.VideoOverlay=ws,s.bind=h,s.bounds=Fe,s.canvas=ja,s.circle=wu,s.circleMarker=Cu,s.control=ki,s.divIcon=Su,s.extend=p,s.featureGroup=xu,s.geoJSON=Ls,s.geoJson=Cs,s.gridLayer=Tu,s.icon=Lu,s.imageOverlay=mo,s.latLng=se,s.latLngBounds=ze,s.layerGroup=gs,s.map=Be,s.marker=Ra,s.point=Xt,s.polygon=ku,s.polyline=ys,s.popup=Pu,s.rectangle=fe,s.setOptions=X,s.stamp=m,s.svg=Ms,s.svgOverlay=Eu,s.tileLayer=vo,s.tooltip=Bu,s.transformation=Ie,s.version=u,s.videoOverlay=Mu;var qe=window.L;s.noConflict=function(){return window.L=qe,this},window.L=s})})(Bc,Bc.exports);var QL=Bc.exports;const Un=XL(QL),tC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",eC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",nC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",iC={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},rC={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},n_={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},oC={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},sC=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:iC,CollectionObject:rC,Georeference:n_,TypeMaterial:oC},Symbol.toStringTag,{value:"Module"})),aC={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},lC={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},uC={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},cC={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},jd=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:aC,AssertedDistribution:lC,CollectionObject:uC,TypeMaterial:cC},Symbol.toStringTag,{value:"Module"})),zd=[rx,Yf,ox,sx,ax];function Gd(t){const i=t.map(s=>s.type);return i.sort((s,u)=>zd.indexOf(s)-zd.indexOf(u)),i[0]}const hC=({L:t})=>({onEachFeature:(i,s)=>{s.pm.setOptions(Pc),s.pm.disable()},pointToLayer:(i,s)=>{const u=Gd(i.properties.base),p=sC[u]||n_,l=t.marker(s,{icon:t.divIcon(p)});return l.pm.setOptions(Pc),l},style:i=>{var u;const s=Gd((u=i.properties)==null?void 0:u.base);if(jd[s])return jd[s]}});(()=>{var fh,_h;var t=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,p=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),_=(n,r,a,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of u(r))!l.call(n,f)&&f!==a&&i(n,f,{get:()=>r[f],enumerable:!(c=s(r,f))||c.enumerable});return n},m=(n,r,a)=>(a=n!=null?t(p(n)):{},_(r||!n||!n.__esModule?i(a,"default",{value:n,enumerable:!0}):a,n)),x=h((n,r)=>{function a(){this.__data__=[],this.size=0}r.exports=a}),b=h((n,r)=>{function a(c,f){return c===f||c!==c&&f!==f}r.exports=a}),k=h((n,r)=>{var a=b();function c(f,g){for(var v=f.length;v--;)if(a(f[v][0],g))return v;return-1}r.exports=c}),T=h((n,r)=>{var a=k(),c=Array.prototype,f=c.splice;function g(v){var w=this.__data__,M=a(w,v);if(M<0)return!1;var P=w.length-1;return M==P?w.pop():f.call(w,M,1),--this.size,!0}r.exports=g}),F=h((n,r)=>{var a=k();function c(f){var g=this.__data__,v=a(g,f);return v<0?void 0:g[v][1]}r.exports=c}),G=h((n,r)=>{var a=k();function c(f){return a(this.__data__,f)>-1}r.exports=c}),X=h((n,r)=>{var a=k();function c(f,g){var v=this.__data__,w=a(v,f);return w<0?(++this.size,v.push([f,g])):v[w][1]=g,this}r.exports=c}),bt=h((n,r)=>{var a=x(),c=T(),f=F(),g=G(),v=X();function w(M){var P=-1,V=M==null?0:M.length;for(this.clear();++P<V;){var N=M[P];this.set(N[0],N[1])}}w.prototype.clear=a,w.prototype.delete=c,w.prototype.get=f,w.prototype.has=g,w.prototype.set=v,r.exports=w}),st=h((n,r)=>{var a=bt();function c(){this.__data__=new a,this.size=0}r.exports=c}),ut=h((n,r)=>{function a(c){var f=this.__data__,g=f.delete(c);return this.size=f.size,g}r.exports=a}),$=h((n,r)=>{function a(c){return this.__data__.get(c)}r.exports=a}),lt=h((n,r)=>{function a(c){return this.__data__.has(c)}r.exports=a}),xt=h((n,r)=>{var a=typeof Do=="object"&&Do&&Do.Object===Object&&Do;r.exports=a}),vt=h((n,r)=>{var a=xt(),c=typeof self=="object"&&self&&self.Object===Object&&self,f=a||c||Function("return this")();r.exports=f}),$t=h((n,r)=>{var a=vt(),c=a.Symbol;r.exports=c}),Tt=h((n,r)=>{var a=$t(),c=Object.prototype,f=c.hasOwnProperty,g=c.toString,v=a?a.toStringTag:void 0;function w(M){var P=f.call(M,v),V=M[v];try{M[v]=void 0;var N=!0}catch{}var rt=g.call(M);return N&&(P?M[v]=V:delete M[v]),rt}r.exports=w}),Et=h((n,r)=>{var a=Object.prototype,c=a.toString;function f(g){return c.call(g)}r.exports=f}),Dt=h((n,r)=>{var a=$t(),c=Tt(),f=Et(),g="[object Null]",v="[object Undefined]",w=a?a.toStringTag:void 0;function M(P){return P==null?P===void 0?v:g:w&&w in Object(P)?c(P):f(P)}r.exports=M}),Vt=h((n,r)=>{function a(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}r.exports=a}),Bt=h((n,r)=>{var a=Dt(),c=Vt(),f="[object AsyncFunction]",g="[object Function]",v="[object GeneratorFunction]",w="[object Proxy]";function M(P){if(!c(P))return!1;var V=a(P);return V==g||V==v||V==f||V==w}r.exports=M}),ae=h((n,r)=>{var a=vt(),c=a["__core-js_shared__"];r.exports=c}),Le=h((n,r)=>{var a=ae(),c=function(){var g=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function f(g){return!!c&&c in g}r.exports=f}),Ae=h((n,r)=>{var a=Function.prototype,c=a.toString;function f(g){if(g!=null){try{return c.call(g)}catch{}try{return g+""}catch{}}return""}r.exports=f}),It=h((n,r)=>{var a=Bt(),c=Le(),f=Vt(),g=Ae(),v=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,M=Function.prototype,P=Object.prototype,V=M.toString,N=P.hasOwnProperty,rt=RegExp("^"+V.call(N).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ht(Mt){if(!f(Mt)||c(Mt))return!1;var Gt=a(Mt)?rt:w;return Gt.test(g(Mt))}r.exports=ht}),pe=h((n,r)=>{function a(c,f){return c==null?void 0:c[f]}r.exports=a}),kt=h((n,r)=>{var a=It(),c=pe();function f(g,v){var w=c(g,v);return a(w)?w:void 0}r.exports=f}),Cn=h((n,r)=>{var a=kt(),c=vt(),f=a(c,"Map");r.exports=f}),Xt=h((n,r)=>{var a=kt(),c=a(Object,"create");r.exports=c}),ke=h((n,r)=>{var a=Xt();function c(){this.__data__=a?a(null):{},this.size=0}r.exports=c}),Fe=h((n,r)=>{function a(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}r.exports=a}),Xe=h((n,r)=>{var a=Xt(),c="__lodash_hash_undefined__",f=Object.prototype,g=f.hasOwnProperty;function v(w){var M=this.__data__;if(a){var P=M[w];return P===c?void 0:P}return g.call(M,w)?M[w]:void 0}r.exports=v}),ze=h((n,r)=>{var a=Xt(),c=Object.prototype,f=c.hasOwnProperty;function g(v){var w=this.__data__;return a?w[v]!==void 0:f.call(w,v)}r.exports=g}),Ee=h((n,r)=>{var a=Xt(),c="__lodash_hash_undefined__";function f(g,v){var w=this.__data__;return this.size+=this.has(g)?0:1,w[g]=a&&v===void 0?c:v,this}r.exports=f}),se=h((n,r)=>{var a=ke(),c=Fe(),f=Xe(),g=ze(),v=Ee();function w(M){var P=-1,V=M==null?0:M.length;for(this.clear();++P<V;){var N=M[P];this.set(N[0],N[1])}}w.prototype.clear=a,w.prototype.delete=c,w.prototype.get=f,w.prototype.has=g,w.prototype.set=v,r.exports=w}),gt=h((n,r)=>{var a=se(),c=bt(),f=Cn();function g(){this.size=0,this.__data__={hash:new a,map:new(f||c),string:new a}}r.exports=g}),zt=h((n,r)=>{function a(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}r.exports=a}),Nt=h((n,r)=>{var a=zt();function c(f,g){var v=f.__data__;return a(g)?v[typeof g=="string"?"string":"hash"]:v.map}r.exports=c}),Jt=h((n,r)=>{var a=Nt();function c(f){var g=a(this,f).delete(f);return this.size-=g?1:0,g}r.exports=c}),Me=h((n,r)=>{var a=Nt();function c(f){return a(this,f).get(f)}r.exports=c}),Ie=h((n,r)=>{var a=Nt();function c(f){return a(this,f).has(f)}r.exports=c}),j=h((n,r)=>{var a=Nt();function c(f,g){var v=a(this,f),w=v.size;return v.set(f,g),this.size+=v.size==w?0:1,this}r.exports=c}),U=h((n,r)=>{var a=gt(),c=Jt(),f=Me(),g=Ie(),v=j();function w(M){var P=-1,V=M==null?0:M.length;for(this.clear();++P<V;){var N=M[P];this.set(N[0],N[1])}}w.prototype.clear=a,w.prototype.delete=c,w.prototype.get=f,w.prototype.has=g,w.prototype.set=v,r.exports=w}),pt=h((n,r)=>{var a=bt(),c=Cn(),f=U(),g=200;function v(w,M){var P=this.__data__;if(P instanceof a){var V=P.__data__;if(!c||V.length<g-1)return V.push([w,M]),this.size=++P.size,this;P=this.__data__=new f(V)}return P.set(w,M),this.size=P.size,this}r.exports=v}),Lt=h((n,r)=>{var a=bt(),c=st(),f=ut(),g=$(),v=lt(),w=pt();function M(P){var V=this.__data__=new a(P);this.size=V.size}M.prototype.clear=c,M.prototype.delete=f,M.prototype.get=g,M.prototype.has=v,M.prototype.set=w,r.exports=M}),yt=h((n,r)=>{var a=kt(),c=function(){try{var f=a(Object,"defineProperty");return f({},"",{}),f}catch{}}();r.exports=c}),At=h((n,r)=>{var a=yt();function c(f,g,v){g=="__proto__"&&a?a(f,g,{configurable:!0,enumerable:!0,value:v,writable:!0}):f[g]=v}r.exports=c}),jt=h((n,r)=>{var a=At(),c=b();function f(g,v,w){(w!==void 0&&!c(g[v],w)||w===void 0&&!(v in g))&&a(g,v,w)}r.exports=f}),Ot=h((n,r)=>{function a(c){return function(f,g,v){for(var w=-1,M=Object(f),P=v(f),V=P.length;V--;){var N=P[c?V:++w];if(g(M[N],N,M)===!1)break}return f}}r.exports=a}),Rt=h((n,r)=>{var a=Ot(),c=a();r.exports=c}),Pt=h((n,r)=>{var a=vt(),c=typeof n=="object"&&n&&!n.nodeType&&n,f=c&&typeof r=="object"&&r&&!r.nodeType&&r,g=f&&f.exports===c,v=g?a.Buffer:void 0,w=v?v.allocUnsafe:void 0;function M(P,V){if(V)return P.slice();var N=P.length,rt=w?w(N):new P.constructor(N);return P.copy(rt),rt}r.exports=M}),Ut=h((n,r)=>{var a=vt(),c=a.Uint8Array;r.exports=c}),ie=h((n,r)=>{var a=Ut();function c(f){var g=new f.constructor(f.byteLength);return new a(g).set(new a(f)),g}r.exports=c}),Qt=h((n,r)=>{var a=ie();function c(f,g){var v=g?a(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.length)}r.exports=c}),de=h((n,r)=>{function a(c,f){var g=-1,v=c.length;for(f||(f=Array(v));++g<v;)f[g]=c[g];return f}r.exports=a}),ye=h((n,r)=>{var a=Vt(),c=Object.create,f=function(){function g(){}return function(v){if(!a(v))return{};if(c)return c(v);g.prototype=v;var w=new g;return g.prototype=void 0,w}}();r.exports=f}),Ne=h((n,r)=>{function a(c,f){return function(g){return c(f(g))}}r.exports=a}),Pe=h((n,r)=>{var a=Ne(),c=a(Object.getPrototypeOf,Object);r.exports=c}),Je=h((n,r)=>{var a=Object.prototype;function c(f){var g=f&&f.constructor,v=typeof g=="function"&&g.prototype||a;return f===v}r.exports=c}),En=h((n,r)=>{var a=ye(),c=Pe(),f=Je();function g(v){return typeof v.constructor=="function"&&!f(v)?a(c(v)):{}}r.exports=g}),Dn=h((n,r)=>{function a(c){return c!=null&&typeof c=="object"}r.exports=a}),kr=h((n,r)=>{var a=Dt(),c=Dn(),f="[object Arguments]";function g(v){return c(v)&&a(v)==f}r.exports=g}),ti=h((n,r)=>{var a=kr(),c=Dn(),f=Object.prototype,g=f.hasOwnProperty,v=f.propertyIsEnumerable,w=a(function(){return arguments}())?a:function(M){return c(M)&&g.call(M,"callee")&&!v.call(M,"callee")};r.exports=w}),pi=h((n,r)=>{var a=Array.isArray;r.exports=a}),bn=h((n,r)=>{var a=9007199254740991;function c(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=a}r.exports=c}),un=h((n,r)=>{var a=Bt(),c=bn();function f(g){return g!=null&&c(g.length)&&!a(g)}r.exports=f}),to=h((n,r)=>{var a=un(),c=Dn();function f(g){return c(g)&&a(g)}r.exports=f}),Wl=h((n,r)=>{function a(){return!1}r.exports=a}),Wo=h((n,r)=>{var a=vt(),c=Wl(),f=typeof n=="object"&&n&&!n.nodeType&&n,g=f&&typeof r=="object"&&r&&!r.nodeType&&r,v=g&&g.exports===f,w=v?a.Buffer:void 0,M=w?w.isBuffer:void 0,P=M||c;r.exports=P}),ua=h((n,r)=>{var a=Dt(),c=Pe(),f=Dn(),g="[object Object]",v=Function.prototype,w=Object.prototype,M=v.toString,P=w.hasOwnProperty,V=M.call(Object);function N(rt){if(!f(rt)||a(rt)!=g)return!1;var ht=c(rt);if(ht===null)return!0;var Mt=P.call(ht,"constructor")&&ht.constructor;return typeof Mt=="function"&&Mt instanceof Mt&&M.call(Mt)==V}r.exports=N}),ca=h((n,r)=>{var a=Dt(),c=bn(),f=Dn(),g="[object Arguments]",v="[object Array]",w="[object Boolean]",M="[object Date]",P="[object Error]",V="[object Function]",N="[object Map]",rt="[object Number]",ht="[object Object]",Mt="[object RegExp]",Gt="[object Set]",Kt="[object String]",Se="[object WeakMap]",z="[object ArrayBuffer]",Z="[object DataView]",J="[object Float32Array]",ct="[object Float64Array]",tt="[object Int8Array]",at="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",D="[object Uint32Array]",R={};R[J]=R[ct]=R[tt]=R[at]=R[E]=R[S]=R[O]=R[A]=R[D]=!0,R[g]=R[v]=R[z]=R[w]=R[Z]=R[M]=R[P]=R[V]=R[N]=R[rt]=R[ht]=R[Mt]=R[Gt]=R[Kt]=R[Se]=!1;function K(q){return f(q)&&c(q.length)&&!!R[a(q)]}r.exports=K}),Jl=h((n,r)=>{function a(c){return function(f){return c(f)}}r.exports=a}),Yl=h((n,r)=>{var a=xt(),c=typeof n=="object"&&n&&!n.nodeType&&n,f=c&&typeof r=="object"&&r&&!r.nodeType&&r,g=f&&f.exports===c,v=g&&a.process,w=function(){try{var M=f&&f.require&&f.require("util").types;return M||v&&v.binding&&v.binding("util")}catch{}}();r.exports=w}),ha=h((n,r)=>{var a=ca(),c=Jl(),f=Yl(),g=f&&f.isTypedArray,v=g?c(g):a;r.exports=v}),da=h((n,r)=>{function a(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}r.exports=a}),Xl=h((n,r)=>{var a=At(),c=b(),f=Object.prototype,g=f.hasOwnProperty;function v(w,M,P){var V=w[M];(!(g.call(w,M)&&c(V,P))||P===void 0&&!(M in w))&&a(w,M,P)}r.exports=v}),Ql=h((n,r)=>{var a=Xl(),c=At();function f(g,v,w,M){var P=!w;w||(w={});for(var V=-1,N=v.length;++V<N;){var rt=v[V],ht=M?M(w[rt],g[rt],rt,w,g):void 0;ht===void 0&&(ht=g[rt]),P?c(w,rt,ht):a(w,rt,ht)}return w}r.exports=f}),Jo=h((n,r)=>{function a(c,f){for(var g=-1,v=Array(c);++g<c;)v[g]=f(g);return v}r.exports=a}),pa=h((n,r)=>{var a=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function f(g,v){var w=typeof g;return v=v??a,!!v&&(w=="number"||w!="symbol"&&c.test(g))&&g>-1&&g%1==0&&g<v}r.exports=f}),tu=h((n,r)=>{var a=Jo(),c=ti(),f=pi(),g=Wo(),v=pa(),w=ha(),M=Object.prototype,P=M.hasOwnProperty;function V(N,rt){var ht=f(N),Mt=!ht&&c(N),Gt=!ht&&!Mt&&g(N),Kt=!ht&&!Mt&&!Gt&&w(N),Se=ht||Mt||Gt||Kt,z=Se?a(N.length,String):[],Z=z.length;for(var J in N)(rt||P.call(N,J))&&!(Se&&(J=="length"||Gt&&(J=="offset"||J=="parent")||Kt&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||v(J,Z)))&&z.push(J);return z}r.exports=V}),eu=h((n,r)=>{function a(c){var f=[];if(c!=null)for(var g in Object(c))f.push(g);return f}r.exports=a}),nu=h((n,r)=>{var a=Vt(),c=Je(),f=eu(),g=Object.prototype,v=g.hasOwnProperty;function w(M){if(!a(M))return f(M);var P=c(M),V=[];for(var N in M)N=="constructor"&&(P||!v.call(M,N))||V.push(N);return V}r.exports=w}),Jn=h((n,r)=>{var a=tu(),c=nu(),f=un();function g(v){return f(v)?a(v,!0):c(v)}r.exports=g}),te=h((n,r)=>{var a=Ql(),c=Jn();function f(g){return a(g,c(g))}r.exports=f}),fa=h((n,r)=>{var a=jt(),c=Pt(),f=Qt(),g=de(),v=En(),w=ti(),M=pi(),P=to(),V=Wo(),N=Bt(),rt=Vt(),ht=ua(),Mt=ha(),Gt=da(),Kt=te();function Se(z,Z,J,ct,tt,at,E){var S=Gt(z,J),O=Gt(Z,J),A=E.get(O);if(A){a(z,J,A);return}var D=at?at(S,O,J+"",z,Z,E):void 0,R=D===void 0;if(R){var K=M(O),q=!K&&V(O),W=!K&&!q&&Mt(O);D=O,K||q||W?M(S)?D=S:P(S)?D=g(S):q?(R=!1,D=c(O,!0)):W?(R=!1,D=f(O,!0)):D=[]:ht(O)||w(O)?(D=S,w(S)?D=Kt(S):(!rt(S)||N(S))&&(D=v(O))):R=!1}R&&(E.set(O,D),tt(D,O,ct,at,E),E.delete(O)),a(z,J,D)}r.exports=Se}),_a=h((n,r)=>{var a=Lt(),c=jt(),f=Rt(),g=fa(),v=Vt(),w=Jn(),M=da();function P(V,N,rt,ht,Mt){V!==N&&f(N,function(Gt,Kt){if(Mt||(Mt=new a),v(Gt))g(V,N,Kt,rt,P,ht,Mt);else{var Se=ht?ht(M(V,Kt),Gt,Kt+"",V,N,Mt):void 0;Se===void 0&&(Se=Gt),c(V,Kt,Se)}},w)}r.exports=P}),Yo=h((n,r)=>{function a(c){return c}r.exports=a}),ma=h((n,r)=>{function a(c,f,g){switch(g.length){case 0:return c.call(f);case 1:return c.call(f,g[0]);case 2:return c.call(f,g[0],g[1]);case 3:return c.call(f,g[0],g[1],g[2])}return c.apply(f,g)}r.exports=a}),Xo=h((n,r)=>{var a=ma(),c=Math.max;function f(g,v,w){return v=c(v===void 0?g.length-1:v,0),function(){for(var M=arguments,P=-1,V=c(M.length-v,0),N=Array(V);++P<V;)N[P]=M[v+P];P=-1;for(var rt=Array(v+1);++P<v;)rt[P]=M[P];return rt[v]=w(N),a(g,this,rt)}}r.exports=f}),ga=h((n,r)=>{function a(c){return function(){return c}}r.exports=a}),Yi=h((n,r)=>{var a=ga(),c=yt(),f=Yo(),g=c?function(v,w){return c(v,"toString",{configurable:!0,enumerable:!1,value:a(w),writable:!0})}:f;r.exports=g}),ya=h((n,r)=>{var a=800,c=16,f=Date.now;function g(v){var w=0,M=0;return function(){var P=f(),V=c-(P-M);if(M=P,V>0){if(++w>=a)return arguments[0]}else w=0;return v.apply(void 0,arguments)}}r.exports=g}),iu=h((n,r)=>{var a=Yi(),c=ya(),f=c(a);r.exports=f}),ru=h((n,r)=>{var a=Yo(),c=Xo(),f=iu();function g(v,w){return f(c(v,w,a),v+"")}r.exports=g}),ou=h((n,r)=>{var a=b(),c=un(),f=pa(),g=Vt();function v(w,M,P){if(!g(P))return!1;var V=typeof M;return(V=="number"?c(P)&&f(M,P.length):V=="string"&&M in P)?a(P[M],w):!1}r.exports=v}),su=h((n,r)=>{var a=ru(),c=ou();function f(g){return a(function(v,w){var M=-1,P=w.length,V=P>1?w[P-1]:void 0,N=P>2?w[2]:void 0;for(V=g.length>3&&typeof V=="function"?(P--,V):void 0,N&&c(w[0],w[1],N)&&(V=P<3?void 0:V,P=1),v=Object(v);++M<P;){var rt=w[M];rt&&g(v,rt,M,V)}return v})}r.exports=f}),eo=h((n,r)=>{var a=_a(),c=su(),f=c(function(g,v,w){a(g,v,w)});r.exports=f}),Qo=h((n,r)=>{var a=Dt(),c=Dn(),f="[object Symbol]";function g(v){return typeof v=="symbol"||c(v)&&a(v)==f}r.exports=g}),no=h((n,r)=>{var a=pi(),c=Qo(),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function v(w,M){if(a(w))return!1;var P=typeof w;return P=="number"||P=="symbol"||P=="boolean"||w==null||c(w)?!0:g.test(w)||!f.test(w)||M!=null&&w in Object(M)}r.exports=v}),au=h((n,r)=>{var a=U(),c="Expected a function";function f(g,v){if(typeof g!="function"||v!=null&&typeof v!="function")throw new TypeError(c);var w=function(){var M=arguments,P=v?v.apply(this,M):M[0],V=w.cache;if(V.has(P))return V.get(P);var N=g.apply(this,M);return w.cache=V.set(P,N)||V,N};return w.cache=new(f.Cache||a),w}f.Cache=a,r.exports=f}),lu=h((n,r)=>{var a=au(),c=500;function f(g){var v=a(g,function(M){return w.size===c&&w.clear(),M}),w=v.cache;return v}r.exports=f}),uu=h((n,r)=>{var a=lu(),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,g=a(function(v){var w=[];return v.charCodeAt(0)===46&&w.push(""),v.replace(c,function(M,P,V,N){w.push(V?N.replace(f,"$1"):P||M)}),w});r.exports=g}),cu=h((n,r)=>{function a(c,f){for(var g=-1,v=c==null?0:c.length,w=Array(v);++g<v;)w[g]=f(c[g],g,c);return w}r.exports=a}),hu=h((n,r)=>{var a=$t(),c=cu(),f=pi(),g=Qo(),v=1/0,w=a?a.prototype:void 0,M=w?w.toString:void 0;function P(V){if(typeof V=="string")return V;if(f(V))return c(V,P)+"";if(g(V))return M?M.call(V):"";var N=V+"";return N=="0"&&1/V==-v?"-0":N}r.exports=P}),ts=h((n,r)=>{var a=hu();function c(f){return f==null?"":a(f)}r.exports=c}),Mr=h((n,r)=>{var a=pi(),c=no(),f=uu(),g=ts();function v(w,M){return a(w)?w:c(w,M)?[w]:f(g(w))}r.exports=v}),va=h((n,r)=>{var a=Qo(),c=1/0;function f(g){if(typeof g=="string"||a(g))return g;var v=g+"";return v=="0"&&1/g==-c?"-0":v}r.exports=f}),ba=h((n,r)=>{var a=Mr(),c=va();function f(g,v){v=a(v,g);for(var w=0,M=v.length;g!=null&&w<M;)g=g[c(v[w++])];return w&&w==M?g:void 0}r.exports=f}),wi=h((n,r)=>{var a=ba();function c(f,g,v){var w=f==null?void 0:a(f,g);return w===void 0?v:w}r.exports=c}),Te=h((n,r)=>{(function(a,c){typeof n=="object"&&typeof r<"u"?r.exports=c():(a=a||self).RBush=c()})(n,function(){function a(z,Z,J,ct,tt){(function at(E,S,O,A,D){for(;A>O;){if(A-O>600){var R=A-O+1,K=S-O+1,q=Math.log(R),W=.5*Math.exp(2*q/3),it=.5*Math.sqrt(q*W*(R-W)/R)*(K-R/2<0?-1:1),nt=Math.max(O,Math.floor(S-K*W/R+it)),Ct=Math.min(A,Math.floor(S+(R-K)*W/R+it));at(E,S,nt,Ct,D)}var qt=E[S],Yt=O,re=A;for(c(E,O,S),D(E[A],qt)>0&&c(E,O,A);Yt<re;){for(c(E,Yt,re),Yt++,re--;D(E[Yt],qt)<0;)Yt++;for(;D(E[re],qt)>0;)re--}D(E[O],qt)===0?c(E,O,re):c(E,++re,A),re<=S&&(O=re+1),S<=re&&(A=re-1)}})(z,Z,J||0,ct||z.length-1,tt||f)}function c(z,Z,J){var ct=z[Z];z[Z]=z[J],z[J]=ct}function f(z,Z){return z<Z?-1:z>Z?1:0}var g=function(z){z===void 0&&(z=9),this._maxEntries=Math.max(4,z),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(z,Z,J){if(!J)return Z.indexOf(z);for(var ct=0;ct<Z.length;ct++)if(J(z,Z[ct]))return ct;return-1}function w(z,Z){M(z,0,z.children.length,Z,z)}function M(z,Z,J,ct,tt){tt||(tt=Kt(null)),tt.minX=1/0,tt.minY=1/0,tt.maxX=-1/0,tt.maxY=-1/0;for(var at=Z;at<J;at++){var E=z.children[at];P(tt,z.leaf?ct(E):E)}return tt}function P(z,Z){return z.minX=Math.min(z.minX,Z.minX),z.minY=Math.min(z.minY,Z.minY),z.maxX=Math.max(z.maxX,Z.maxX),z.maxY=Math.max(z.maxY,Z.maxY),z}function V(z,Z){return z.minX-Z.minX}function N(z,Z){return z.minY-Z.minY}function rt(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function ht(z){return z.maxX-z.minX+(z.maxY-z.minY)}function Mt(z,Z){return z.minX<=Z.minX&&z.minY<=Z.minY&&Z.maxX<=z.maxX&&Z.maxY<=z.maxY}function Gt(z,Z){return Z.minX<=z.maxX&&Z.minY<=z.maxY&&Z.maxX>=z.minX&&Z.maxY>=z.minY}function Kt(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Se(z,Z,J,ct,tt){for(var at=[Z,J];at.length;)if(!((J=at.pop())-(Z=at.pop())<=ct)){var E=Z+Math.ceil((J-Z)/ct/2)*ct;a(z,E,Z,J,tt),at.push(Z,E,E,J)}}return g.prototype.all=function(){return this._all(this.data,[])},g.prototype.search=function(z){var Z=this.data,J=[];if(!Gt(z,Z))return J;for(var ct=this.toBBox,tt=[];Z;){for(var at=0;at<Z.children.length;at++){var E=Z.children[at],S=Z.leaf?ct(E):E;Gt(z,S)&&(Z.leaf?J.push(E):Mt(z,S)?this._all(E,J):tt.push(E))}Z=tt.pop()}return J},g.prototype.collides=function(z){var Z=this.data;if(!Gt(z,Z))return!1;for(var J=[];Z;){for(var ct=0;ct<Z.children.length;ct++){var tt=Z.children[ct],at=Z.leaf?this.toBBox(tt):tt;if(Gt(z,at)){if(Z.leaf||Mt(z,at))return!0;J.push(tt)}}Z=J.pop()}return!1},g.prototype.load=function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var Z=0;Z<z.length;Z++)this.insert(z[Z]);return this}var J=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===J.height)this._splitRoot(this.data,J);else{if(this.data.height<J.height){var ct=this.data;this.data=J,J=ct}this._insert(J,this.data.height-J.height-1,!0)}else this.data=J;return this},g.prototype.insert=function(z){return z&&this._insert(z,this.data.height-1),this},g.prototype.clear=function(){return this.data=Kt([]),this},g.prototype.remove=function(z,Z){if(!z)return this;for(var J,ct,tt,at=this.data,E=this.toBBox(z),S=[],O=[];at||S.length;){if(at||(at=S.pop(),ct=S[S.length-1],J=O.pop(),tt=!0),at.leaf){var A=v(z,at.children,Z);if(A!==-1)return at.children.splice(A,1),S.push(at),this._condense(S),this}tt||at.leaf||!Mt(at,E)?ct?(J++,at=ct.children[J],tt=!1):at=null:(S.push(at),O.push(J),J=0,ct=at,at=at.children[0])}return this},g.prototype.toBBox=function(z){return z},g.prototype.compareMinX=function(z,Z){return z.minX-Z.minX},g.prototype.compareMinY=function(z,Z){return z.minY-Z.minY},g.prototype.toJSON=function(){return this.data},g.prototype.fromJSON=function(z){return this.data=z,this},g.prototype._all=function(z,Z){for(var J=[];z;)z.leaf?Z.push.apply(Z,z.children):J.push.apply(J,z.children),z=J.pop();return Z},g.prototype._build=function(z,Z,J,ct){var tt,at=J-Z+1,E=this._maxEntries;if(at<=E)return w(tt=Kt(z.slice(Z,J+1)),this.toBBox),tt;ct||(ct=Math.ceil(Math.log(at)/Math.log(E)),E=Math.ceil(at/Math.pow(E,ct-1))),(tt=Kt([])).leaf=!1,tt.height=ct;var S=Math.ceil(at/E),O=S*Math.ceil(Math.sqrt(E));Se(z,Z,J,O,this.compareMinX);for(var A=Z;A<=J;A+=O){var D=Math.min(A+O-1,J);Se(z,A,D,S,this.compareMinY);for(var R=A;R<=D;R+=S){var K=Math.min(R+S-1,D);tt.children.push(this._build(z,R,K,ct-1))}}return w(tt,this.toBBox),tt},g.prototype._chooseSubtree=function(z,Z,J,ct){for(;ct.push(Z),!Z.leaf&&ct.length-1!==J;){for(var tt=1/0,at=1/0,E=void 0,S=0;S<Z.children.length;S++){var O=Z.children[S],A=rt(O),D=(R=z,K=O,(Math.max(K.maxX,R.maxX)-Math.min(K.minX,R.minX))*(Math.max(K.maxY,R.maxY)-Math.min(K.minY,R.minY))-A);D<at?(at=D,tt=A<tt?A:tt,E=O):D===at&&A<tt&&(tt=A,E=O)}Z=E||Z.children[0]}var R,K;return Z},g.prototype._insert=function(z,Z,J){var ct=J?z:this.toBBox(z),tt=[],at=this._chooseSubtree(ct,this.data,Z,tt);for(at.children.push(z),P(at,ct);Z>=0&&tt[Z].children.length>this._maxEntries;)this._split(tt,Z),Z--;this._adjustParentBBoxes(ct,tt,Z)},g.prototype._split=function(z,Z){var J=z[Z],ct=J.children.length,tt=this._minEntries;this._chooseSplitAxis(J,tt,ct);var at=this._chooseSplitIndex(J,tt,ct),E=Kt(J.children.splice(at,J.children.length-at));E.height=J.height,E.leaf=J.leaf,w(J,this.toBBox),w(E,this.toBBox),Z?z[Z-1].children.push(E):this._splitRoot(J,E)},g.prototype._splitRoot=function(z,Z){this.data=Kt([z,Z]),this.data.height=z.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},g.prototype._chooseSplitIndex=function(z,Z,J){for(var ct,tt,at,E,S,O,A,D=1/0,R=1/0,K=Z;K<=J-Z;K++){var q=M(z,0,K,this.toBBox),W=M(z,K,J,this.toBBox),it=(tt=q,at=W,E=void 0,S=void 0,O=void 0,A=void 0,E=Math.max(tt.minX,at.minX),S=Math.max(tt.minY,at.minY),O=Math.min(tt.maxX,at.maxX),A=Math.min(tt.maxY,at.maxY),Math.max(0,O-E)*Math.max(0,A-S)),nt=rt(q)+rt(W);it<D?(D=it,ct=K,R=nt<R?nt:R):it===D&&nt<R&&(R=nt,ct=K)}return ct||J-Z},g.prototype._chooseSplitAxis=function(z,Z,J){var ct=z.leaf?this.compareMinX:V,tt=z.leaf?this.compareMinY:N;this._allDistMargin(z,Z,J,ct)<this._allDistMargin(z,Z,J,tt)&&z.children.sort(ct)},g.prototype._allDistMargin=function(z,Z,J,ct){z.children.sort(ct);for(var tt=this.toBBox,at=M(z,0,Z,tt),E=M(z,J-Z,J,tt),S=ht(at)+ht(E),O=Z;O<J-Z;O++){var A=z.children[O];P(at,z.leaf?tt(A):A),S+=ht(at)}for(var D=J-Z-1;D>=Z;D--){var R=z.children[D];P(E,z.leaf?tt(R):R),S+=ht(E)}return S},g.prototype._adjustParentBBoxes=function(z,Z,J){for(var ct=J;ct>=0;ct--)P(Z[ct],z)},g.prototype._condense=function(z){for(var Z=z.length-1,J=void 0;Z>=0;Z--)z[Z].children.length===0?Z>0?(J=z[Z-1].children).splice(J.indexOf(z[Z]),1):this.clear():w(z[Z],this.toBBox)},g})}),Ze=h(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=63710088e-1,n.factors={centimeters:n.earthRadius*100,centimetres:n.earthRadius*100,degrees:n.earthRadius/111325,feet:n.earthRadius*3.28084,inches:n.earthRadius*39.37,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:n.earthRadius*1e3,millimetres:n.earthRadius*1e3,nauticalmiles:n.earthRadius/1852,radians:1,yards:n.earthRadius*1.0936},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1.0936133},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function r(A,D,R){R===void 0&&(R={});var K={type:"Feature"};return(R.id===0||R.id)&&(K.id=R.id),R.bbox&&(K.bbox=R.bbox),K.properties=D||{},K.geometry=A,K}n.feature=r;function a(A,D,R){switch(A){case"Point":return c(D).geometry;case"LineString":return w(D).geometry;case"Polygon":return g(D).geometry;case"MultiPoint":return N(D).geometry;case"MultiLineString":return V(D).geometry;case"MultiPolygon":return rt(D).geometry;default:throw new Error(A+" is invalid")}}n.geometry=a;function c(A,D,R){if(R===void 0&&(R={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!at(A[0])||!at(A[1]))throw new Error("coordinates must contain numbers");var K={type:"Point",coordinates:A};return r(K,D,R)}n.point=c;function f(A,D,R){return R===void 0&&(R={}),P(A.map(function(K){return c(K,D)}),R)}n.points=f;function g(A,D,R){R===void 0&&(R={});for(var K=0,q=A;K<q.length;K++){var W=q[K];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var it=0;it<W[W.length-1].length;it++)if(W[W.length-1][it]!==W[0][it])throw new Error("First and last Position are not equivalent.")}var nt={type:"Polygon",coordinates:A};return r(nt,D,R)}n.polygon=g;function v(A,D,R){return R===void 0&&(R={}),P(A.map(function(K){return g(K,D)}),R)}n.polygons=v;function w(A,D,R){if(R===void 0&&(R={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var K={type:"LineString",coordinates:A};return r(K,D,R)}n.lineString=w;function M(A,D,R){return R===void 0&&(R={}),P(A.map(function(K){return w(K,D)}),R)}n.lineStrings=M;function P(A,D){D===void 0&&(D={});var R={type:"FeatureCollection"};return D.id&&(R.id=D.id),D.bbox&&(R.bbox=D.bbox),R.features=A,R}n.featureCollection=P;function V(A,D,R){R===void 0&&(R={});var K={type:"MultiLineString",coordinates:A};return r(K,D,R)}n.multiLineString=V;function N(A,D,R){R===void 0&&(R={});var K={type:"MultiPoint",coordinates:A};return r(K,D,R)}n.multiPoint=N;function rt(A,D,R){R===void 0&&(R={});var K={type:"MultiPolygon",coordinates:A};return r(K,D,R)}n.multiPolygon=rt;function ht(A,D,R){R===void 0&&(R={});var K={type:"GeometryCollection",geometries:A};return r(K,D,R)}n.geometryCollection=ht;function Mt(A,D){if(D===void 0&&(D=0),D&&!(D>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,D||0);return Math.round(A*R)/R}n.round=Mt;function Gt(A,D){D===void 0&&(D="kilometers");var R=n.factors[D];if(!R)throw new Error(D+" units is invalid");return A*R}n.radiansToLength=Gt;function Kt(A,D){D===void 0&&(D="kilometers");var R=n.factors[D];if(!R)throw new Error(D+" units is invalid");return A/R}n.lengthToRadians=Kt;function Se(A,D){return Z(Kt(A,D))}n.lengthToDegrees=Se;function z(A){var D=A%360;return D<0&&(D+=360),D}n.bearingToAzimuth=z;function Z(A){var D=A%(2*Math.PI);return D*180/Math.PI}n.radiansToDegrees=Z;function J(A){var D=A%360;return D*Math.PI/180}n.degreesToRadians=J;function ct(A,D,R){if(D===void 0&&(D="kilometers"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("length must be a positive number");return Gt(Kt(A,D),R)}n.convertLength=ct;function tt(A,D,R){if(D===void 0&&(D="meters"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("area must be a positive number");var K=n.areaFactors[D];if(!K)throw new Error("invalid original units");var q=n.areaFactors[R];if(!q)throw new Error("invalid final units");return A/K*q}n.convertArea=tt;function at(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}n.isNumber=at;function E(A){return!!A&&A.constructor===Object}n.isObject=E;function S(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(D){if(!at(D))throw new Error("bbox must only contain numbers")})}n.validateBBox=S;function O(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}n.validateId=O}),Er=h(n=>{Object.defineProperty(n,"__esModule",{value:!0});var r=Ze();function a(Z,J,ct){if(Z!==null)for(var tt,at,E,S,O,A,D,R=0,K=0,q,W=Z.type,it=W==="FeatureCollection",nt=W==="Feature",Ct=it?Z.features.length:1,qt=0;qt<Ct;qt++){D=it?Z.features[qt].geometry:nt?Z.geometry:Z,q=D?D.type==="GeometryCollection":!1,O=q?D.geometries.length:1;for(var Yt=0;Yt<O;Yt++){var re=0,je=0;if(S=q?D.geometries[Yt]:D,S!==null){A=S.coordinates;var $e=S.type;switch(R=ct&&($e==="Polygon"||$e==="MultiPolygon")?1:0,$e){case null:break;case"Point":if(J(A,K,qt,re,je)===!1)return!1;K++,re++;break;case"LineString":case"MultiPoint":for(tt=0;tt<A.length;tt++){if(J(A[tt],K,qt,re,je)===!1)return!1;K++,$e==="MultiPoint"&&re++}$e==="LineString"&&re++;break;case"Polygon":case"MultiLineString":for(tt=0;tt<A.length;tt++){for(at=0;at<A[tt].length-R;at++){if(J(A[tt][at],K,qt,re,je)===!1)return!1;K++}$e==="MultiLineString"&&re++,$e==="Polygon"&&je++}$e==="Polygon"&&re++;break;case"MultiPolygon":for(tt=0;tt<A.length;tt++){for(je=0,at=0;at<A[tt].length;at++){for(E=0;E<A[tt][at].length-R;E++){if(J(A[tt][at][E],K,qt,re,je)===!1)return!1;K++}je++}re++}break;case"GeometryCollection":for(tt=0;tt<S.geometries.length;tt++)if(a(S.geometries[tt],J,ct)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function c(Z,J,ct,tt){var at=ct;return a(Z,function(E,S,O,A,D){S===0&&ct===void 0?at=E:at=J(at,E,S,O,A,D)},tt),at}function f(Z,J){var ct;switch(Z.type){case"FeatureCollection":for(ct=0;ct<Z.features.length&&J(Z.features[ct].properties,ct)!==!1;ct++);break;case"Feature":J(Z.properties,0);break}}function g(Z,J,ct){var tt=ct;return f(Z,function(at,E){E===0&&ct===void 0?tt=at:tt=J(tt,at,E)}),tt}function v(Z,J){if(Z.type==="Feature")J(Z,0);else if(Z.type==="FeatureCollection")for(var ct=0;ct<Z.features.length&&J(Z.features[ct],ct)!==!1;ct++);}function w(Z,J,ct){var tt=ct;return v(Z,function(at,E){E===0&&ct===void 0?tt=at:tt=J(tt,at,E)}),tt}function M(Z){var J=[];return a(Z,function(ct){J.push(ct)}),J}function P(Z,J){var ct,tt,at,E,S,O,A,D,R,K,q=0,W=Z.type==="FeatureCollection",it=Z.type==="Feature",nt=W?Z.features.length:1;for(ct=0;ct<nt;ct++){for(O=W?Z.features[ct].geometry:it?Z.geometry:Z,D=W?Z.features[ct].properties:it?Z.properties:{},R=W?Z.features[ct].bbox:it?Z.bbox:void 0,K=W?Z.features[ct].id:it?Z.id:void 0,A=O?O.type==="GeometryCollection":!1,S=A?O.geometries.length:1,at=0;at<S;at++){if(E=A?O.geometries[at]:O,E===null){if(J(null,q,D,R,K)===!1)return!1;continue}switch(E.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(J(E,q,D,R,K)===!1)return!1;break}case"GeometryCollection":{for(tt=0;tt<E.geometries.length;tt++)if(J(E.geometries[tt],q,D,R,K)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}q++}}function V(Z,J,ct){var tt=ct;return P(Z,function(at,E,S,O,A){E===0&&ct===void 0?tt=at:tt=J(tt,at,E,S,O,A)}),tt}function N(Z,J){P(Z,function(ct,tt,at,E,S){var O=ct===null?null:ct.type;switch(O){case null:case"Point":case"LineString":case"Polygon":return J(r.feature(ct,at,{bbox:E,id:S}),tt,0)===!1?!1:void 0}var A;switch(O){case"MultiPoint":A="Point";break;case"MultiLineString":A="LineString";break;case"MultiPolygon":A="Polygon";break}for(var D=0;D<ct.coordinates.length;D++){var R=ct.coordinates[D],K={type:A,coordinates:R};if(J(r.feature(K,at),tt,D)===!1)return!1}})}function rt(Z,J,ct){var tt=ct;return N(Z,function(at,E,S){E===0&&S===0&&ct===void 0?tt=at:tt=J(tt,at,E,S)}),tt}function ht(Z,J){N(Z,function(ct,tt,at){var E=0;if(ct.geometry){var S=ct.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var O,A=0,D=0,R=0;if(a(ct,function(K,q,W,it,nt){if(O===void 0||tt>A||it>D||nt>R){O=K,A=tt,D=it,R=nt,E=0;return}var Ct=r.lineString([O,K],ct.properties);if(J(Ct,tt,at,nt,E)===!1)return!1;E++,O=K})===!1)return!1}}})}function Mt(Z,J,ct){var tt=ct,at=!1;return ht(Z,function(E,S,O,A,D){at===!1&&ct===void 0?tt=E:tt=J(tt,E,S,O,A,D),at=!0}),tt}function Gt(Z,J){if(!Z)throw new Error("geojson is required");N(Z,function(ct,tt,at){if(ct.geometry!==null){var E=ct.geometry.type,S=ct.geometry.coordinates;switch(E){case"LineString":if(J(ct,tt,at,0,0)===!1)return!1;break;case"Polygon":for(var O=0;O<S.length;O++)if(J(r.lineString(S[O],ct.properties),tt,at,O)===!1)return!1;break}}})}function Kt(Z,J,ct){var tt=ct;return Gt(Z,function(at,E,S,O){E===0&&ct===void 0?tt=at:tt=J(tt,at,E,S,O)}),tt}function Se(Z,J){if(J=J||{},!r.isObject(J))throw new Error("options is invalid");var ct=J.featureIndex||0,tt=J.multiFeatureIndex||0,at=J.geometryIndex||0,E=J.segmentIndex||0,S=J.properties,O;switch(Z.type){case"FeatureCollection":ct<0&&(ct=Z.features.length+ct),S=S||Z.features[ct].properties,O=Z.features[ct].geometry;break;case"Feature":S=S||Z.properties,O=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=Z;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var A=O.coordinates;switch(O.type){case"Point":case"MultiPoint":return null;case"LineString":return E<0&&(E=A.length+E-1),r.lineString([A[E],A[E+1]],S,J);case"Polygon":return at<0&&(at=A.length+at),E<0&&(E=A[at].length+E-1),r.lineString([A[at][E],A[at][E+1]],S,J);case"MultiLineString":return tt<0&&(tt=A.length+tt),E<0&&(E=A[tt].length+E-1),r.lineString([A[tt][E],A[tt][E+1]],S,J);case"MultiPolygon":return tt<0&&(tt=A.length+tt),at<0&&(at=A[tt].length+at),E<0&&(E=A[tt][at].length-E-1),r.lineString([A[tt][at][E],A[tt][at][E+1]],S,J)}throw new Error("geojson is invalid")}function z(Z,J){if(J=J||{},!r.isObject(J))throw new Error("options is invalid");var ct=J.featureIndex||0,tt=J.multiFeatureIndex||0,at=J.geometryIndex||0,E=J.coordIndex||0,S=J.properties,O;switch(Z.type){case"FeatureCollection":ct<0&&(ct=Z.features.length+ct),S=S||Z.features[ct].properties,O=Z.features[ct].geometry;break;case"Feature":S=S||Z.properties,O=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=Z;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var A=O.coordinates;switch(O.type){case"Point":return r.point(A,S,J);case"MultiPoint":return tt<0&&(tt=A.length+tt),r.point(A[tt],S,J);case"LineString":return E<0&&(E=A.length+E),r.point(A[E],S,J);case"Polygon":return at<0&&(at=A.length+at),E<0&&(E=A[at].length+E),r.point(A[at][E],S,J);case"MultiLineString":return tt<0&&(tt=A.length+tt),E<0&&(E=A[tt].length+E),r.point(A[tt][E],S,J);case"MultiPolygon":return tt<0&&(tt=A.length+tt),at<0&&(at=A[tt].length+at),E<0&&(E=A[tt][at].length-E),r.point(A[tt][at][E],S,J)}throw new Error("geojson is invalid")}n.coordAll=M,n.coordEach=a,n.coordReduce=c,n.featureEach=v,n.featureReduce=w,n.findPoint=z,n.findSegment=Se,n.flattenEach=N,n.flattenReduce=rt,n.geomEach=P,n.geomReduce=V,n.lineEach=Gt,n.lineReduce=Kt,n.propEach=f,n.propReduce=g,n.segmentEach=ht,n.segmentReduce=Mt}),Xi=h(n=>{Object.defineProperty(n,"__esModule",{value:!0});var r=Er();function a(c){var f=[1/0,1/0,-1/0,-1/0];return r.coordEach(c,function(g){f[0]>g[0]&&(f[0]=g[0]),f[1]>g[1]&&(f[1]=g[1]),f[2]<g[0]&&(f[2]=g[0]),f[3]<g[1]&&(f[3]=g[1])}),f}a.default=a,n.default=a}),Ri=h((n,r)=>{var a=Te(),c=Ze(),f=Er(),g=Xi().default,v=f.featureEach;f.coordEach,c.polygon;var w=c.featureCollection;function M(P){var V=new a(P);return V.insert=function(N){if(N.type!=="Feature")throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:g(N),a.prototype.insert.call(this,N)},V.load=function(N){var rt=[];return Array.isArray(N)?N.forEach(function(ht){if(ht.type!=="Feature")throw new Error("invalid features");ht.bbox=ht.bbox?ht.bbox:g(ht),rt.push(ht)}):v(N,function(ht){if(ht.type!=="Feature")throw new Error("invalid features");ht.bbox=ht.bbox?ht.bbox:g(ht),rt.push(ht)}),a.prototype.load.call(this,rt)},V.remove=function(N,rt){if(N.type!=="Feature")throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:g(N),a.prototype.remove.call(this,N,rt)},V.clear=function(){return a.prototype.clear.call(this)},V.search=function(N){var rt=a.prototype.search.call(this,this.toBBox(N));return w(rt)},V.collides=function(N){return a.prototype.collides.call(this,this.toBBox(N))},V.all=function(){var N=a.prototype.all.call(this);return w(N)},V.toJSON=function(){return a.prototype.toJSON.call(this)},V.fromJSON=function(N){return a.prototype.fromJSON.call(this,N)},V.toBBox=function(N){var rt;if(N.bbox)rt=N.bbox;else if(Array.isArray(N)&&N.length===4)rt=N;else if(Array.isArray(N)&&N.length===6)rt=[N[0],N[1],N[3],N[4]];else if(N.type==="Feature")rt=g(N);else if(N.type==="FeatureCollection")rt=g(N);else throw new Error("invalid geojson");return{minX:rt[0],minY:rt[1],maxX:rt[2],maxY:rt[3]}},V}r.exports=M,r.exports.default=M});Array.prototype.findIndex=Array.prototype.findIndex||function(n){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,c=arguments[1],f=0;f<a;f++)if(n.call(c,r[f],f,r))return f;return-1},Array.prototype.find=Array.prototype.find||function(n){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,c=arguments[1],f=0;f<a;f++){var g=r[f];if(n.call(c,g,f,r))return g}},typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");n=Object(n);for(var r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n}),function(n){n.forEach(function(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,r){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),c=a.length>>>0;if(c===0)return!1;var f=r|0,g=Math.max(f>=0?f:c-Math.abs(f),0);function v(w,M){return w===M||typeof w=="number"&&typeof M=="number"&&isNaN(w)&&isNaN(M)}for(;g<c;){if(v(a[g],n))return!0;g++}return!1}});var es={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},me=m(eo()),Qe={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},ns={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},io={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},zn={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},du={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},ro={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Ii={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},en={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Fi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Pr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Br={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},is={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Sr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},rs={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},os={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},oo={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},ss={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},as={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},so={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},xa={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ls={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},pu={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},_e={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},ei={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Ve={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},La={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},us={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ni={en:Qe,de:ns,it:io,id:zn,ro:du,ru:ro,es:Ii,nl:en,fr:Fi,pt_br:is,pt_pt:Sr,zh:Pr,zh_tw:Br,pl:rs,sv:os,el:oo,hu:ss,da:as,no:so,fa:xa,ua:ls,tr:pu,cz:_e,ja:ei,fi:Ve,ko:La,ky:us},cs={_globalEditModeEnabled:!1,enableGlobalEditMode(n){let r={...n};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(a=>{this._isRelevantForEdit(a)&&a.pm.enable(r)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(n=>{n.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(n=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(n)},handleLayerAdditionInGlobalEditMode(){let n=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let r in n){let a=n[r];this._isRelevantForEdit(a)&&a.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:n}){this._addedLayersEdit[L.stamp(n)]=n},_isRelevantForEdit(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowEditing}},ji=cs,hs={_globalDragModeEnabled:!1,enableGlobalDragMode(){let n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},n.forEach(r=>{this._isRelevantForDrag(r)&&r.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,n.forEach(r=>{r.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let n=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let r in n){let a=n[r];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag({layer:n}){this._addedLayersDrag[L.stamp(n)]=n},_isRelevantForDrag(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.draggable}},Tr=hs,_n={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(n=>{this._isRelevantForRemoval(n)&&(n.pm.enabled()&&n.pm.disable(),n.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(n=>{n.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(n){let r=n.target;this._isRelevantForRemoval(r)&&!r.pm.dragging()&&(r.removeFrom(this.map.pm._getContainingLayer()),r.remove(),r instanceof L.LayerGroup?(this._fireRemoveLayerGroup(r),this._fireRemoveLayerGroup(this.map,r)):(r.pm._fireRemove(r),r.pm._fireRemove(this.map,r)))},_isRelevantForRemoval(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let n=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let r in n){let a=n[r];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:n}){this._addedLayersRemoval[L.stamp(n)]=n}},zi=_n,Ca={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(n=>n instanceof L.Polyline).forEach(n=>{this._isRelevantForRotate(n)&&n.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(n=>n instanceof L.Polyline).forEach(n=>{n.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(n){return n.pm&&n instanceof L.Polyline&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let n=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let r in n){let a=n[r];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate({layer:n}){this._addedLayersRotate[L.stamp(n)]=n}},wa=Ca,fu=m(eo()),ka={_fireDrawStart(n="Draw",r={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},n,r)},_fireDrawEnd(n="Draw",r={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},n,r)},_fireCreate(n,r="Draw",a={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:n,layer:n},r,a)},_fireCenterPlaced(n="Draw",r={}){let a=n==="Draw"?this._layer:void 0,c=n!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:c,latlng:this._layer.getLatLng()},n,r)},_fireCut(n,r,a,c="Draw",f={}){this.__fire(n,"pm:cut",{shape:this._shape,layer:r,originalLayer:a},c,f)},_fireEdit(n=this._layer,r="Edit",a={}){this.__fire(n,"pm:edit",{layer:this._layer,shape:this.getShape()},r,a)},_fireEnable(n="Edit",r={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},n,r)},_fireDisable(n="Edit",r={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},n,r)},_fireUpdate(n="Edit",r={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},n,r)},_fireMarkerDragStart(n,r=void 0,a="Edit",c={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r},a,c)},_fireMarkerDrag(n,r=void 0,a="Edit",c={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r},a,c)},_fireMarkerDragEnd(n,r=void 0,a=void 0,c="Edit",f={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r,intersectionReset:a},c,f)},_fireDragStart(n="Edit",r={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},n,r)},_fireDrag(n,r="Edit",a={}){this.__fire(this._layer,"pm:drag",{...n,shape:this.getShape()},r,a)},_fireDragEnd(n="Edit",r={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},n,r)},_fireDragEnable(n="Edit",r={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},n,r)},_fireDragDisable(n="Edit",r={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},n,r)},_fireRemove(n,r=n,a="Edit",c={}){this.__fire(n,"pm:remove",{layer:r,shape:this.getShape()},a,c)},_fireVertexAdded(n,r,a,c="Edit",f={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:n,indexPath:r,latlng:a,shape:this.getShape()},c,f)},_fireVertexRemoved(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:n,indexPath:r,shape:this.getShape()},a,c)},_fireVertexClick(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:n,indexPath:r,shape:this.getShape()},a,c)},_fireIntersect(n,r=this._layer,a="Edit",c={}){this.__fire(r,"pm:intersect",{layer:this._layer,intersection:n,shape:this.getShape()},a,c)},_fireLayerReset(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:n,indexPath:r,shape:this.getShape()},a,c)},_fireChange(n,r="Edit",a={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:n,shape:this.getShape()},r,a)},_fireTextChange(n,r="Edit",a={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:n,shape:this.getShape()},r,a)},_fireTextFocus(n="Edit",r={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},n,r)},_fireTextBlur(n="Edit",r={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},n,r)},_fireSnapDrag(n,r,a="Snapping",c={}){this.__fire(n,"pm:snapdrag",r,a,c)},_fireSnap(n,r,a="Snapping",c={}){this.__fire(n,"pm:snap",r,a,c)},_fireUnsnap(n,r,a="Snapping",c={}){this.__fire(n,"pm:unsnap",r,a,c)},_fireRotationEnable(n,r,a="Rotation",c={}){this.__fire(n,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,c)},_fireRotationDisable(n,r="Rotation",a={}){this.__fire(n,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRotationStart(n,r,a="Rotation",c={}){this.__fire(n,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:r},a,c)},_fireRotation(n,r,a,c=this._rotationLayer,f="Rotation",g={}){this.__fire(n,"pm:rotate",{layer:c,helpLayer:this._layer,startAngle:this._startAngle,angle:c.pm.getAngle(),angleDiff:r,oldLatLngs:a,newLatLngs:c.getLatLngs()},f,g)},_fireRotationEnd(n,r,a,c="Rotation",f={}){this.__fire(n,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:r,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},c,f)},_fireActionClick(n,r,a,c="Toolbar",f={}){this.__fire(this._map,"pm:actionclick",{text:n.text,action:n,btnName:r,button:a},c,f)},_fireButtonClick(n,r,a="Toolbar",c={}){this.__fire(this._map,"pm:buttonclick",{btnName:n,button:r},a,c)},_fireLangChange(n,r,a,c,f="Global",g={}){this.__fire(this.map,"pm:langchange",{oldLang:n,activeLang:r,fallback:a,translations:c},f,g)},_fireGlobalDragModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalEditModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalRemovalModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalCutModeToggled(n="Global",r={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},n,r)},_fireGlobalDrawModeToggled(n="Global",r={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},n,r)},_fireGlobalRotateModeToggled(n="Global",r={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},n,r)},_fireRemoveLayerGroup(n,r=n,a="Edit",c={}){this.__fire(n,"pm:remove",{layer:r,shape:void 0},a,c)},_fireKeyeventEvent(n,r,a,c="Global",f={}){this.__fire(this.map,"pm:keyevent",{event:n,eventType:r,focusOn:a},c,f)},__fire(n,r,a,c,f={}){a=(0,fu.default)(a,f,{source:c}),L.PM.Utils._fireEvent(n,r,a)}},Qi=ka,_u=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(n){this.map=n,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),n.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(n){let r="document";this.map.getContainer().contains(n.target)&&(r="map");let a={event:n,eventType:n.type,focusOn:r};this._lastEvents[n.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(n,n.type,r)},_onBlur(n){n.altKey=!1;let r={event:n,eventType:n.type,focusOn:"document"};this._lastEvents[n.type]=r,this._lastEvents.current=r},getLastKeyEvent(n="current"){return this._lastEvents[n]},isShiftKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.shiftKey},isAltKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.altKey},isCtrlKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.ctrlKey},isMetaKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.metaKey},getPressedKey(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.key}}),Ma=_u,we=m(wi());function Be(n){let r=L.PM.activeLang;return(0,we.default)(Ni[r],n)||(0,we.default)(Ni.en,n)||n}function Rn(n){for(let r=0;r<n.length;r+=1){let a=n[r];if(Array.isArray(a)){if(Rn(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function ki(n){return n.reduce((r,a)=>{if(a.length!==0){let c=Array.isArray(a)?ki(a):a;Array.isArray(c)?c.length!==0&&r.push(c):r.push(c)}return r},[])}function Ea(n,r,a){let c={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:f,b:g,f:v}=c,w=n.lng,M=n.lat,P=a,V=Math.PI,N=r*V/180,rt=Math.sin(N),ht=Math.cos(N),Mt=(1-v)*Math.tan(M*V/180),Gt=1/Math.sqrt(1+Mt*Mt),Kt=Mt*Gt,Se=Math.atan2(Mt,ht),z=Gt*rt,Z=1-z*z,J=Z*(f*f-g*g)/(g*g),ct=1+J/16384*(4096+J*(-768+J*(320-175*J))),tt=J/1024*(256+J*(-128+J*(74-47*J))),at=P/(g*ct),E=2*Math.PI,S,O,A;for(;Math.abs(at-E)>1e-12;){S=Math.cos(2*Se+at),O=Math.sin(at),A=Math.cos(at);let Ct=tt*O*(S+tt/4*(A*(-1+2*S*S)-tt/6*S*(-3+4*O*O)*(-3+4*S*S)));E=at,at=P/(g*ct)+Ct}let D=Kt*O-Gt*A*ht,R=Math.atan2(Kt*A+Gt*O*ht,(1-v)*Math.sqrt(z*z+D*D)),K=Math.atan2(O*rt,Gt*A-Kt*O*ht),q=v/16*Z*(4+v*(4-3*Z)),W=K-(1-q)*v*z*(at+q*O*(S+q*A*(-1+2*S*S))),it=w+W*180/V,nt=R*180/V;return L.latLng(it,nt)}function Pa(n,r,a,c,f=!0){let g,v,w,M=[];for(let P=0;P<a;P+=1){if(f)g=P*360/a+c,v=Ea(n,g,r),w=L.latLng(v.lng,v.lat);else{let V=n.lat+Math.cos(2*P*Math.PI/a)*r,N=n.lng+Math.sin(2*P*Math.PI/a)*r;w=L.latLng(V,N)}M.push(w)}return M}function ds(n,r,a){r=(r+360)%360;let c=Math.PI/180,f=180/Math.PI,{R:g}=L.CRS.Earth,v=n.lng*c,w=n.lat*c,M=r*c,P=Math.sin(w),V=Math.cos(w),N=Math.cos(a/g),rt=Math.sin(a/g),ht=Math.asin(P*N+V*rt*Math.cos(M)),Mt=v+Math.atan2(Math.sin(M)*rt*V,N-P*Math.sin(ht));Mt*=f;let Gt=Mt-360,Kt=Mt<-180?Mt+360:Mt;return Mt=Mt>180?Gt:Kt,L.latLng([ht*f,Mt])}function ps(n,r,a){let c=n.latLngToContainerPoint(r),f=n.latLngToContainerPoint(a),g=Math.atan2(f.y-c.y,f.x-c.x)*180/Math.PI+90;return g+=g<0?360:0,g}function Ar(n,r,a,c){let f=ps(n,r,a);return ds(r,f,c)}function mu(n,r,a="asc"){if(!r||Object.keys(r).length===0)return(M,P)=>M-P;let c=Object.keys(r),f,g=c.length-1,v={};for(;g>=0;)f=c[g],v[f.toLowerCase()]=r[f],g-=1;function w(M){if(M instanceof L.Marker)return"Marker";if(M instanceof L.Circle)return"Circle";if(M instanceof L.CircleMarker)return"CircleMarker";if(M instanceof L.Rectangle)return"Rectangle";if(M instanceof L.Polygon)return"Polygon";if(M instanceof L.Polyline)return"Line"}return(M,P)=>{let V,N;if(V=w(M.layer).toLowerCase(),N=w(P.layer).toLowerCase(),!V||!N)return 0;let rt=V in v?v[V]:Number.MAX_SAFE_INTEGER,ht=N in v?v[N]:Number.MAX_SAFE_INTEGER,Mt=0;return rt<ht?Mt=-1:rt>ht&&(Mt=1),a==="desc"?Mt*-1:Mt}}function Mi(n,r=n.getLatLngs()){return n instanceof L.Polygon?L.polygon(r).getLatLngs():L.polyline(r).getLatLngs()}function ao(n,r){var a,c,f,g;if((c=(a=r.options.crs)==null?void 0:a.projection)!=null&&c.MAX_LATITUDE){let v=(g=(f=r.options.crs)==null?void 0:f.projection)==null?void 0:g.MAX_LATITUDE;n.lat=Math.max(Math.min(v,n.lat),-v)}return n}function tr(n){return n.options.renderer||n._map&&(n._map._getPaneRenderer(n.options.pane)||n._map.options.renderer||n._map._renderer)||n._renderer}var ni=L.Class.extend({includes:[ji,Tr,zi,wa,Qi],initialize(n){this.map=n,this.Draw=new L.PM.Draw(n),this.Toolbar=new L.PM.Toolbar(n),this.Keyboard=Ma(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(n)},setLang(n="en",r,a="en"){let c=L.PM.activeLang;r&&(Ni[n]=(0,me.default)(Ni[a],r)),L.PM.activeLang=n,this.map.pm.Toolbar.reinit(),this._fireLangChange(c,n,a,Ni[n])},addControls(n){this.Toolbar.addControls(n)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(n="Polygon",r){n==="Poly"&&(n="Polygon"),this.Draw.enable(n,r)},disableDraw(n="Polygon"){n==="Poly"&&(n="Polygon"),this.Draw.disable(n)},setPathOptions(n,r={}){let a=r.ignoreShapes||[],c=r.merge||!1;this.map.pm.Draw.shapes.forEach(f=>{a.indexOf(f)===-1&&this.map.pm.Draw[f].setPathOptions(n,c)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(n){let r=(0,me.default)(this.globalOptions,n);r.editable&&(r.resizeableCircleMarker=r.editable,delete r.editable);let a=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!r.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),a=!0);let c=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!r.resizableCircle&&(this.map.pm.Draw.Circle.disable(),c=!0),this.map.pm.Draw.shapes.forEach(f=>{this.map.pm.Draw[f].setOptions(r)}),a&&this.map.pm.Draw.CircleMarker.enable(),c&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(f=>{f.pm.setOptions(r)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=r,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(n=>{n.pm.enabled()&&n.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(n){return this.Draw.Cut.enable(n)},toggleGlobalCutMode(n){return this.Draw.Cut.toggle(n)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(n=!1){let r=L.PM.Utils.findLayers(this.map);if(!n)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(c=>{a.addLayer(c)}),a},getGeomanDrawLayers(n=!1){let r=L.PM.Utils.findLayers(this.map).filter(c=>c._drawnByGeoman===!0);if(!n)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(c=>{a.addLayer(c)}),a},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(n){this._touchEventCounter===0&&(L.DomEvent.on(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(n){this._touchEventCounter===1&&(L.DomEvent.off(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(n){tr(this.map)._onMouseMove(this._createMouseEvent("mousemove",n))},_canvasTouchClick(n){let r="";n.type==="touchstart"||n.type==="pointerdown"?r="mousedown":(n.type==="touchend"||n.type==="pointerup"||n.type==="touchcancel"||n.type==="pointercancel")&&(r="mouseup"),r&&tr(this.map)._onClick(this._createMouseEvent(r,n))},_createMouseEvent(n,r){let a,c=r.touches[0]||r.changedTouches[0];try{a=new MouseEvent(n,{bubbles:r.bubbles,cancelable:r.cancelable,view:r.view,detail:c.detail,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,button:r.button,relatedTarget:r.relatedTarget})}catch{a=document.createEvent("MouseEvents"),a.initMouseEvent(n,r.bubbles,r.cancelable,r.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget)}return a}}),gu=ni,Ba=L.Control.extend({includes:[Qi],options:{position:"topleft",disableByOtherButtons:!0},initialize(n){this._button=L.Util.extend({},this.options,n)},onAdd(n){return this._map=n,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let n=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),n?n.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(n){return typeof n=="boolean"?this._button.toggleStatus=n:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(n){n&&n.preventDefault(),!this._button.disabled&&(this._button.onClick(n,{button:this,event:n}),this._clicked(n),this._button.afterClick(n,{button:this,event:n}))},_makeButton(n){let r=this.options.position.indexOf("right")>-1?"pos-right":"",a=L.DomUtil.create("div",`button-container  ${r}`,this._container);n.title&&a.setAttribute("title",n.title);let c=L.DomUtil.create("a","leaflet-buttons-control-button",a);c.setAttribute("role","button"),c.setAttribute("tabindex","0"),c.href="#";let f=L.DomUtil.create("div",`leaflet-pm-actions-container ${r}`,a),g=n.actions,v={cancel:{text:Be("actions.cancel"),title:Be("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Be("actions.finish"),title:Be("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Be("actions.removeLastVertex"),title:Be("actions.removeLastVertex"),onClick(){this._map.pm.Draw[n.jsClass]._removeLastVertex()}},finish:{text:Be("actions.finish"),title:Be("actions.finish"),onClick(M){this._map.pm.Draw[n.jsClass]._finishShape(M)}}};g.forEach(M=>{let P=typeof M=="string"?M:M.name,V;if(v[P])V=v[P];else if(M.text)V=M;else return;let N=L.DomUtil.create("a",`leaflet-pm-action ${r} action-${P}`,f);if(N.setAttribute("role","button"),N.setAttribute("tabindex","0"),N.href="#",V.title&&(N.title=V.title),N.innerHTML=V.text,L.DomEvent.disableClickPropagation(N),L.DomEvent.on(N,"click",L.DomEvent.stop),!n.disabled&&V.onClick){let rt=ht=>{ht.preventDefault();let Mt="",{buttons:Gt}=this._map.pm.Toolbar;for(let Kt in Gt)if(Gt[Kt]._button===n){Mt=Kt;break}this._fireActionClick(V,Mt,n)};L.DomEvent.addListener(N,"click",rt,this),L.DomEvent.addListener(N,"click",V.onClick,this)}}),n.toggleStatus&&L.DomUtil.addClass(a,"active");let w=L.DomUtil.create("div","control-icon",c);return n.iconUrl&&w.setAttribute("src",n.iconUrl),n.className&&L.DomUtil.addClass(w,n.className),L.DomEvent.disableClickPropagation(c),L.DomEvent.on(c,"click",L.DomEvent.stop),n.disabled||(L.DomEvent.addListener(c,"click",this._onBtnClick,this),L.DomEvent.addListener(c,"click",this._triggerClick,this)),n.disabled&&(L.DomUtil.addClass(c,"pm-disabled"),c.setAttribute("aria-disabled","true")),a},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let n="",{buttons:r}=this._map.pm.Toolbar;for(let a in r)if(r[a]._button===this._button){n=a;break}this._fireButtonClick(n,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let n="pm-disabled",r=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(r,n),r.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(r,n),r.setAttribute("aria-disabled","false"))}}),Ei=Ba;L.Control.PMButton=Ei;var Sa=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(n){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(n)},reinit(){let n=this.isVisible;this.removeControls(),this._defineButtons(),n&&this.addControls()},init(n){this.map=n,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(n){let r=`${n}Container`;return this[r]||(this[r]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${n} leaflet-bar leaflet-control`)),this[r]},getButtons(){return this.buttons},addControls(n=this.options){typeof n.editPolygon<"u"&&(n.editMode=n.editPolygon),typeof n.deleteLayer<"u"&&(n.removalMode=n.deleteLayer),L.Util.setOptions(this,n),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let n=this.getButtons(),r={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let a in n){let c=n[a];L.Util.setOptions(c,{className:r.geomanIcons[a]})}},removeControls(){let n=this.getButtons();for(let r in n)n[r].remove();this.isVisible=!1},toggleControls(n=this.options){this.isVisible?this.removeControls():this.addControls(n)},_addButton(n,r){return this.buttons[n]=r,this.options[n]=!!this.options[n]||!1,this.buttons[n]},triggerClickOnToggledButtons(n){for(let r in this.buttons){let a=this.buttons[r];a._button.disableByOtherButtons&&a!==n&&a.toggled()&&a._triggerClick()}},toggleButton(n,r,a=!0){return n==="editPolygon"&&(n="editMode"),n==="deleteLayer"&&(n="removalMode"),a&&this.triggerClickOnToggledButtons(this.buttons[n]),this.buttons[n]?this.buttons[n].toggle(r):!1},_defineButtons(){let n={className:"control-icon leaflet-pm-icon-marker",title:Be("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},r={title:Be("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={className:"control-icon leaflet-pm-icon-polyline",title:Be("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},c={title:Be("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},f={title:Be("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:Be("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:Be("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},w={title:Be("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},M={title:Be("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},P={title:Be("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},V={title:Be("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={className:"control-icon leaflet-pm-icon-text",title:Be("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(rt,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(a)),this._addButton("drawRectangle",new L.Control.PMButton(g)),this._addButton("drawPolygon",new L.Control.PMButton(r)),this._addButton("drawCircle",new L.Control.PMButton(c)),this._addButton("drawCircleMarker",new L.Control.PMButton(f)),this._addButton("drawText",new L.Control.PMButton(N)),this._addButton("editMode",new L.Control.PMButton(v)),this._addButton("dragMode",new L.Control.PMButton(w)),this._addButton("cutPolygon",new L.Control.PMButton(M)),this._addButton("removalMode",new L.Control.PMButton(P)),this._addButton("rotateMode",new L.Control.PMButton(V))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let n=this.getButtons(),r=[];this.options.drawControls===!1&&(r=r.concat(Object.keys(n).filter(a=>!n[a]._button.tool))),this.options.editControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="edit"))),this.options.optionsControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="options"))),this.options.customControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="custom")));for(let a in n)if(this.options[a]&&r.indexOf(a)===-1){let c=n[a]._button.tool;c||(c="draw"),n[a].setPosition(this._getBtnPosition(c)),n[a].addTo(this.map)}},_getBtnPosition(n){return this.options.positions&&this.options.positions[n]?this.options.positions[n]:this.options.position},setBlockPosition(n,r){this.options.positions[n]=r,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(n,r){if(r)typeof r!="object"&&(r={name:r});else throw new TypeError("Button has no name");let a=this._btnNameMapping(n);if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");let c=this.map.pm.Draw.createNewDrawInstance(r.name,a);r={...this.buttons[a]._button,...r};let f=this.createCustomControl(r);return{drawInstance:c,control:f}},createCustomControl(n){if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");n.onClick||(n.onClick=()=>{}),n.afterClick||(n.afterClick=()=>{}),n.toggle!==!1&&(n.toggle=!0),n.block&&(n.block=n.block.toLowerCase()),(!n.block||n.block==="draw")&&(n.block=""),n.className?n.className.indexOf("control-icon")===-1&&(n.className=`control-icon ${n.className}`):n.className="control-icon";let r={tool:n.block,className:n.className,title:n.title||"",jsClass:n.name,onClick:n.onClick,afterClick:n.afterClick,doToggle:n.toggle,toggleStatus:!1,disableOtherButtons:n.disableOtherButtons??!0,disableByOtherButtons:n.disableByOtherButtons??!0,cssToggle:n.toggle,position:this.options.position,actions:n.actions||[],disabled:!!n.disabled};this.options[n.name]!==!1&&(this.options[n.name]=!0);let a=this._addButton(n.name,new L.Control.PMButton(r));return this.changeControlOrder(),a},controlExists(n){return!!this.getButton(n)},getButton(n){return this.getButtons()[n]},getButtonsInBlock(n){let r={};if(n)for(let a in this.getButtons()){let c=this.getButtons()[a];(c._button.tool===n||n==="draw"&&!c._button.tool)&&(r[a]=c)}return r},changeControlOrder(n=[]){let r=this._shapeMapping(),a=[];n.forEach(g=>{r[g]?a.push(r[g]):a.push(g)});let c=this.getButtons(),f={};a.forEach(g=>{c[g]&&(f[g]=c[g])}),Object.keys(c).filter(g=>!c[g]._button.tool).forEach(g=>{a.indexOf(g)===-1&&(f[g]=c[g])}),Object.keys(c).filter(g=>c[g]._button.tool==="edit").forEach(g=>{a.indexOf(g)===-1&&(f[g]=c[g])}),Object.keys(c).filter(g=>c[g]._button.tool==="options").forEach(g=>{a.indexOf(g)===-1&&(f[g]=c[g])}),Object.keys(c).filter(g=>c[g]._button.tool==="custom").forEach(g=>{a.indexOf(g)===-1&&(f[g]=c[g])}),Object.keys(c).forEach(g=>{a.indexOf(g)===-1&&(f[g]=c[g])}),this.map.pm.Toolbar.buttons=f,this._showHideButtons()},getControlOrder(){let n=this.getButtons(),r=[];for(let a in n)r.push(a);return r},changeActionsOfControl(n,r){let a=this._btnNameMapping(n);if(!a)throw new TypeError("No name passed");if(!r)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=r,this.changeControlOrder()},setButtonDisabled(n,r){let a=this._btnNameMapping(n);r?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(n){let r=this._shapeMapping();return r[n]?r[n]:n}}),Ta=Sa,fs=m(eo()),yu={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(n){n.forEach(r=>{if(Array.isArray(r)){this._assignEvents(r);return}r.off("drag",this._handleSnapping,this),r.on("drag",this._handleSnapping,this),r.off("dragend",this._cleanupSnapping,this),r.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(n){if(n){let r=n.target;r._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(r=>{r.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(n){var w,M,P;let r=n.target;if(r._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((w=n==null?void 0:n.originalEvent)==null?void 0:w.altKey)||((P=(M=this._map)==null?void 0:M.pm)==null?void 0:P.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let a=this._calcClosestLayer(r.getLatLng(),this._snapList);if(Object.keys(a).length===0)return!1;let c=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker||!this.options.snapSegment,f;c?f=a.latlng:f=this._checkPrioritiySnapping(a);let g=this.options.snapDistance,v={marker:r,shape:this._shape,snapLatLng:f,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(this._fireSnapDrag(v.marker,v),this._fireSnapDrag(this._layer,v),a.distance<g){r._orgLatLng=r.getLatLng(),r.setLatLng(f),r._snapped=!0,r._snapInfo=v;let V=()=>{this._snapLatLng=f,this._fireSnap(r,v),this._fireSnap(this._layer,v)},N=this._snapLatLng||{},rt=f||{};(N.lat!==rt.lat||N.lng!==rt.lng)&&V()}else this._snapLatLng&&(this._unsnap(v),r._snapped=!1,r._snapInfo=void 0,this._fireUnsnap(v.marker,v),this._fireUnsnap(this._layer,v));return!0},_createSnapList(){let n=[],r=[],a=this._map;a.off("layerremove",this._handleSnapLayerRemoval,this),a.on("layerremove",this._handleSnapLayerRemoval,this),a.eachLayer(c=>{if((c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&c.options.snapIgnore!==!0){if(c.options.snapIgnore===void 0&&(!L.PM.optIn&&c.options.pmIgnore===!0||L.PM.optIn&&c.options.pmIgnore!==!1))return;(c instanceof L.Circle||c instanceof L.CircleMarker)&&c.pm&&c.pm._hiddenPolyCircle?n.push(c.pm._hiddenPolyCircle):c instanceof L.ImageOverlay&&(c=L.rectangle(c.getBounds())),n.push(c);let f=L.polyline([],{color:"red",pmIgnore:!0});f._pmTempLayer=!0,r.push(f),(c instanceof L.Circle||c instanceof L.CircleMarker)&&r.push(f)}}),n=n.filter(c=>this._layer!==c),n=n.filter(c=>c._latlng||c._latlngs&&Rn(c._latlngs)),n=n.filter(c=>!c._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let c=L.polyline([],{color:"red",pmIgnore:!0});c._pmTempLayer=!0,r.push(c)}),this._snapList=n.concat(this._otherSnapLayers)):this._snapList=n,this.debugIndicatorLines=r},_handleSnapLayerRemoval({layer:n}){if(!n._leaflet_id)return;let r=this._snapList.findIndex(a=>a._leaflet_id===n._leaflet_id);r>-1&&this._snapList.splice(r,1)},_calcClosestLayer(n,r){return this._calcClosestLayers(n,r,1)[0]},_calcClosestLayers(n,r,a=1){let c=[],f={};r.forEach((v,w)=>{if(v._parentCopy&&v._parentCopy===this._layer)return;let M=this._calcLayerDistances(n,v);if(M.distance=Math.floor(M.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[w]){let P=L.polyline([],{color:"red",pmIgnore:!0});P._pmTempLayer=!0,this.debugIndicatorLines[w]=P}this.debugIndicatorLines[w].setLatLngs([n,M.latlng])}a===1&&(f.distance===void 0||M.distance-5<=f.distance)?(M.distance+5<f.distance&&(c=[]),f=M,f.layer=v,c.push(f)):a!==1&&(f={},f=M,f.layer=v,c.push(f))}),a!==1&&(c=c.sort((v,w)=>v.distance-w.distance)),a===-1&&(a=c.length);let g=this._getClosestLayerByPriority(c,a);return L.Util.isArray(g)?g:[g]},_calcLayerDistances(n,r){let a=this._map,c=r instanceof L.Marker||r instanceof L.CircleMarker,f=r instanceof L.Polygon,g=n;if(c){let v=r.getLatLng();return{latlng:{...v},distance:this._getDistance(a,v,g)}}return this._calcLatLngDistances(g,r.getLatLngs(),a,f)},_calcLatLngDistances(n,r,a,c=!1){let f,g,v,w=M=>{M.forEach((P,V)=>{if(Array.isArray(P)){w(P);return}if(this.options.snapSegment){let N=P,rt;c?rt=V+1===M.length?0:V+1:rt=V+1===M.length?void 0:V+1;let ht=M[rt];if(ht){let Mt=this._getDistanceToSegment(a,n,N,ht);(g===void 0||Mt<g)&&(g=Mt,v=[N,ht])}}else{let N=this._getDistance(a,n,P);(g===void 0||N<g)&&(g=N,f=P)}})};return w(r),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(a,n,v[0],v[1])},segment:v,distance:g}:{latlng:f,distance:g}},_getClosestLayerByPriority(n,r=1){n=n.sort((v,w)=>v._leaflet_id-w._leaflet_id);let a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],c=this._map.pm.globalOptions.snappingOrder||[],f=0,g={};return c.concat(a).forEach(v=>{g[v]||(f+=1,g[v]=f)}),n.sort(mu("instanceofShape",g)),r===1?n[0]||{}:n.slice(0,r)},_checkPrioritiySnapping(n){let r=this._map,a=n.segment[0],c=n.segment[1],f=n.latlng,g=this._getDistance(r,a,f),v=this._getDistance(r,c,f),w=g<v?a:c,M=g<v?g:v;if(this.options.snapMiddle){let N=L.PM.Utils.calcMiddleLatLng(r,a,c),rt=this._getDistance(r,N,f);rt<g&&rt<v&&(w=N,M=rt)}let P=this.options.snapDistance,V;return M<P?V=w:V=f,{...V}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(n,r,a,c){let f=n.getMaxZoom();f===1/0&&(f=n.getZoom());let g=n.project(r,f),v=n.project(a,f),w=n.project(c,f),M=L.LineUtil.closestPointOnSegment(g,v,w);return n.unproject(M,f)},_getDistanceToSegment(n,r,a,c){let f=n.latLngToLayerPoint(r),g=n.latLngToLayerPoint(a),v=n.latLngToLayerPoint(c);return L.LineUtil.pointToSegmentDistance(f,g,v)},_getDistance(n,r,a){return n.latLngToLayerPoint(r).distanceTo(n.latLngToLayerPoint(a))}},_s=yu,Aa=L.Class.extend({includes:[_s,Qi],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(n){L.Util.setOptions(this,n),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(n){let r=new L.Icon.Default;r.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=r,this._map=n,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(a=>{this[a]=new L.PM.Draw[a](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(n,r=!1){r?this.options.pathOptions=(0,fs.default)(this.options.pathOptions,n):this.options.pathOptions=n},getShapes(){return this.shapes},getShape(){return this._shape},enable(n,r){if(!n)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[n].enable(r)},disable(){this.shapes.forEach(n=>{this[n].disable()})},addControls(){this.shapes.forEach(n=>{this[n].addButton()})},getActiveShape(){let n;return this.shapes.forEach(r=>{this[r]._enabled&&(n=r)}),n},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let n=[];this._map.eachLayer(r=>{(r instanceof L.Polyline||r instanceof L.Marker||r instanceof L.Circle||r instanceof L.CircleMarker||r instanceof L.ImageOverlay)&&(r._pmTempLayer||n.push(r))}),this._enabled?n.forEach(r=>{L.PM.Utils.disablePopup(r)}):n.forEach(r=>{L.PM.Utils.enablePopup(r)})},createNewDrawInstance(n,r){let a=this._getShapeFromBtnName(r);if(this[n])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError(`There is no class L.PM.Draw.${a}`);return this[n]=new L.PM.Draw[a](this._map),this[n].toolbarButtonName=n,this[n]._shape=n,this.shapes.push(n),this[r]&&this[n].setOptions(this[r].options),this[n].setOptions(this[n].options),this[n]},_getShapeFromBtnName(n){let r={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return r[n]?r[n]:this[n]?this[n]._shape:n},_finishLayer(n){n.pm&&(n.pm.setOptions(this.options),n.pm._shape=this._shape,n.pm._map=this._map),this._addDrawnLayerProp(n)},_addDrawnLayerProp(n){n._drawnByGeoman=!0},_setPane(n,r){r==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),mn=Aa;mn.Marker=mn.extend({initialize(n){this._map=n,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},isRelevantMarker(n){return n instanceof L.Marker&&n.pm&&!n._pmTempLayer&&!n.pm._initTextMarker},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let r=n;r.target=this._hintMarker,this._handleSnapping(r)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(n){if(!n.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=new L.Marker(r,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var n,r;(n=this.options.markerStyle)!=null&&n.icon&&((r=this._hintMarker)==null||r.setIcon(this.options.markerStyle.icon))}});var Pn=63710088e-1,lo={centimeters:Pn*100,centimetres:Pn*100,degrees:Pn/111325,feet:Pn*3.28084,inches:Pn*39.37,kilometers:Pn/1e3,kilometres:Pn/1e3,meters:Pn,metres:Pn,miles:Pn/1609.344,millimeters:Pn*1e3,millimetres:Pn*1e3,nauticalmiles:Pn/1852,radians:1,yards:Pn*1.0936};function er(n,r,a){a===void 0&&(a={});var c={type:"Feature"};return(a.id===0||a.id)&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.properties=r||{},c.geometry=n,c}function Gi(n,r,a){if(a===void 0&&(a={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ms(n[0])||!ms(n[1]))throw new Error("coordinates must contain numbers");var c={type:"Point",coordinates:n};return er(c,r,a)}function nr(n,r,a){if(a===void 0&&(a={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");var c={type:"LineString",coordinates:n};return er(c,r,a)}function Yn(n,r){r===void 0&&(r={});var a={type:"FeatureCollection"};return r.id&&(a.id=r.id),r.bbox&&(a.bbox=r.bbox),a.features=n,a}function Vi(n,r){r===void 0&&(r="kilometers");var a=lo[r];if(!a)throw new Error(r+" units is invalid");return n*a}function vu(n,r){r===void 0&&(r="kilometers");var a=lo[r];if(!a)throw new Error(r+" units is invalid");return n/a}function $i(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ye(n){var r=n%360;return r*Math.PI/180}function ms(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Or(n){var r,a,c={type:"FeatureCollection",features:[]};if(n.type==="Feature"?a=n.geometry:a=n,a.type==="LineString")r=[a.coordinates];else if(a.type==="MultiLineString")r=a.coordinates;else if(a.type==="MultiPolygon")r=[].concat.apply([],a.coordinates);else if(a.type==="Polygon")r=a.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return r.forEach(function(f){r.forEach(function(g){for(var v=0;v<f.length-1;v++)for(var w=v;w<g.length-1;w++)if(!(f===g&&(Math.abs(v-w)===1||v===0&&w===f.length-2&&f[v][0]===f[f.length-1][0]&&f[v][1]===f[f.length-1][1]))){var M=bu(f[v][0],f[v][1],f[v+1][0],f[v+1][1],g[w][0],g[w][1],g[w+1][0],g[w+1][1]);M&&c.features.push(Gi([M[0],M[1]]))}})}),c}function bu(n,r,a,c,f,g,v,w){var M,P,V,N,rt,ht={x:null,y:null,onLine1:!1,onLine2:!1};return M=(w-g)*(a-n)-(v-f)*(c-r),M===0?ht.x!==null&&ht.y!==null?ht:!1:(P=r-g,V=n-f,N=(v-f)*P-(w-g)*V,rt=(a-n)*P-(c-r)*V,P=N/M,V=rt/M,ht.x=n+P*(a-n),ht.y=r+P*(c-r),P>=0&&P<=1&&(ht.onLine1=!0),V>=0&&V<=1&&(ht.onLine2=!0),ht.onLine1&&ht.onLine2?[ht.x,ht.y]:!1)}mn.Line=mn.extend({initialize(n){this._map=n,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_syncHintLine(){let n=this._layer.getLatLngs();if(n.length>0){let r=n[n.length-1];this._hintline.setLatLngs([r,this._hintMarker.getLatLng()])}},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let r=this._layer._defaultShape().slice();r.push(this._hintMarker.getLatLng()),this._change(r)},hasSelfIntersection(){return Or(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(n,r){let a=L.polyline(this._layer.getLatLngs());n&&(r||(r=this._hintMarker.getLatLng()),a.addLatLng(r));let c=Or(a.toGeoJSON(15));this._doesSelfIntersect=c.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(c,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(n){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,n.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),c=a[a.length-1];if(r.equals(a[0])||a.length>0&&r.equals(c)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:r,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(r);let f=this._createMarker(r);this._setTooltipText(),this._setHintLineAfterNewVertex(r),this._fireVertexAdded(f,void 0,r,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(n)},_setHintLineAfterNewVertex(n){this._hintline.setLatLngs([n,n])},_removeLastVertex(){let n=this._markers;if(n.length<=1){this.disable();return}let r=this._layer.getLatLngs(),a=n[n.length-1],{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(n,a);n.pop(),this._layerGroup.removeLayer(a);let f=n[n.length-1],g=r.indexOf(f.getLatLng());r=r.slice(0,g+1),this._layer.setLatLngs(r),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,c,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=1)return;let r=L.polyline(n,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(n){let r=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),r.on("click",this._finishShape,this),r},_setTooltipText(){let{length:n}=this._layer.getLatLngs().flat(),r="";n<=1?r=Be("tooltips.continueLine"):r=Be("tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change(n){this._fireChange(n,"Draw")},setStyle(){var n,r;(n=this._layer)==null||n.setStyle(this.options.templineStyle),(r=this._hintline)==null||r.setStyle(this.options.hintlineStyle)}}),mn.Polygon=mn.Line.extend({initialize(n){this._map=n,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(n){L.PM.Draw.Line.prototype.enable.call(this,n),this._layer.pm._shape="Polygon"},_createMarker(n){let r=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),this._layer.getLatLngs().flat().length===1?(r.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(r)-1,this.options.snappable&&this._cleanupSnapping()):r.on("click",()=>1),r},_setTooltipText(){let{length:n}=this._layer.getLatLngs().flat(),r="";n<=2?r=Be("tooltips.continueLine"):r=Be("tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=2)return;let r=L.polygon(n,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),mn.Rectangle=mn.extend({initialize(n){this._map=n,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(n){if(L.Util.setOptions(this,n),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let r=0;r<2;r+=1){let a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_placeStartingMarkers(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(r),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(a=>{L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(r)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Be("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let n=this._startMarker.getLatLng();n&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([n,n]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}let r=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(r,"Draw")},_syncRectangleSize(){let n=ao(this._startMarker.getLatLng(),this._map),r=ao(this._hintMarker.getLatLng(),this._map),a=L.PM.Utils._getRotatedRectangle(n,r,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(a),this.options.cursorMarker&&this._styleMarkers){let c=[];a.forEach(f=>{!f.equals(n,1e-8)&&!f.equals(r,1e-8)&&c.push(f)}),c.forEach((f,g)=>{try{this._styleMarkers[g].setLatLng(f)}catch{}})}},_findCorners(){let n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.options.rectangleAngle||0,this._map)},_finishShape(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||a.equals(r))return;let c=L.rectangle([a,r],this.options.pathOptions);if(this.options.rectangleAngle){let f=L.PM.Utils._getRotatedRectangle(a,r,this.options.rectangleAngle||0,this._map);c.setLatLngs(f),c.pm&&c.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var n;(n=this._layer)==null||n.setStyle(this.options.pathOptions)}}),mn.CircleMarker=mn.extend({initialize(n){this._map=n,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(n){if(L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let r={};L.extend(r,this.options.templineStyle),r.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),r),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.disable()})},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_placeCenterMarker(n){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(r),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let n=this._centerMarker.getLatLng();n&&(this._layer.setLatLng(n),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Be("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let n=this._centerMarker.getLatLng(),r=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([n,r])},_syncCircleRadius(){let n=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();let r=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(r,"Draw")},isRelevantMarker(n){return n instanceof L.CircleMarker&&!(n instanceof L.Circle)&&n.pm&&!n._pmTempLayer},_createMarker(n){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!n.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(r,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(n){n.pm&&this.options.markerEditable&&n.pm.enable()},_finishShape(n){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){let g=this._hintMarker.getLatLng();a=this._distanceCalculation(r,g),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}let c={...this.options.pathOptions,radius:a},f=new this._BaseCircleClass(r,c);this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),f.pm&&f.pm._updateHiddenPolyCircle(),this._fireCreate(f),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let n=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return n;let r=this._centerMarker.getLatLng(),a=this._distanceCalculation(r,n);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?n=Ar(this._map,r,n,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(n=Ar(this._map,r,n,this._getMaxDistanceInMeter()))}return n},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let n=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(n,r);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var r,a;let n={};L.extend(n,this.options.templineStyle),this.options[this._editableOption]&&(n.radius=0),(r=this._layer)==null||r.setStyle(n),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)},_distanceCalculation(n,r){return this._map.project(n).distanceTo(this._map.project(r))}}),mn.Circle=mn.CircleMarker.extend({initialize(n){this._map=n,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(n,r){return this._map.distance(n,r)}});function Gn(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Vn(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function uo(n){return n.type==="Feature"?n.geometry:n}function Oa(n,r){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function co(n,r,a){if(n!==null)for(var c,f,g,v,w,M,P,V=0,N=0,rt,ht=n.type,Mt=ht==="FeatureCollection",Gt=ht==="Feature",Kt=Mt?n.features.length:1,Se=0;Se<Kt;Se++){P=Mt?n.features[Se].geometry:Gt?n.geometry:n,rt=P?P.type==="GeometryCollection":!1,w=rt?P.geometries.length:1;for(var z=0;z<w;z++){var Z=0,J=0;if(v=rt?P.geometries[z]:P,v!==null){M=v.coordinates;var ct=v.type;switch(V=0,ct){case null:break;case"Point":if(r(M,N,Se,Z,J)===!1)return!1;N++,Z++;break;case"LineString":case"MultiPoint":for(c=0;c<M.length;c++){if(r(M[c],N,Se,Z,J)===!1)return!1;N++,ct==="MultiPoint"&&Z++}ct==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(c=0;c<M.length;c++){for(f=0;f<M[c].length-V;f++){if(r(M[c][f],N,Se,Z,J)===!1)return!1;N++}ct==="MultiLineString"&&Z++,ct==="Polygon"&&J++}ct==="Polygon"&&Z++;break;case"MultiPolygon":for(c=0;c<M.length;c++){for(J=0,f=0;f<M[c].length;f++){for(g=0;g<M[c][f].length-V;g++){if(r(M[c][f][g],N,Se,Z,J)===!1)return!1;N++}J++}Z++}break;case"GeometryCollection":for(c=0;c<v.geometries.length;c++)if(co(v.geometries[c],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Dr(n,r){if(n.type==="Feature")r(n,0);else if(n.type==="FeatureCollection")for(var a=0;a<n.features.length&&r(n.features[a],a)!==!1;a++);}function Xn(n,r,a){var c=a;return Dr(n,function(f,g){g===0&&a===void 0?c=f:c=r(c,f,g)}),c}function ir(n,r){var a,c,f,g,v,w,M,P,V,N,rt=0,ht=n.type==="FeatureCollection",Mt=n.type==="Feature",Gt=ht?n.features.length:1;for(a=0;a<Gt;a++){for(w=ht?n.features[a].geometry:Mt?n.geometry:n,P=ht?n.features[a].properties:Mt?n.properties:{},V=ht?n.features[a].bbox:Mt?n.bbox:void 0,N=ht?n.features[a].id:Mt?n.id:void 0,M=w?w.type==="GeometryCollection":!1,v=M?w.geometries.length:1,f=0;f<v;f++){if(g=M?w.geometries[f]:w,g===null){if(r(null,rt,P,V,N)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(g,rt,P,V,N)===!1)return!1;break}case"GeometryCollection":{for(c=0;c<g.geometries.length;c++)if(r(g.geometries[c],rt,P,V,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}rt++}}function gs(n,r){ir(n,function(a,c,f,g,v){var w=a===null?null:a.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(er(a,f,{bbox:g,id:v}),c,0)===!1?!1:void 0}var M;switch(w){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon";break}for(var P=0;P<a.coordinates.length;P++){var V=a.coordinates[P],N={type:M,coordinates:V};if(r(er(N,f),c,P)===!1)return!1}})}function fi(n){if(!n)throw new Error("geojson is required");var r=[];return gs(n,function(a){xu(a,r)}),Yn(r)}function xu(n,r){var a=[],c=n.geometry;if(c!==null){switch(c.type){case"Polygon":a=Vn(c);break;case"LineString":a=[Vn(c)]}a.forEach(function(f){var g=rr(f,n.properties);g.forEach(function(v){v.id=r.length,r.push(v)})})}}function rr(n,r){var a=[];return n.reduce(function(c,f){var g=nr([c,f],r);return g.bbox=Lu(c,f),a.push(g),f}),a}function Lu(n,r){var a=n[0],c=n[1],f=r[0],g=r[1],v=a<f?a:f,w=c<g?c:g,M=a>f?a:f,P=c>g?c:g;return[v,w,M,P]}var Hi=fi,Da=m(Ri(),1);function ho(n,r){var a={},c=[];if(n.type==="LineString"&&(n=er(n)),r.type==="LineString"&&(r=er(r)),n.type==="Feature"&&r.type==="Feature"&&n.geometry!==null&&r.geometry!==null&&n.geometry.type==="LineString"&&r.geometry.type==="LineString"&&n.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var f=Ra(n,r);return f&&c.push(f),Yn(c)}var g=(0,Da.default)();return g.load(Hi(r)),Dr(Hi(n),function(v){Dr(g.search(v),function(w){var M=Ra(v,w);if(M){var P=Vn(M).join(",");a[P]||(a[P]=!0,c.push(M))}})}),Yn(c)}function Ra(n,r){var a=Vn(n),c=Vn(r);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(c.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var f=a[0][0],g=a[0][1],v=a[1][0],w=a[1][1],M=c[0][0],P=c[0][1],V=c[1][0],N=c[1][1],rt=(N-P)*(v-f)-(V-M)*(w-g),ht=(V-M)*(g-P)-(N-P)*(f-M),Mt=(v-f)*(g-P)-(w-g)*(f-M);if(rt===0)return null;var Gt=ht/rt,Kt=Mt/rt;if(Gt>=0&&Gt<=1&&Kt>=0&&Kt<=1){var Se=f+Gt*(v-f),z=g+Gt*(w-g);return Gi([Se,z])}return null}var Bn=ho,Rr=m(Ri(),1);function Cu(n,r,a){a===void 0&&(a={});var c=Gn(n),f=Gn(r),g=Ye(f[1]-c[1]),v=Ye(f[0]-c[0]),w=Ye(c[1]),M=Ye(f[1]),P=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(v/2),2)*Math.cos(w)*Math.cos(M);return Vi(2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P)),a.units)}var _i=Cu;function wu(n){var r=n[0],a=n[1],c=n[2],f=n[3],g=_i(n.slice(0,2),[c,a]),v=_i(n.slice(0,2),[r,f]);if(g>=v){var w=(a+f)/2;return[r,w-(c-r)/2,c,w+(c-r)/2]}else{var M=(r+c)/2;return[M-(f-a)/2,a,M+(f-a)/2,f]}}var mi=wu;function ys(n){var r=[1/0,1/0,-1/0,-1/0];return co(n,function(a){r[0]>a[0]&&(r[0]=a[0]),r[1]>a[1]&&(r[1]=a[1]),r[2]<a[0]&&(r[2]=a[0]),r[3]<a[1]&&(r[3]=a[1])}),r}ys.default=ys;var ii=ys;function ku(n,r){r===void 0&&(r={});var a=r.precision,c=r.coordinates,f=r.mutate;if(a=a==null||isNaN(a)?6:a,c=c==null||isNaN(c)?3:c,!n)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof c!="number")throw new Error("<coordinates> must be a number");(f===!1||f===void 0)&&(n=JSON.parse(JSON.stringify(n)));var g=Math.pow(10,a);return co(n,function(v){gi(v,g,c)}),n}function gi(n,r,a){n.length>a&&n.splice(a,n.length);for(var c=0;c<n.length;c++)n[c]=Math.round(n[c]*r)/r;return n}var po=ku;function vs(n,r,a){if(a===void 0&&(a={}),a.final===!0)return bs(n,r);var c=Gn(n),f=Gn(r),g=Ye(c[0]),v=Ye(f[0]),w=Ye(c[1]),M=Ye(f[1]),P=Math.sin(v-g)*Math.cos(M),V=Math.cos(w)*Math.sin(M)-Math.sin(w)*Math.cos(M)*Math.cos(v-g);return $i(Math.atan2(P,V))}function bs(n,r){var a=vs(r,n);return a=(a+180)%360,a}function Ir(n,r,a,c){c===void 0&&(c={});var f=Gn(n),g=Ye(f[0]),v=Ye(f[1]),w=Ye(a),M=vu(r,c.units),P=Math.asin(Math.sin(v)*Math.cos(M)+Math.cos(v)*Math.sin(M)*Math.cos(w)),V=g+Math.atan2(Math.sin(w)*Math.sin(M)*Math.cos(v),Math.cos(M)-Math.sin(v)*Math.sin(P)),N=$i(V),rt=$i(P);return Gi([N,rt],c.properties)}function xs(n,r,a){a===void 0&&(a={});var c=Gi([1/0,1/0],{dist:1/0}),f=0;return gs(n,function(g){for(var v=Vn(g),w=0;w<v.length-1;w++){var M=Gi(v[w]);M.properties.dist=_i(r,M,a);var P=Gi(v[w+1]);P.properties.dist=_i(r,P,a);var V=_i(M,P,a),N=Math.max(M.properties.dist,P.properties.dist),rt=vs(M,P),ht=Ir(r,N,rt+90,a),Mt=Ir(r,N,rt-90,a),Gt=Bn(nr([ht.geometry.coordinates,Mt.geometry.coordinates]),nr([M.geometry.coordinates,P.geometry.coordinates])),Kt=null;Gt.features.length>0&&(Kt=Gt.features[0],Kt.properties.dist=_i(r,Kt,a),Kt.properties.location=f+_i(M,Kt,a)),M.properties.dist<c.properties.dist&&(c=M,c.properties.index=w,c.properties.location=f),P.properties.dist<c.properties.dist&&(c=P,c.properties.index=w+1,c.properties.location=f+V),Kt&&Kt.properties.dist<c.properties.dist&&(c=Kt,c.properties.index=w),f+=V}}),c}var fo=xs;function or(n,r){if(!n)throw new Error("line is required");if(!r)throw new Error("splitter is required");var a=Oa(n),c=Oa(r);if(a!=="LineString")throw new Error("line must be LineString");if(c==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(c==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var f=po(r,{precision:7});switch(c){case"Point":return Nr(n,f);case"MultiPoint":return Fr(n,f);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Fr(n,Bn(n,f))}}function Fr(n,r){var a=[],c=(0,Rr.default)();return gs(r,function(f){if(a.forEach(function(w,M){w.id=M}),!a.length)a=Nr(n,f).features,a.forEach(function(w){w.bbox||(w.bbox=mi(ii(w)))}),c.load(Yn(a));else{var g=c.search(f);if(g.features.length){var v=Ls(f,g);a=a.filter(function(w){return w.id!==v.id}),c.remove(v),Dr(Nr(v,f),function(w){a.push(w),c.insert(w)})}}}),Yn(a)}function Nr(n,r){var a=[],c=Vn(n)[0],f=Vn(n)[n.geometry.coordinates.length-1];if(Cs(c,Gn(r))||Cs(f,Gn(r)))return Yn([n]);var g=(0,Rr.default)(),v=Hi(n);g.load(v);var w=g.search(r);if(!w.features.length)return Yn([n]);var M=Ls(r,w),P=[c],V=Xn(v,function(N,rt,ht){var Mt=Vn(rt)[1],Gt=Gn(r);return ht===M.id?(N.push(Gt),a.push(nr(N)),Cs(Gt,Mt)?[Gt]:[Gt,Mt]):(N.push(Mt),N)},P);return V.length>1&&a.push(nr(V)),Yn(a)}function Ls(n,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var a,c=1/0;return Dr(r,function(f){var g=fo(f,n),v=g.properties.dist;v<c&&(a=f,c=v)}),a}function Cs(n,r){return n[0]===r[0]&&n[1]===r[1]}var _o=or;function mo(n,r,a){if(a===void 0&&(a={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var c=Gn(n),f=uo(r),g=f.type,v=r.bbox,w=f.coordinates;if(v&&Mu(c,v)===!1)return!1;g==="Polygon"&&(w=[w]);for(var M=!1,P=0;P<w.length&&!M;P++)if(ws(c,w[P][0],a.ignoreBoundary)){for(var V=!1,N=1;N<w[P].length&&!V;)ws(c,w[P][N],!a.ignoreBoundary)&&(V=!0),N++;V||(M=!0)}return M}function ws(n,r,a){var c=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var f=0,g=r.length-1;f<r.length;g=f++){var v=r[f][0],w=r[f][1],M=r[g][0],P=r[g][1],V=n[1]*(v-M)+w*(M-n[0])+P*(n[0]-v)===0&&(v-n[0])*(M-n[0])<=0&&(w-n[1])*(P-n[1])<=0;if(V)return!a;var N=w>n[1]!=P>n[1]&&n[0]<(M-v)*(n[1]-w)/(P-w)+v;N&&(c=!c)}return c}function Mu(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}function Ia(n,r,a){a===void 0&&(a={});for(var c=Gn(n),f=Vn(r),g=0;g<f.length-1;g++){var v=!1;if(a.ignoreEndVertices&&(g===0&&(v="start"),g===f.length-2&&(v="end"),g===0&&g+1===f.length-1&&(v="both")),Eu(f[g],f[g+1],c,v,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1}function Eu(n,r,a,c,f){var g=a[0],v=a[1],w=n[0],M=n[1],P=r[0],V=r[1],N=a[0]-w,rt=a[1]-M,ht=P-w,Mt=V-M,Gt=N*Mt-rt*ht;if(f!==null){if(Math.abs(Gt)>f)return!1}else if(Gt!==0)return!1;if(c){if(c==="start")return Math.abs(ht)>=Math.abs(Mt)?ht>0?w<g&&g<=P:P<=g&&g<w:Mt>0?M<v&&v<=V:V<=v&&v<M;if(c==="end")return Math.abs(ht)>=Math.abs(Mt)?ht>0?w<=g&&g<P:P<g&&g<=w:Mt>0?M<=v&&v<V:V<v&&v<=M;if(c==="both")return Math.abs(ht)>=Math.abs(Mt)?ht>0?w<g&&g<P:P<g&&g<w:Mt>0?M<v&&v<V:V<v&&v<M}else return Math.abs(ht)>=Math.abs(Mt)?ht>0?w<=g&&g<=P:P<=g&&g<=w:Mt>0?M<=v&&v<=V:V<=v&&v<=M;return!1}var Sn=Ia;function go(n,r){var a=uo(n),c=uo(r),f=a.type,g=c.type,v=a.coordinates,w=c.coordinates;switch(f){case"Point":switch(g){case"Point":return vo(v,w);default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPoint":switch(g){case"Point":return Pu(a,c);case"MultiPoint":return yo(a,c);default:throw new Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return Sn(c,a,{ignoreEndVertices:!0});case"LineString":return Su(a,c);case"MultiPoint":return Bu(a,c);default:throw new Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":return mo(c,a,{ignoreBoundary:!0});case"LineString":return jr(a,c);case"Polygon":return Tu(a,c);case"MultiPoint":return Fa(a,c);default:throw new Error("feature2 "+g+" geometry not supported")}default:throw new Error("feature1 "+f+" geometry not supported")}}function Pu(n,r){var a,c=!1;for(a=0;a<n.coordinates.length;a++)if(vo(n.coordinates[a],r.coordinates)){c=!0;break}return c}function yo(n,r){for(var a=0,c=r.coordinates;a<c.length;a++){for(var f=c[a],g=!1,v=0,w=n.coordinates;v<w.length;v++){var M=w[v];if(vo(f,M)){g=!0;break}}if(!g)return!1}return!0}function Bu(n,r){for(var a=!1,c=0,f=r.coordinates;c<f.length;c++){var g=f[c];if(Sn(g,n,{ignoreEndVertices:!0})&&(a=!0),!Sn(g,n))return!1}return!!a}function Fa(n,r){for(var a=0,c=r.coordinates;a<c.length;a++){var f=c[a];if(!mo(f,n,{ignoreBoundary:!0}))return!1}return!0}function Su(n,r){for(var a=!1,c=0,f=r.coordinates;c<f.length;c++){var g=f[c];if(Sn({type:"Point",coordinates:g},n,{ignoreEndVertices:!0})&&(a=!0),!Sn({type:"Point",coordinates:g},n,{ignoreEndVertices:!1}))return!1}return a}function jr(n,r){var a=!1,c=0,f=ii(n),g=ii(r);if(!Ui(f,g))return!1;for(c;c<r.coordinates.length-1;c++){var v=Na(r.coordinates[c],r.coordinates[c+1]);if(mo({type:"Point",coordinates:v},n,{ignoreBoundary:!0})){a=!0;break}}return a}function Tu(n,r){if(n.type==="Feature"&&n.geometry===null||r.type==="Feature"&&r.geometry===null)return!1;var a=ii(n),c=ii(r);if(!Ui(a,c))return!1;for(var f=uo(r).coordinates,g=0,v=f;g<v.length;g++)for(var w=v[g],M=0,P=w;M<P.length;M++){var V=P[M];if(!mo(V,n))return!1}return!0}function Ui(n,r){return!(n[0]>r[0]||n[2]<r[2]||n[1]>r[1]||n[3]<r[3])}function vo(n,r){return n[0]===r[0]&&n[1]===r[1]}function Na(n,r){return[(n[0]+r[0])/2,(n[1]+r[1])/2]}var Au=m(wi()),ri=n=>()=>n,bo=n=>{let r=n?(a,c)=>c.minus(a).abs().isLessThanOrEqualTo(n):ri(!1);return(a,c)=>r(a,c)?0:a.comparedTo(c)};function ja(n){let r=n?(a,c,f,g,v)=>a.exponentiatedBy(2).isLessThanOrEqualTo(g.minus(c).exponentiatedBy(2).plus(v.minus(f).exponentiatedBy(2)).times(n)):ri(!1);return(a,c,f)=>{let g=a.x,v=a.y,w=f.x,M=f.y,P=v.minus(M).times(c.x.minus(w)).minus(g.minus(w).times(c.y.minus(M)));return r(P,g,v,w,M)?0:P.comparedTo(0)}}var zr=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ks=Math.ceil,wn=Math.floor,cn="[BigNumber Error] ",Ms=cn+"Number primitive has more than 15 significant digits: ",$n=1e14,fe=14,xo=9007199254740991,Lo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],yi=1e7,sn=1e9;function Es(n){var r,a,c,f=z.prototype={constructor:z,toString:null,valueOf:null},g=new z(1),v=20,w=4,M=-7,P=21,V=-1e7,N=1e7,rt=!1,ht=1,Mt=0,Gt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Kt="0123456789abcdefghijklmnopqrstuvwxyz",Se=!0;function z(E,S){var O,A,D,R,K,q,W,it,nt=this;if(!(nt instanceof z))return new z(E,S);if(S==null){if(E&&E._isBigNumber===!0){nt.s=E.s,!E.c||E.e>N?nt.c=nt.e=null:E.e<V?nt.c=[nt.e=0]:(nt.e=E.e,nt.c=E.c.slice());return}if((q=typeof E=="number")&&E*0==0){if(nt.s=1/E<0?(E=-E,-1):1,E===~~E){for(R=0,K=E;K>=10;K/=10,R++);R>N?nt.c=nt.e=null:(nt.e=R,nt.c=[E]);return}it=String(E)}else{if(!zr.test(it=String(E)))return c(nt,it,q);nt.s=it.charCodeAt(0)==45?(it=it.slice(1),-1):1}(R=it.indexOf("."))>-1&&(it=it.replace(".","")),(K=it.search(/e/i))>0?(R<0&&(R=K),R+=+it.slice(K+1),it=it.substring(0,K)):R<0&&(R=it.length)}else{if(qe(S,2,Kt.length,"Base"),S==10&&Se)return nt=new z(E),tt(nt,v+nt.e+1,w);if(it=String(E),q=typeof E=="number"){if(E*0!=0)return c(nt,it,q,S);if(nt.s=1/E<0?(it=it.slice(1),-1):1,z.DEBUG&&it.replace(/^0\.0*|\./,"").length>15)throw Error(Ms+E)}else nt.s=it.charCodeAt(0)===45?(it=it.slice(1),-1):1;for(O=Kt.slice(0,S),R=K=0,W=it.length;K<W;K++)if(O.indexOf(A=it.charAt(K))<0){if(A=="."){if(K>R){R=W;continue}}else if(!D&&(it==it.toUpperCase()&&(it=it.toLowerCase())||it==it.toLowerCase()&&(it=it.toUpperCase()))){D=!0,K=-1,R=0;continue}return c(nt,String(E),q,S)}q=!1,it=a(it,S,10,nt.s),(R=it.indexOf("."))>-1?it=it.replace(".",""):R=it.length}for(K=0;it.charCodeAt(K)===48;K++);for(W=it.length;it.charCodeAt(--W)===48;);if(it=it.slice(K,++W)){if(W-=K,q&&z.DEBUG&&W>15&&(E>xo||E!==wn(E)))throw Error(Ms+nt.s*E);if((R=R-K-1)>N)nt.c=nt.e=null;else if(R<V)nt.c=[nt.e=0];else{if(nt.e=R,nt.c=[],K=(R+1)%fe,R<0&&(K+=fe),K<W){for(K&&nt.c.push(+it.slice(0,K)),W-=fe;K<W;)nt.c.push(+it.slice(K,K+=fe));K=fe-(it=it.slice(K)).length}else K-=W;for(;K--;it+="0");nt.c.push(+it)}}else nt.c=[nt.e=0]}z.clone=Es,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(E){var S,O;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(S="DECIMAL_PLACES")&&(O=E[S],qe(O,0,sn,S),v=O),E.hasOwnProperty(S="ROUNDING_MODE")&&(O=E[S],qe(O,0,8,S),w=O),E.hasOwnProperty(S="EXPONENTIAL_AT")&&(O=E[S],O&&O.pop?(qe(O[0],-sn,0,S),qe(O[1],0,sn,S),M=O[0],P=O[1]):(qe(O,-sn,sn,S),M=-(P=O<0?-O:O))),E.hasOwnProperty(S="RANGE"))if(O=E[S],O&&O.pop)qe(O[0],-sn,-1,S),qe(O[1],1,sn,S),V=O[0],N=O[1];else if(qe(O,-sn,sn,S),O)V=-(N=O<0?-O:O);else throw Error(cn+S+" cannot be zero: "+O);if(E.hasOwnProperty(S="CRYPTO"))if(O=E[S],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))rt=O;else throw rt=!O,Error(cn+"crypto unavailable");else rt=O;else throw Error(cn+S+" not true or false: "+O);if(E.hasOwnProperty(S="MODULO_MODE")&&(O=E[S],qe(O,0,9,S),ht=O),E.hasOwnProperty(S="POW_PRECISION")&&(O=E[S],qe(O,0,sn,S),Mt=O),E.hasOwnProperty(S="FORMAT"))if(O=E[S],typeof O=="object")Gt=O;else throw Error(cn+S+" not an object: "+O);if(E.hasOwnProperty(S="ALPHABET"))if(O=E[S],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))Se=O.slice(0,10)=="0123456789",Kt=O;else throw Error(cn+S+" invalid: "+O)}else throw Error(cn+"Object expected: "+E);return{DECIMAL_PLACES:v,ROUNDING_MODE:w,EXPONENTIAL_AT:[M,P],RANGE:[V,N],CRYPTO:rt,MODULO_MODE:ht,POW_PRECISION:Mt,FORMAT:Gt,ALPHABET:Kt}},z.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!z.DEBUG)return!0;var S,O,A=E.c,D=E.e,R=E.s;t:if({}.toString.call(A)=="[object Array]"){if((R===1||R===-1)&&D>=-sn&&D<=sn&&D===wn(D)){if(A[0]===0){if(D===0&&A.length===1)return!0;break t}if(S=(D+1)%fe,S<1&&(S+=fe),String(A[0]).length==S){for(S=0;S<A.length;S++)if(O=A[S],O<0||O>=$n||O!==wn(O))break t;if(O!==0)return!0}}}else if(A===null&&D===null&&(R===null||R===1||R===-1))return!0;throw Error(cn+"Invalid BigNumber: "+E)},z.maximum=z.max=function(){return J(arguments,-1)},z.minimum=z.min=function(){return J(arguments,1)},z.random=function(){var E=9007199254740992,S=Math.random()*E&2097151?function(){return wn(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var A,D,R,K,q,W=0,it=[],nt=new z(g);if(O==null?O=v:qe(O,0,sn),K=ks(O/fe),rt)if(crypto.getRandomValues){for(A=crypto.getRandomValues(new Uint32Array(K*=2));W<K;)q=A[W]*131072+(A[W+1]>>>11),q>=9e15?(D=crypto.getRandomValues(new Uint32Array(2)),A[W]=D[0],A[W+1]=D[1]):(it.push(q%1e14),W+=2);W=K/2}else if(crypto.randomBytes){for(A=crypto.randomBytes(K*=7);W<K;)q=(A[W]&31)*281474976710656+A[W+1]*1099511627776+A[W+2]*4294967296+A[W+3]*16777216+(A[W+4]<<16)+(A[W+5]<<8)+A[W+6],q>=9e15?crypto.randomBytes(7).copy(A,W):(it.push(q%1e14),W+=7);W=K/7}else throw rt=!1,Error(cn+"crypto unavailable");if(!rt)for(;W<K;)q=S(),q<9e15&&(it[W++]=q%1e14);for(K=it[--W],O%=fe,K&&O&&(q=Lo[fe-O],it[W]=wn(K/q)*q);it[W]===0;it.pop(),W--);if(W<0)it=[R=0];else{for(R=-1;it[0]===0;it.splice(0,1),R-=fe);for(W=1,q=it[0];q>=10;q/=10,W++);W<fe&&(R-=fe-W)}return nt.e=R,nt.c=it,nt}}(),z.sum=function(){for(var E=1,S=arguments,O=new z(S[0]);E<S.length;)O=O.plus(S[E++]);return O},a=function(){var E="0123456789";function S(O,A,D,R){for(var K,q=[0],W,it=0,nt=O.length;it<nt;){for(W=q.length;W--;q[W]*=A);for(q[0]+=R.indexOf(O.charAt(it++)),K=0;K<q.length;K++)q[K]>D-1&&(q[K+1]==null&&(q[K+1]=0),q[K+1]+=q[K]/D|0,q[K]%=D)}return q.reverse()}return function(O,A,D,R,K){var q,W,it,nt,Ct,qt,Yt,re,je=O.indexOf("."),$e=v,Oe=w;for(je>=0&&(nt=Mt,Mt=0,O=O.replace(".",""),re=new z(A),qt=re.pow(O.length-je),Mt=nt,re.c=S(d(In(qt.c),qt.e,"0"),10,D,E),re.e=re.c.length),Yt=S(O,A,D,K?(q=Kt,E):(q=E,Kt)),it=nt=Yt.length;Yt[--nt]==0;Yt.pop());if(!Yt[0])return q.charAt(0);if(je<0?--it:(qt.c=Yt,qt.e=it,qt.s=R,qt=r(qt,re,$e,Oe,D),Yt=qt.c,Ct=qt.r,it=qt.e),W=it+$e+1,je=Yt[W],nt=D/2,Ct=Ct||W<0||Yt[W+1]!=null,Ct=Oe<4?(je!=null||Ct)&&(Oe==0||Oe==(qt.s<0?3:2)):je>nt||je==nt&&(Oe==4||Ct||Oe==6&&Yt[W-1]&1||Oe==(qt.s<0?8:7)),W<1||!Yt[0])O=Ct?d(q.charAt(1),-$e,q.charAt(0)):q.charAt(0);else{if(Yt.length=W,Ct)for(--D;++Yt[--W]>D;)Yt[W]=0,W||(++it,Yt=[1].concat(Yt));for(nt=Yt.length;!Yt[--nt];);for(je=0,O="";je<=nt;O+=q.charAt(Yt[je++]));O=d(O,it,q.charAt(0))}return O}}(),r=function(){function E(A,D,R){var K,q,W,it,nt=0,Ct=A.length,qt=D%yi,Yt=D/yi|0;for(A=A.slice();Ct--;)W=A[Ct]%yi,it=A[Ct]/yi|0,K=Yt*W+it*qt,q=qt*W+K%yi*yi+nt,nt=(q/R|0)+(K/yi|0)+Yt*it,A[Ct]=q%R;return nt&&(A=[nt].concat(A)),A}function S(A,D,R,K){var q,W;if(R!=K)W=R>K?1:-1;else for(q=W=0;q<R;q++)if(A[q]!=D[q]){W=A[q]>D[q]?1:-1;break}return W}function O(A,D,R,K){for(var q=0;R--;)A[R]-=q,q=A[R]<D[R]?1:0,A[R]=q*K+A[R]-D[R];for(;!A[0]&&A.length>1;A.splice(0,1));}return function(A,D,R,K,q){var W,it,nt,Ct,qt,Yt,re,je,$e,Oe,He,Tn,Ka,Iu,Fu,Si,Ss,si=A.s==D.s?1:-1,Fn=A.c,on=D.c;if(!Fn||!Fn[0]||!on||!on[0])return new z(!A.s||!D.s||(Fn?on&&Fn[0]==on[0]:!on)?NaN:Fn&&Fn[0]==0||!on?si*0:si/0);for(je=new z(si),$e=je.c=[],it=A.e-D.e,si=R+it+1,q||(q=$n,it=Hn(A.e/fe)-Hn(D.e/fe),si=si/fe|0),nt=0;on[nt]==(Fn[nt]||0);nt++);if(on[nt]>(Fn[nt]||0)&&it--,si<0)$e.push(1),Ct=!0;else{for(Iu=Fn.length,Si=on.length,nt=0,si+=2,qt=wn(q/(on[0]+1)),qt>1&&(on=E(on,qt,q),Fn=E(Fn,qt,q),Si=on.length,Iu=Fn.length),Ka=Si,Oe=Fn.slice(0,Si),He=Oe.length;He<Si;Oe[He++]=0);Ss=on.slice(),Ss=[0].concat(Ss),Fu=on[0],on[1]>=q/2&&Fu++;do{if(qt=0,W=S(on,Oe,Si,He),W<0){if(Tn=Oe[0],Si!=He&&(Tn=Tn*q+(Oe[1]||0)),qt=wn(Tn/Fu),qt>1)for(qt>=q&&(qt=q-1),Yt=E(on,qt,q),re=Yt.length,He=Oe.length;S(Yt,Oe,re,He)==1;)qt--,O(Yt,Si<re?Ss:on,re,q),re=Yt.length,W=1;else qt==0&&(W=qt=1),Yt=on.slice(),re=Yt.length;if(re<He&&(Yt=[0].concat(Yt)),O(Oe,Yt,He,q),He=Oe.length,W==-1)for(;S(on,Oe,Si,He)<1;)qt++,O(Oe,Si<He?Ss:on,He,q),He=Oe.length}else W===0&&(qt++,Oe=[0]);$e[nt++]=qt,Oe[0]?Oe[He++]=Fn[Ka]||0:(Oe=[Fn[Ka]],He=1)}while((Ka++<Iu||Oe[0]!=null)&&si--);Ct=Oe[0]!=null,$e[0]||$e.splice(0,1)}if(q==$n){for(nt=1,si=$e[0];si>=10;si/=10,nt++);tt(je,R+(je.e=nt+it*fe-1)+1,K,Ct)}else je.e=it,je.r=+Ct;return je}}();function Z(E,S,O,A){var D,R,K,q,W;if(O==null?O=w:qe(O,0,8),!E.c)return E.toString();if(D=E.c[0],K=E.e,S==null)W=In(E.c),W=A==1||A==2&&(K<=M||K>=P)?o(W,K):d(W,K,"0");else if(E=tt(new z(E),S,O),R=E.e,W=In(E.c),q=W.length,A==1||A==2&&(S<=R||R<=M)){for(;q<S;W+="0",q++);W=o(W,R)}else if(S-=K,W=d(W,R,"0"),R+1>q){if(--S>0)for(W+=".";S--;W+="0");}else if(S+=R-q,S>0)for(R+1==q&&(W+=".");S--;W+="0");return E.s<0&&D?"-"+W:W}function J(E,S){for(var O,A,D=1,R=new z(E[0]);D<E.length;D++)A=new z(E[D]),(!A.s||(O=Pi(R,A))===S||O===0&&R.s===S)&&(R=A);return R}function ct(E,S,O){for(var A=1,D=S.length;!S[--D];S.pop());for(D=S[0];D>=10;D/=10,A++);return(O=A+O*fe-1)>N?E.c=E.e=null:O<V?E.c=[E.e=0]:(E.e=O,E.c=S),E}c=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,O=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(R,K,q,W){var it,nt=q?K:K.replace(D,"");if(A.test(nt))R.s=isNaN(nt)?null:nt<0?-1:1;else{if(!q&&(nt=nt.replace(E,function(Ct,qt,Yt){return it=(Yt=Yt.toLowerCase())=="x"?16:Yt=="b"?2:8,!W||W==it?qt:Ct}),W&&(it=W,nt=nt.replace(S,"$1").replace(O,"0.$1")),K!=nt))return new z(nt,it);if(z.DEBUG)throw Error(cn+"Not a"+(W?" base "+W:"")+" number: "+K);R.s=null}R.c=R.e=null}}();function tt(E,S,O,A){var D,R,K,q,W,it,nt,Ct=E.c,qt=Lo;if(Ct){t:{for(D=1,q=Ct[0];q>=10;q/=10,D++);if(R=S-D,R<0)R+=fe,K=S,W=Ct[it=0],nt=wn(W/qt[D-K-1]%10);else if(it=ks((R+1)/fe),it>=Ct.length)if(A){for(;Ct.length<=it;Ct.push(0));W=nt=0,D=1,R%=fe,K=R-fe+1}else break t;else{for(W=q=Ct[it],D=1;q>=10;q/=10,D++);R%=fe,K=R-fe+D,nt=K<0?0:wn(W/qt[D-K-1]%10)}if(A=A||S<0||Ct[it+1]!=null||(K<0?W:W%qt[D-K-1]),A=O<4?(nt||A)&&(O==0||O==(E.s<0?3:2)):nt>5||nt==5&&(O==4||A||O==6&&(R>0?K>0?W/qt[D-K]:0:Ct[it-1])%10&1||O==(E.s<0?8:7)),S<1||!Ct[0])return Ct.length=0,A?(S-=E.e+1,Ct[0]=qt[(fe-S%fe)%fe],E.e=-S||0):Ct[0]=E.e=0,E;if(R==0?(Ct.length=it,q=1,it--):(Ct.length=it+1,q=qt[fe-R],Ct[it]=K>0?wn(W/qt[D-K]%qt[K])*q:0),A)for(;;)if(it==0){for(R=1,K=Ct[0];K>=10;K/=10,R++);for(K=Ct[0]+=q,q=1;K>=10;K/=10,q++);R!=q&&(E.e++,Ct[0]==$n&&(Ct[0]=1));break}else{if(Ct[it]+=q,Ct[it]!=$n)break;Ct[it--]=0,q=1}for(R=Ct.length;Ct[--R]===0;Ct.pop());}E.e>N?E.c=E.e=null:E.e<V&&(E.c=[E.e=0])}return E}function at(E){var S,O=E.e;return O===null?E.toString():(S=In(E.c),S=O<=M||O>=P?o(S,O):d(S,O,"0"),E.s<0?"-"+S:S)}return f.absoluteValue=f.abs=function(){var E=new z(this);return E.s<0&&(E.s=1),E},f.comparedTo=function(E,S){return Pi(this,new z(E,S))},f.decimalPlaces=f.dp=function(E,S){var O,A,D,R=this;if(E!=null)return qe(E,0,sn),S==null?S=w:qe(S,0,8),tt(new z(R),E+R.e+1,S);if(!(O=R.c))return null;if(A=((D=O.length-1)-Hn(this.e/fe))*fe,D=O[D])for(;D%10==0;D/=10,A--);return A<0&&(A=0),A},f.dividedBy=f.div=function(E,S){return r(this,new z(E,S),v,w)},f.dividedToIntegerBy=f.idiv=function(E,S){return r(this,new z(E,S),0,1)},f.exponentiatedBy=f.pow=function(E,S){var O,A,D,R,K,q,W,it,nt,Ct=this;if(E=new z(E),E.c&&!E.isInteger())throw Error(cn+"Exponent not an integer: "+at(E));if(S!=null&&(S=new z(S)),q=E.e>14,!Ct.c||!Ct.c[0]||Ct.c[0]==1&&!Ct.e&&Ct.c.length==1||!E.c||!E.c[0])return nt=new z(Math.pow(+at(Ct),q?E.s*(2-e(E)):+at(E))),S?nt.mod(S):nt;if(W=E.s<0,S){if(S.c?!S.c[0]:!S.s)return new z(NaN);A=!W&&Ct.isInteger()&&S.isInteger(),A&&(Ct=Ct.mod(S))}else{if(E.e>9&&(Ct.e>0||Ct.e<-1||(Ct.e==0?Ct.c[0]>1||q&&Ct.c[1]>=24e7:Ct.c[0]<8e13||q&&Ct.c[0]<=9999975e7)))return R=Ct.s<0&&e(E)?-0:0,Ct.e>-1&&(R=1/R),new z(W?1/R:R);Mt&&(R=ks(Mt/fe+2))}for(q?(O=new z(.5),W&&(E.s=1),it=e(E)):(D=Math.abs(+at(E)),it=D%2),nt=new z(g);;){if(it){if(nt=nt.times(Ct),!nt.c)break;R?nt.c.length>R&&(nt.c.length=R):A&&(nt=nt.mod(S))}if(D){if(D=wn(D/2),D===0)break;it=D%2}else if(E=E.times(O),tt(E,E.e+1,1),E.e>14)it=e(E);else{if(D=+at(E),D===0)break;it=D%2}Ct=Ct.times(Ct),R?Ct.c&&Ct.c.length>R&&(Ct.c.length=R):A&&(Ct=Ct.mod(S))}return A?nt:(W&&(nt=g.div(nt)),S?nt.mod(S):R?tt(nt,Mt,w,K):nt)},f.integerValue=function(E){var S=new z(this);return E==null?E=w:qe(E,0,8),tt(S,S.e+1,E)},f.isEqualTo=f.eq=function(E,S){return Pi(this,new z(E,S))===0},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(E,S){return Pi(this,new z(E,S))>0},f.isGreaterThanOrEqualTo=f.gte=function(E,S){return(S=Pi(this,new z(E,S)))===1||S===0},f.isInteger=function(){return!!this.c&&Hn(this.e/fe)>this.c.length-2},f.isLessThan=f.lt=function(E,S){return Pi(this,new z(E,S))<0},f.isLessThanOrEqualTo=f.lte=function(E,S){return(S=Pi(this,new z(E,S)))===-1||S===0},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&this.c[0]==0},f.minus=function(E,S){var O,A,D,R,K=this,q=K.s;if(E=new z(E,S),S=E.s,!q||!S)return new z(NaN);if(q!=S)return E.s=-S,K.plus(E);var W=K.e/fe,it=E.e/fe,nt=K.c,Ct=E.c;if(!W||!it){if(!nt||!Ct)return nt?(E.s=-S,E):new z(Ct?K:NaN);if(!nt[0]||!Ct[0])return Ct[0]?(E.s=-S,E):new z(nt[0]?K:w==3?-0:0)}if(W=Hn(W),it=Hn(it),nt=nt.slice(),q=W-it){for((R=q<0)?(q=-q,D=nt):(it=W,D=Ct),D.reverse(),S=q;S--;D.push(0));D.reverse()}else for(A=(R=(q=nt.length)<(S=Ct.length))?q:S,q=S=0;S<A;S++)if(nt[S]!=Ct[S]){R=nt[S]<Ct[S];break}if(R&&(D=nt,nt=Ct,Ct=D,E.s=-E.s),S=(A=Ct.length)-(O=nt.length),S>0)for(;S--;nt[O++]=0);for(S=$n-1;A>q;){if(nt[--A]<Ct[A]){for(O=A;O&&!nt[--O];nt[O]=S);--nt[O],nt[A]+=$n}nt[A]-=Ct[A]}for(;nt[0]==0;nt.splice(0,1),--it);return nt[0]?ct(E,nt,it):(E.s=w==3?-1:1,E.c=[E.e=0],E)},f.modulo=f.mod=function(E,S){var O,A,D=this;return E=new z(E,S),!D.c||!E.s||E.c&&!E.c[0]?new z(NaN):!E.c||D.c&&!D.c[0]?new z(D):(ht==9?(A=E.s,E.s=1,O=r(D,E,0,3),E.s=A,O.s*=A):O=r(D,E,0,ht),E=D.minus(O.times(E)),!E.c[0]&&ht==1&&(E.s=D.s),E)},f.multipliedBy=f.times=function(E,S){var O,A,D,R,K,q,W,it,nt,Ct,qt,Yt,re,je,$e,Oe=this,He=Oe.c,Tn=(E=new z(E,S)).c;if(!He||!Tn||!He[0]||!Tn[0])return!Oe.s||!E.s||He&&!He[0]&&!Tn||Tn&&!Tn[0]&&!He?E.c=E.e=E.s=null:(E.s*=Oe.s,!He||!Tn?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(A=Hn(Oe.e/fe)+Hn(E.e/fe),E.s*=Oe.s,W=He.length,Ct=Tn.length,W<Ct&&(re=He,He=Tn,Tn=re,D=W,W=Ct,Ct=D),D=W+Ct,re=[];D--;re.push(0));for(je=$n,$e=yi,D=Ct;--D>=0;){for(O=0,qt=Tn[D]%$e,Yt=Tn[D]/$e|0,K=W,R=D+K;R>D;)it=He[--K]%$e,nt=He[K]/$e|0,q=Yt*it+nt*qt,it=qt*it+q%$e*$e+re[R]+O,O=(it/je|0)+(q/$e|0)+Yt*nt,re[R--]=it%je;re[R]=O}return O?++A:re.splice(0,1),ct(E,re,A)},f.negated=function(){var E=new z(this);return E.s=-E.s||null,E},f.plus=function(E,S){var O,A=this,D=A.s;if(E=new z(E,S),S=E.s,!D||!S)return new z(NaN);if(D!=S)return E.s=-S,A.minus(E);var R=A.e/fe,K=E.e/fe,q=A.c,W=E.c;if(!R||!K){if(!q||!W)return new z(D/0);if(!q[0]||!W[0])return W[0]?E:new z(q[0]?A:D*0)}if(R=Hn(R),K=Hn(K),q=q.slice(),D=R-K){for(D>0?(K=R,O=W):(D=-D,O=q),O.reverse();D--;O.push(0));O.reverse()}for(D=q.length,S=W.length,D-S<0&&(O=W,W=q,q=O,S=D),D=0;S;)D=(q[--S]=q[S]+W[S]+D)/$n|0,q[S]=$n===q[S]?0:q[S]%$n;return D&&(q=[D].concat(q),++K),ct(E,q,K)},f.precision=f.sd=function(E,S){var O,A,D,R=this;if(E!=null&&E!==!!E)return qe(E,1,sn),S==null?S=w:qe(S,0,8),tt(new z(R),E,S);if(!(O=R.c))return null;if(D=O.length-1,A=D*fe+1,D=O[D]){for(;D%10==0;D/=10,A--);for(D=O[0];D>=10;D/=10,A++);}return E&&R.e+1>A&&(A=R.e+1),A},f.shiftedBy=function(E){return qe(E,-xo,xo),this.times("1e"+E)},f.squareRoot=f.sqrt=function(){var E,S,O,A,D,R=this,K=R.c,q=R.s,W=R.e,it=v+4,nt=new z("0.5");if(q!==1||!K||!K[0])return new z(!q||q<0&&(!K||K[0])?NaN:K?R:1/0);if(q=Math.sqrt(+at(R)),q==0||q==1/0?(S=In(K),(S.length+W)%2==0&&(S+="0"),q=Math.sqrt(+S),W=Hn((W+1)/2)-(W<0||W%2),q==1/0?S="5e"+W:(S=q.toExponential(),S=S.slice(0,S.indexOf("e")+1)+W),O=new z(S)):O=new z(q+""),O.c[0]){for(W=O.e,q=W+it,q<3&&(q=0);;)if(D=O,O=nt.times(D.plus(r(R,D,it,1))),In(D.c).slice(0,q)===(S=In(O.c)).slice(0,q))if(O.e<W&&--q,S=S.slice(q-3,q+1),S=="9999"||!A&&S=="4999"){if(!A&&(tt(D,D.e+v+2,0),D.times(D).eq(R))){O=D;break}it+=4,q+=4,A=1}else{(!+S||!+S.slice(1)&&S.charAt(0)=="5")&&(tt(O,O.e+v+2,1),E=!O.times(O).eq(R));break}}return tt(O,O.e+v+1,w,E)},f.toExponential=function(E,S){return E!=null&&(qe(E,0,sn),E++),Z(this,E,S,1)},f.toFixed=function(E,S){return E!=null&&(qe(E,0,sn),E=E+this.e+1),Z(this,E,S)},f.toFormat=function(E,S,O){var A,D=this;if(O==null)E!=null&&S&&typeof S=="object"?(O=S,S=null):E&&typeof E=="object"?(O=E,E=S=null):O=Gt;else if(typeof O!="object")throw Error(cn+"Argument not an object: "+O);if(A=D.toFixed(E,S),D.c){var R,K=A.split("."),q=+O.groupSize,W=+O.secondaryGroupSize,it=O.groupSeparator||"",nt=K[0],Ct=K[1],qt=D.s<0,Yt=qt?nt.slice(1):nt,re=Yt.length;if(W&&(R=q,q=W,W=R,re-=R),q>0&&re>0){for(R=re%q||q,nt=Yt.substr(0,R);R<re;R+=q)nt+=it+Yt.substr(R,q);W>0&&(nt+=it+Yt.slice(R)),qt&&(nt="-"+nt)}A=Ct?nt+(O.decimalSeparator||"")+((W=+O.fractionGroupSize)?Ct.replace(new RegExp("\\d{"+W+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):Ct):nt}return(O.prefix||"")+A+(O.suffix||"")},f.toFraction=function(E){var S,O,A,D,R,K,q,W,it,nt,Ct,qt,Yt=this,re=Yt.c;if(E!=null&&(q=new z(E),!q.isInteger()&&(q.c||q.s!==1)||q.lt(g)))throw Error(cn+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+at(q));if(!re)return new z(Yt);for(S=new z(g),it=O=new z(g),A=W=new z(g),qt=In(re),R=S.e=qt.length-Yt.e-1,S.c[0]=Lo[(K=R%fe)<0?fe+K:K],E=!E||q.comparedTo(S)>0?R>0?S:it:q,K=N,N=1/0,q=new z(qt),W.c[0]=0;nt=r(q,S,0,1),D=O.plus(nt.times(A)),D.comparedTo(E)!=1;)O=A,A=D,it=W.plus(nt.times(D=it)),W=D,S=q.minus(nt.times(D=S)),q=D;return D=r(E.minus(O),A,0,1),W=W.plus(D.times(it)),O=O.plus(D.times(A)),W.s=it.s=Yt.s,R=R*2,Ct=r(it,A,R,w).minus(Yt).abs().comparedTo(r(W,O,R,w).minus(Yt).abs())<1?[it,A]:[W,O],N=K,Ct},f.toNumber=function(){return+at(this)},f.toPrecision=function(E,S){return E!=null&&qe(E,1,sn),Z(this,E,S,2)},f.toString=function(E){var S,O=this,A=O.s,D=O.e;return D===null?A?(S="Infinity",A<0&&(S="-"+S)):S="NaN":(E==null?S=D<=M||D>=P?o(In(O.c),D):d(In(O.c),D,"0"):E===10&&Se?(O=tt(new z(O),v+D+1,w),S=d(In(O.c),O.e,"0")):(qe(E,2,Kt.length,"Base"),S=a(d(In(O.c),D,"0"),10,E,A,!0)),A<0&&O.c[0]&&(S="-"+S)),S},f.valueOf=f.toJSON=function(){return at(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,n!=null&&z.set(n),z}function Hn(n){var r=n|0;return n>0||n===r?r:r-1}function In(n){for(var r,a,c=1,f=n.length,g=n[0]+"";c<f;){for(r=n[c++]+"",a=fe-r.length;a--;r="0"+r);g+=r}for(f=g.length;g.charCodeAt(--f)===48;);return g.slice(0,f+1||1)}function Pi(n,r){var a,c,f=n.c,g=r.c,v=n.s,w=r.s,M=n.e,P=r.e;if(!v||!w)return null;if(a=f&&!f[0],c=g&&!g[0],a||c)return a?c?0:-w:v;if(v!=w)return v;if(a=v<0,c=M==P,!f||!g)return c?0:!f^a?1:-1;if(!c)return M>P^a?1:-1;for(w=(M=f.length)<(P=g.length)?M:P,v=0;v<w;v++)if(f[v]!=g[v])return f[v]>g[v]^a?1:-1;return M==P?0:M>P^a?1:-1}function qe(n,r,a,c){if(n<r||n>a||n!==wn(n))throw Error(cn+(c||"Argument")+(typeof n=="number"?n<r||n>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function e(n){var r=n.c.length-1;return Hn(n.e/fe)==r&&n.c[r]%2!=0}function o(n,r){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(r<0?"e":"e+")+r}function d(n,r,a){var c,f;if(r<0){for(f=a+".";++r;f+=a);n=f+n}else if(c=n.length,++r>c){for(f=a,r-=c;--r;f+=a);n+=f}else r<c&&(n=n.slice(0,r)+"."+n.slice(r));return n}var y=Es(),C=y,B=class{constructor(n){ne(this,"key");ne(this,"left",null);ne(this,"right",null);this.key=n}},H=class extends B{constructor(n){super(n)}},ot=class{constructor(){ne(this,"size",0);ne(this,"modificationCount",0);ne(this,"splayCount",0)}splay(n){let r=this.root;if(r==null)return this.compare(n,n),-1;let a=null,c=null,f=null,g=null,v=r,w=this.compare,M;for(;;)if(M=w(v.key,n),M>0){let P=v.left;if(P==null||(M=w(P.key,n),M>0&&(v.left=P.right,P.right=v,v=P,P=v.left,P==null)))break;a==null?c=v:a.left=v,a=v,v=P}else if(M<0){let P=v.right;if(P==null||(M=w(P.key,n),M<0&&(v.right=P.left,P.left=v,v=P,P=v.right,P==null)))break;f==null?g=v:f.right=v,f=v,v=P}else break;return f!=null&&(f.right=v.left,v.left=g),a!=null&&(a.left=v.right,v.right=c),this.root!==v&&(this.root=v,this.splayCount++),M}splayMin(n){let r=n,a=r.left;for(;a!=null;){let c=a;r.left=c.right,c.right=r,r=c,a=r.left}return r}splayMax(n){let r=n,a=r.right;for(;a!=null;){let c=a;r.right=c.left,c.left=r,r=c,a=r.right}return r}_delete(n){if(this.root==null||this.splay(n)!=0)return null;let r=this.root,a=r,c=r.left;if(this.size--,c==null)this.root=r.right;else{let f=r.right;r=this.splayMax(c),r.right=f,this.root=r}return this.modificationCount++,a}addNewRoot(n,r){this.size++,this.modificationCount++;let a=this.root;if(a==null){this.root=n;return}r<0?(n.left=a,n.right=a.right,a.right=null):(n.right=a,n.left=a.left,a.left=null),this.root=n}_first(){let n=this.root;return n==null?null:(this.root=this.splayMin(n),this.root)}_last(){let n=this.root;return n==null?null:(this.root=this.splayMax(n),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(n){return this.validKey(n)&&this.splay(n)==0}defaultCompare(){return(n,r)=>n<r?-1:n>r?1:0}wrap(){return{getRoot:()=>this.root,setRoot:n=>{this.root=n},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:n=>{this.splayCount=n},splay:n=>this.splay(n),has:n=>this.has(n)}}},dt=class Is extends ot{constructor(a,c){super();ne(this,"root",null);ne(this,"compare");ne(this,"validKey");ne(this,fh,"[object Set]");this.compare=a??this.defaultCompare(),this.validKey=c??(f=>f!=null&&f!=null)}delete(a){return this.validKey(a)?this._delete(a)!=null:!1}deleteAll(a){for(let c of a)this.delete(c)}forEach(a){let c=this[Symbol.iterator](),f;for(;f=c.next(),!f.done;)a(f.value,f.value,this)}add(a){let c=this.splay(a);return c!=0&&this.addNewRoot(new H(a),c),this}addAndReturn(a){let c=this.splay(a);return c!=0&&this.addNewRoot(new H(a),c),this.root.key}addAll(a){for(let c of a)this.add(c)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(a){if(a==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(a)<0)return this.root.key;let c=this.root.left;if(c==null)return null;let f=c.right;for(;f!=null;)c=f,f=c.right;return c.key}firstAfter(a){if(a==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(a)>0)return this.root.key;let c=this.root.right;if(c==null)return null;let f=c.left;for(;f!=null;)c=f,f=c.left;return c.key}retainAll(a){let c=new Is(this.compare,this.validKey),f=this.modificationCount;for(let g of a){if(f!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&c.add(this.root.key)}c.size!=this.size&&(this.root=c.root,this.size=c.size,this.modificationCount++)}lookup(a){return!this.validKey(a)||this.splay(a)!=0?null:this.root.key}intersection(a){let c=new Is(this.compare,this.validKey);for(let f of this)a.has(f)&&c.add(f);return c}difference(a){let c=new Is(this.compare,this.validKey);for(let f of this)a.has(f)||c.add(f);return c}union(a){let c=this.clone();return c.addAll(a),c}clone(){let a=new Is(this.compare,this.validKey);return a.size=this.size,a.root=this.copyNode(this.root),a}copyNode(a){if(a==null)return null;function c(g,v){let w,M;do{if(w=g.left,M=g.right,w!=null){let P=new H(w.key);v.left=P,c(w,P)}if(M!=null){let P=new H(M.key);v.right=P,g=M,v=P}}while(M!=null)}let f=new H(a.key);return c(a,f),f}toSet(){return this.clone()}entries(){return new le(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(_h=Symbol.iterator,fh=Symbol.toStringTag,_h)](){return new Ht(this.wrap())}},wt=class{constructor(n){ne(this,"tree");ne(this,"path",new Array);ne(this,"modificationCount",null);ne(this,"splayCount");this.tree=n,this.splayCount=n.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let n=this.path[this.path.length-1];return this.getValue(n)}rebuildPath(n){this.path.splice(0,this.path.length),this.tree.splay(n),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(n){for(;n!=null;)this.path.push(n),n=n.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let a=this.tree.getRoot();for(;a!=null;)this.path.push(a),a=a.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let n=this.path[this.path.length-1],r=n.right;if(r!=null){for(;r!=null;)this.path.push(r),r=r.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===n;)n=this.path.pop();return this.path.length>0}},Ht=class extends wt{getValue(n){return n.key}},le=class extends wt{getValue(n){return[n.key,n.key]}},xe=n=>n,kn=n=>{if(n){let r=new dt(bo(n)),a=new dt(bo(n)),c=(g,v)=>v.addAndReturn(g),f=g=>({x:c(g.x,r),y:c(g.y,a)});return f({x:new C(0),y:new C(0)}),f}return xe},nn=n=>({set:r=>{rn=nn(r)},reset:()=>nn(n),compare:bo(n),snap:kn(n),orient:ja(n)}),rn=nn(),hn=(n,r)=>n.ll.x.isLessThanOrEqualTo(r.x)&&r.x.isLessThanOrEqualTo(n.ur.x)&&n.ll.y.isLessThanOrEqualTo(r.y)&&r.y.isLessThanOrEqualTo(n.ur.y),Bi=(n,r)=>{if(r.ur.x.isLessThan(n.ll.x)||n.ur.x.isLessThan(r.ll.x)||r.ur.y.isLessThan(n.ll.y)||n.ur.y.isLessThan(r.ll.y))return null;let a=n.ll.x.isLessThan(r.ll.x)?r.ll.x:n.ll.x,c=n.ur.x.isLessThan(r.ur.x)?n.ur.x:r.ur.x,f=n.ll.y.isLessThan(r.ll.y)?r.ll.y:n.ll.y,g=n.ur.y.isLessThan(r.ur.y)?n.ur.y:r.ur.y;return{ll:{x:a,y:f},ur:{x:c,y:g}}},Co=(n,r)=>n.x.times(r.y).minus(n.y.times(r.x)),za=(n,r)=>n.x.times(r.x).plus(n.y.times(r.y)),wo=n=>za(n,n).sqrt(),Ga=(n,r,a)=>{let c={x:r.x.minus(n.x),y:r.y.minus(n.y)},f={x:a.x.minus(n.x),y:a.y.minus(n.y)};return Co(f,c).div(wo(f)).div(wo(c))},Ou=(n,r,a)=>{let c={x:r.x.minus(n.x),y:r.y.minus(n.y)},f={x:a.x.minus(n.x),y:a.y.minus(n.y)};return za(f,c).div(wo(f)).div(wo(c))},Ps=(n,r,a)=>r.y.isZero()?null:{x:n.x.plus(r.x.div(r.y).times(a.minus(n.y))),y:a},tn=(n,r,a)=>r.x.isZero()?null:{x:a,y:n.y.plus(r.y.div(r.x).times(a.minus(n.x)))},ko=(n,r,a,c)=>{if(r.x.isZero())return tn(a,c,n.x);if(c.x.isZero())return tn(n,r,a.x);if(r.y.isZero())return Ps(a,c,n.y);if(c.y.isZero())return Ps(n,r,a.y);let f=Co(r,c);if(f.isZero())return null;let g={x:a.x.minus(n.x),y:a.y.minus(n.y)},v=Co(g,r).div(f),w=Co(g,c).div(f),M=n.x.plus(w.times(r.x)),P=a.x.plus(v.times(c.x)),V=n.y.plus(w.times(r.y)),N=a.y.plus(v.times(c.y)),rt=M.plus(P).div(2),ht=V.plus(N).div(2);return{x:rt,y:ht}},oi=class i_{constructor(r,a){ne(this,"point");ne(this,"isLeft");ne(this,"segment");ne(this,"otherSE");ne(this,"consumedBy");r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=a}static compare(r,a){let c=i_.comparePoints(r.point,a.point);return c!==0?c:(r.point!==a.point&&r.link(a),r.isLeft!==a.isLeft?r.isLeft?1:-1:Mo.compare(r.segment,a.segment))}static comparePoints(r,a){return r.x.isLessThan(a.x)?-1:r.x.isGreaterThan(a.x)?1:r.y.isLessThan(a.y)?-1:r.y.isGreaterThan(a.y)?1:0}link(r){if(r.point===this.point)throw new Error("Tried to link already linked events");let a=r.point.events;for(let c=0,f=a.length;c<f;c++){let g=a[c];this.point.events.push(g),g.point=this.point}this.checkForConsuming()}checkForConsuming(){let r=this.point.events.length;for(let a=0;a<r;a++){let c=this.point.events[a];if(c.segment.consumedBy===void 0)for(let f=a+1;f<r;f++){let g=this.point.events[f];g.consumedBy===void 0&&c.otherSE.point.events===g.otherSE.point.events&&c.segment.consume(g.segment)}}}getAvailableLinkedEvents(){let r=[];for(let a=0,c=this.point.events.length;a<c;a++){let f=this.point.events[a];f!==this&&!f.segment.ringOut&&f.segment.isInResult()&&r.push(f)}return r}getLeftmostComparator(r){let a=new Map,c=f=>{let g=f.otherSE;a.set(f,{sine:Ga(this.point,r.point,g.point),cosine:Ou(this.point,r.point,g.point)})};return(f,g)=>{a.has(f)||c(f),a.has(g)||c(g);let{sine:v,cosine:w}=a.get(f),{sine:M,cosine:P}=a.get(g);return v.isGreaterThanOrEqualTo(0)&&M.isGreaterThanOrEqualTo(0)?w.isLessThan(P)?1:w.isGreaterThan(P)?-1:0:v.isLessThan(0)&&M.isLessThan(0)?w.isLessThan(P)?-1:w.isGreaterThan(P)?1:0:M.isLessThan(v)?-1:M.isGreaterThan(v)?1:0}}},Du=0,Mo=class cl{constructor(r,a,c,f){ne(this,"id");ne(this,"leftSE");ne(this,"rightSE");ne(this,"rings");ne(this,"windings");ne(this,"ringOut");ne(this,"consumedBy");ne(this,"prev");ne(this,"_prevInResult");ne(this,"_beforeState");ne(this,"_afterState");ne(this,"_isInResult");this.id=++Du,this.leftSE=r,r.segment=this,r.otherSE=a,this.rightSE=a,a.segment=this,a.otherSE=r,this.rings=c,this.windings=f}static compare(r,a){let c=r.leftSE.point.x,f=a.leftSE.point.x,g=r.rightSE.point.x,v=a.rightSE.point.x;if(v.isLessThan(c))return 1;if(g.isLessThan(f))return-1;let w=r.leftSE.point.y,M=a.leftSE.point.y,P=r.rightSE.point.y,V=a.rightSE.point.y;if(c.isLessThan(f)){if(M.isLessThan(w)&&M.isLessThan(P))return 1;if(M.isGreaterThan(w)&&M.isGreaterThan(P))return-1;let N=r.comparePoint(a.leftSE.point);if(N<0)return 1;if(N>0)return-1;let rt=a.comparePoint(r.rightSE.point);return rt!==0?rt:-1}if(c.isGreaterThan(f)){if(w.isLessThan(M)&&w.isLessThan(V))return-1;if(w.isGreaterThan(M)&&w.isGreaterThan(V))return 1;let N=a.comparePoint(r.leftSE.point);if(N!==0)return N;let rt=r.comparePoint(a.rightSE.point);return rt<0?1:rt>0?-1:1}if(w.isLessThan(M))return-1;if(w.isGreaterThan(M))return 1;if(g.isLessThan(v)){let N=a.comparePoint(r.rightSE.point);if(N!==0)return N}if(g.isGreaterThan(v)){let N=r.comparePoint(a.rightSE.point);if(N<0)return 1;if(N>0)return-1}if(!g.eq(v)){let N=P.minus(w),rt=g.minus(c),ht=V.minus(M),Mt=v.minus(f);if(N.isGreaterThan(rt)&&ht.isLessThan(Mt))return 1;if(N.isLessThan(rt)&&ht.isGreaterThan(Mt))return-1}return g.isGreaterThan(v)?1:g.isLessThan(v)||P.isLessThan(V)?-1:P.isGreaterThan(V)?1:r.id<a.id?-1:r.id>a.id?1:0}static fromRing(r,a,c){let f,g,v,w=oi.comparePoints(r,a);if(w<0)f=r,g=a,v=1;else if(w>0)f=a,g=r,v=-1;else throw new Error(`Tried to create degenerate segment at [${r.x}, ${r.y}]`);let M=new oi(f,!0),P=new oi(g,!1);return new cl(M,P,[c],[v])}replaceRightSE(r){this.rightSE=r,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let r=this.leftSE.point.y,a=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:r.isLessThan(a)?r:a},ur:{x:this.rightSE.point.x,y:r.isGreaterThan(a)?r:a}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(r){return r.x.eq(this.leftSE.point.x)&&r.y.eq(this.leftSE.point.y)||r.x.eq(this.rightSE.point.x)&&r.y.eq(this.rightSE.point.y)}comparePoint(r){return rn.orient(this.leftSE.point,r,this.rightSE.point)}getIntersection(r){let a=this.bbox(),c=r.bbox(),f=Bi(a,c);if(f===null)return null;let g=this.leftSE.point,v=this.rightSE.point,w=r.leftSE.point,M=r.rightSE.point,P=hn(a,w)&&this.comparePoint(w)===0,V=hn(c,g)&&r.comparePoint(g)===0,N=hn(a,M)&&this.comparePoint(M)===0,rt=hn(c,v)&&r.comparePoint(v)===0;if(V&&P)return rt&&!N?v:!rt&&N?M:null;if(V)return N&&g.x.eq(M.x)&&g.y.eq(M.y)?null:g;if(P)return rt&&v.x.eq(w.x)&&v.y.eq(w.y)?null:w;if(rt&&N)return null;if(rt)return v;if(N)return M;let ht=ko(g,this.vector(),w,r.vector());return ht===null||!hn(f,ht)?null:rn.snap(ht)}split(r){let a=[],c=r.events!==void 0,f=new oi(r,!0),g=new oi(r,!1),v=this.rightSE;this.replaceRightSE(g),a.push(g),a.push(f);let w=new cl(f,v,this.rings.slice(),this.windings.slice());return oi.comparePoints(w.leftSE.point,w.rightSE.point)>0&&w.swapEvents(),oi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),c&&(f.checkForConsuming(),g.checkForConsuming()),a}swapEvents(){let r=this.rightSE;this.rightSE=this.leftSE,this.leftSE=r,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let a=0,c=this.windings.length;a<c;a++)this.windings[a]*=-1}consume(r){let a=this,c=r;for(;a.consumedBy;)a=a.consumedBy;for(;c.consumedBy;)c=c.consumedBy;let f=cl.compare(a,c);if(f!==0){if(f>0){let g=a;a=c,c=g}if(a.prev===c){let g=a;a=c,c=g}for(let g=0,v=c.rings.length;g<v;g++){let w=c.rings[g],M=c.windings[g],P=a.rings.indexOf(w);P===-1?(a.rings.push(w),a.windings.push(M)):a.windings[P]+=M}c.rings=null,c.windings=null,c.consumedBy=a,c.leftSE.consumedBy=a.leftSE,c.rightSE.consumedBy=a.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let r=this.prev.consumedBy||this.prev;this._beforeState=r.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let r=this.beforeState();this._afterState={rings:r.rings.slice(0),windings:r.windings.slice(0),multiPolys:[]};let a=this._afterState.rings,c=this._afterState.windings,f=this._afterState.multiPolys;for(let w=0,M=this.rings.length;w<M;w++){let P=this.rings[w],V=this.windings[w],N=a.indexOf(P);N===-1?(a.push(P),c.push(V)):c[N]+=V}let g=[],v=[];for(let w=0,M=a.length;w<M;w++){if(c[w]===0)continue;let P=a[w],V=P.poly;if(v.indexOf(V)===-1)if(P.isExterior)g.push(V);else{v.indexOf(V)===-1&&v.push(V);let N=g.indexOf(P.poly);N!==-1&&g.splice(N,1)}}for(let w=0,M=g.length;w<M;w++){let P=g[w].multiPoly;f.indexOf(P)===-1&&f.push(P)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let r=this.beforeState().multiPolys,a=this.afterState().multiPolys;switch(Ha.type){case"union":{let c=r.length===0,f=a.length===0;this._isInResult=c!==f;break}case"intersection":{let c,f;r.length<a.length?(c=r.length,f=a.length):(c=a.length,f=r.length),this._isInResult=f===Ha.numMultiPolys&&c<f;break}case"xor":{let c=Math.abs(r.length-a.length);this._isInResult=c%2===1;break}case"difference":{let c=f=>f.length===1&&f[0].isSubject;this._isInResult=c(r)!==c(a);break}}return this._isInResult}},Eo=class{constructor(n,r,a){ne(this,"poly");ne(this,"isExterior");ne(this,"segments");ne(this,"bbox");if(!Array.isArray(n)||n.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=a,this.segments=[],typeof n[0][0]!="number"||typeof n[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let c=rn.snap({x:new C(n[0][0]),y:new C(n[0][1])});this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};let f=c;for(let g=1,v=n.length;g<v;g++){if(typeof n[g][0]!="number"||typeof n[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let w=rn.snap({x:new C(n[g][0]),y:new C(n[g][1])});w.x.eq(f.x)&&w.y.eq(f.y)||(this.segments.push(Mo.fromRing(f,w,this)),w.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=w.x),w.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=w.y),w.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=w.x),w.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=w.y),f=w)}(!c.x.eq(f.x)||!c.y.eq(f.y))&&this.segments.push(Mo.fromRing(f,c,this))}getSweepEvents(){let n=[];for(let r=0,a=this.segments.length;r<a;r++){let c=this.segments[r];n.push(c.leftSE),n.push(c.rightSE)}return n}},Va=class{constructor(n,r){ne(this,"multiPoly");ne(this,"exteriorRing");ne(this,"interiorRings");ne(this,"bbox");if(!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Eo(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,c=n.length;a<c;a++){let f=new Eo(n[a],this,!1);f.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=f.bbox.ll.x),f.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=f.bbox.ll.y),f.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=f.bbox.ur.x),f.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=f.bbox.ur.y),this.interiorRings.push(f)}this.multiPoly=r}getSweepEvents(){let n=this.exteriorRing.getSweepEvents();for(let r=0,a=this.interiorRings.length;r<a;r++){let c=this.interiorRings[r].getSweepEvents();for(let f=0,g=c.length;f<g;f++)n.push(c[f])}return n}},$a=class{constructor(n,r){ne(this,"isSubject");ne(this,"polys");ne(this,"bbox");if(!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof n[0][0][0]=="number"&&(n=[n])}catch{}this.polys=[],this.bbox={ll:{x:new C(Number.POSITIVE_INFINITY),y:new C(Number.POSITIVE_INFINITY)},ur:{x:new C(Number.NEGATIVE_INFINITY),y:new C(Number.NEGATIVE_INFINITY)}};for(let a=0,c=n.length;a<c;a++){let f=new Va(n[a],this);f.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=f.bbox.ll.x),f.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=f.bbox.ll.y),f.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=f.bbox.ur.x),f.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=f.bbox.ur.y),this.polys.push(f)}this.isSubject=r}getSweepEvents(){let n=[];for(let r=0,a=this.polys.length;r<a;r++){let c=this.polys[r].getSweepEvents();for(let f=0,g=c.length;f<g;f++)n.push(c[f])}return n}},s_=class Sc{constructor(r){ne(this,"events");ne(this,"poly");ne(this,"_isExteriorRing");ne(this,"_enclosingRing");this.events=r;for(let a=0,c=r.length;a<c;a++)r[a].segment.ringOut=this;this.poly=null}static factory(r){let a=[];for(let c=0,f=r.length;c<f;c++){let g=r[c];if(!g.isInResult()||g.ringOut)continue;let v=null,w=g.leftSE,M=g.rightSE,P=[w],V=w.point,N=[];for(;v=w,w=M,P.push(w),w.point!==V;)for(;;){let rt=w.getAvailableLinkedEvents();if(rt.length===0){let Gt=P[0].point,Kt=P[P.length-1].point;throw new Error(`Unable to complete output ring starting at [${Gt.x}, ${Gt.y}]. Last matching segment found ends at [${Kt.x}, ${Kt.y}].`)}if(rt.length===1){M=rt[0].otherSE;break}let ht=null;for(let Gt=0,Kt=N.length;Gt<Kt;Gt++)if(N[Gt].point===w.point){ht=Gt;break}if(ht!==null){let Gt=N.splice(ht)[0],Kt=P.splice(Gt.index);Kt.unshift(Kt[0].otherSE),a.push(new Sc(Kt.reverse()));continue}N.push({index:P.length,point:w.point});let Mt=w.getLeftmostComparator(v);M=rt.sort(Mt)[0].otherSE;break}a.push(new Sc(P))}return a}getGeom(){let r=this.events[0].point,a=[r];for(let P=1,V=this.events.length-1;P<V;P++){let N=this.events[P].point,rt=this.events[P+1].point;rn.orient(N,r,rt)!==0&&(a.push(N),r=N)}if(a.length===1)return null;let c=a[0],f=a[1];rn.orient(c,r,f)===0&&a.shift(),a.push(a[0]);let g=this.isExteriorRing()?1:-1,v=this.isExteriorRing()?0:a.length-1,w=this.isExteriorRing()?a.length:-1,M=[];for(let P=v;P!=w;P+=g)M.push([a[P].x.toNumber(),a[P].y.toNumber()]);return M}isExteriorRing(){if(this._isExteriorRing===void 0){let r=this.enclosingRing();this._isExteriorRing=r?!r.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var f,g;let r=this.events[0];for(let v=1,w=this.events.length;v<w;v++){let M=this.events[v];oi.compare(r,M)>0&&(r=M)}let a=r.segment.prevInResult(),c=a?a.prevInResult():null;for(;;){if(!a)return null;if(!c)return a.ringOut;if(c.ringOut!==a.ringOut)return((f=c.ringOut)==null?void 0:f.enclosingRing())!==a.ringOut?a.ringOut:(g=a.ringOut)==null?void 0:g.enclosingRing();a=c.prevInResult(),c=a?a.prevInResult():null}}},lh=class{constructor(n){ne(this,"exteriorRing");ne(this,"interiorRings");this.exteriorRing=n,n.poly=this,this.interiorRings=[]}addInterior(n){this.interiorRings.push(n),n.poly=this}getGeom(){let n=this.exteriorRing.getGeom();if(n===null)return null;let r=[n];for(let a=0,c=this.interiorRings.length;a<c;a++){let f=this.interiorRings[a].getGeom();f!==null&&r.push(f)}return r}},a_=class{constructor(n){ne(this,"rings");ne(this,"polys");this.rings=n,this.polys=this._composePolys(n)}getGeom(){let n=[];for(let r=0,a=this.polys.length;r<a;r++){let c=this.polys[r].getGeom();c!==null&&n.push(c)}return n}_composePolys(n){var a;let r=[];for(let c=0,f=n.length;c<f;c++){let g=n[c];if(!g.poly)if(g.isExteriorRing())r.push(new lh(g));else{let v=g.enclosingRing();v!=null&&v.poly||r.push(new lh(v)),(a=v==null?void 0:v.poly)==null||a.addInterior(g)}}return r}},l_=class{constructor(n,r=Mo.compare){ne(this,"queue");ne(this,"tree");ne(this,"segments");this.queue=n,this.tree=new dt(r),this.segments=[]}process(n){let r=n.segment,a=[];if(n.consumedBy)return n.isLeft?this.queue.delete(n.otherSE):this.tree.delete(r),a;n.isLeft&&this.tree.add(r);let c=r,f=r;do c=this.tree.lastBefore(c);while(c!=null&&c.consumedBy!=null);do f=this.tree.firstAfter(f);while(f!=null&&f.consumedBy!=null);if(n.isLeft){let g=null;if(c){let w=c.getIntersection(r);if(w!==null&&(r.isAnEndpoint(w)||(g=w),!c.isAnEndpoint(w))){let M=this._splitSafely(c,w);for(let P=0,V=M.length;P<V;P++)a.push(M[P])}}let v=null;if(f){let w=f.getIntersection(r);if(w!==null&&(r.isAnEndpoint(w)||(v=w),!f.isAnEndpoint(w))){let M=this._splitSafely(f,w);for(let P=0,V=M.length;P<V;P++)a.push(M[P])}}if(g!==null||v!==null){let w=null;g===null?w=v:v===null?w=g:w=oi.comparePoints(g,v)<=0?g:v,this.queue.delete(r.rightSE),a.push(r.rightSE);let M=r.split(w);for(let P=0,V=M.length;P<V;P++)a.push(M[P])}a.length>0?(this.tree.delete(r),a.push(n)):(this.segments.push(r),r.prev=c)}else{if(c&&f){let g=c.getIntersection(f);if(g!==null){if(!c.isAnEndpoint(g)){let v=this._splitSafely(c,g);for(let w=0,M=v.length;w<M;w++)a.push(v[w])}if(!f.isAnEndpoint(g)){let v=this._splitSafely(f,g);for(let w=0,M=v.length;w<M;w++)a.push(v[w])}}}this.tree.delete(r)}return a}_splitSafely(n,r){this.tree.delete(n);let a=n.rightSE;this.queue.delete(a);let c=n.split(r);return c.push(a),n.consumedBy===void 0&&this.tree.add(n),c}},u_=class{constructor(){ne(this,"type");ne(this,"numMultiPolys")}run(n,r,a){Bs.type=n;let c=[new $a(r,!0)];for(let M=0,P=a.length;M<P;M++)c.push(new $a(a[M],!1));if(Bs.numMultiPolys=c.length,Bs.type==="difference"){let M=c[0],P=1;for(;P<c.length;)Bi(c[P].bbox,M.bbox)!==null?P++:c.splice(P,1)}if(Bs.type==="intersection")for(let M=0,P=c.length;M<P;M++){let V=c[M];for(let N=M+1,rt=c.length;N<rt;N++)if(Bi(V.bbox,c[N].bbox)===null)return[]}let f=new dt(oi.compare);for(let M=0,P=c.length;M<P;M++){let V=c[M].getSweepEvents();for(let N=0,rt=V.length;N<rt;N++)f.add(V[N])}let g=new l_(f),v=null;for(f.size!=0&&(v=f.first(),f.delete(v));v;){let M=g.process(v);for(let P=0,V=M.length;P<V;P++){let N=M[P];N.consumedBy===void 0&&f.add(N)}f.size!=0?(v=f.first(),f.delete(v)):v=null}rn.reset();let w=s_.factory(g.segments);return new a_(w).getGeom()}},Bs=new u_,Ha=Bs,c_=(n,...r)=>Ha.run("intersection",n,r),h_=(n,...r)=>Ha.run("difference",n,r);rn.set;function Ua(n){let r={type:"Feature"};return r.geometry=n,r}function Za(n){return n.type==="Feature"?n.geometry:n}function uh(n){return n&&n.geometry&&n.geometry.coordinates?n.geometry.coordinates:n}function d_(n){return Ua({type:"LineString",coordinates:n})}function p_(n){return Ua({type:"MultiLineString",coordinates:n})}function ch(n){return Ua({type:"Polygon",coordinates:n})}function hh(n){return Ua({type:"MultiPolygon",coordinates:n})}function f_(n,r){let a=Za(n),c=Za(r),f=c_(a.coordinates,c.coordinates);return f.length===0?null:f.length===1?ch(f[0]):hh(f)}function __(n,r){let a=Za(n),c=Za(r),f=h_(a.coordinates,c.coordinates);return f.length===0?null:f.length===1?ch(f[0]):hh(f)}function dh(n){return Array.isArray(n)?1+dh(n[0]):-1}function m_(n){n instanceof L.Polyline&&(n=n.toGeoJSON(15));let r=uh(n),a=dh(r),c=[];return a>1?r.forEach(f=>{c.push(d_(f))}):c.push(n),c}function g_(n){let r=[];return n.eachLayer(a=>{r.push(uh(a.toGeoJSON(15)))}),p_(r)}mn.Cut=mn.Polygon.extend({initialize(n){this._map=n,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=2)return;let r=L.polygon(n,this.options.pathOptions);r._latlngInfos=this._layer._latlngInfo,this.cut(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:a,originalLayer:c})=>{this._fireCut(c,a,c),this._fireCut(this._map,a,c),c.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(n){let r=this._map._layers,a=n._latlngInfos||[];Object.keys(r).map(c=>r[c]).filter(c=>c.pm).filter(c=>!c._pmTempLayer).filter(c=>!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1).filter(c=>c instanceof L.Polyline).filter(c=>c!==n).filter(c=>c.pm.options.allowCutting).filter(c=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(c)>-1:!0).filter(c=>!this._layerGroup.hasLayer(c)).filter(c=>{try{let f=!!Bn(n.toGeoJSON(15),c.toGeoJSON(15)).features.length>0;return f||c instanceof L.Polyline&&!(c instanceof L.Polygon)?f:!!f_(n.toGeoJSON(15),c.toGeoJSON(15))}catch{return c instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(c=>{let f;if(c instanceof L.Polygon){f=L.polygon(c.getLatLngs());let M=f.getLatLngs();a.forEach(P=>{if(P&&P.snapInfo){let{latlng:V}=P,N=this._calcClosestLayer(V,[f]);if(N&&N.segment&&N.distance<this.options.snapDistance){let{segment:rt}=N;if(rt&&rt.length===2){let{indexPath:ht,parentPath:Mt,newIndex:Gt}=L.PM.Utils._getIndexFromSegment(M,rt);(ht.length>1?(0,Au.default)(M,Mt):M).splice(Gt,0,V)}}}})}else f=c;let g=this._cutLayer(n,f),v=L.geoJSON(g,c.options);v.getLayers().length===1&&([v]=v.getLayers()),this._setPane(v,"layerPane");let w=v.addTo(this._map.pm._getContainingLayer());if(w.pm.enable(c.pm.options),w.pm.disable(),c._pmTempLayer=!0,n._pmTempLayer=!0,c.remove(),c.removeFrom(this._map.pm._getContainingLayer()),n.remove(),n.removeFrom(this._map.pm._getContainingLayer()),w.getLayers&&w.getLayers().length===0&&this._map.pm.removeLayer({target:w}),w instanceof L.LayerGroup?(w.eachLayer(M=>{this._addDrawnLayerProp(M)}),this._addDrawnLayerProp(w)):this._addDrawnLayerProp(w),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let M=this.options.layersToCut.indexOf(c);M>-1&&this.options.layersToCut.splice(M,1)}this._editedLayers.push({layer:w,originalLayer:c})})},_cutLayer(n,r){let a=L.geoJSON(),c;if(r instanceof L.Polygon)c=__(r.toGeoJSON(15),n.toGeoJSON(15));else{let f=m_(r);f.forEach(g=>{let v=_o(g,n.toGeoJSON(15)),w;v&&v.features.length>0?w=L.geoJSON(v):w=L.geoJSON(g),w.getLayers().forEach(M=>{go(n.toGeoJSON(15),M.toGeoJSON(15))||M.addTo(a)})}),f.length>1?c=g_(a):c=a.toGeoJSON(15)}return c},_change:L.Util.falseFn}),mn.Text=mn.extend({initialize(n){this._map=n,this._shape="Text",this.toolbarButtonName="drawText"},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var n;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(n=this._hintMarker)==null||n.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let r=n;r.target=this._hintMarker,this._handleSnapping(r)}},_createMarker(n){var f,g,v,w;if(!n.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(f=this.options.textOptions)==null?void 0:f.className){let M=this.options.textOptions.className.split(" ");this.textArea.classList.add(...M)}let a=this._createTextIcon(this.textArea),c=new L.Marker(r,{textMarker:!0,_textMarkerOverPM:!0,icon:a});if(this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm){c.pm.textArea=this.textArea,L.setOptions(c.pm,{removeIfEmpty:((g=this.options.textOptions)==null?void 0:g.removeIfEmpty)??!0});let M=((v=this.options.textOptions)==null?void 0:v.focusAfterDraw)??!0;c.pm._createTextMarker(M),(w=this.options.textOptions)!=null&&w.text&&c.pm.setText(this.options.textOptions.text)}this._fireCreate(c),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let n=document.createElement("textarea");return n.readOnly=!0,n.classList.add("pm-textarea","pm-disabled"),n},_createTextIcon(n){return L.divIcon({className:"pm-text-marker",html:n})}});var y_={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,tr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let n=this._getDOMElem();n&&(tr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(n)):L.DomEvent.on(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,tr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let n=this._getDOMElem();n&&(tr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(n)):L.DomEvent.off(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(n){let r=n.touches?n.touches[0]:n,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent(n){let r=n.touches?n.touches[0]:n,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent(n){let r={originalEvent:n.touches?n.touches[0]:n,target:this._layer};return n.type.indexOf("touch")===-1&&(r.containerPoint=this._map.mouseEventToContainerPoint(n),r.latlng=this._map.containerPointToLatLng(r.containerPoint)),this._dragMixinOnMouseUp(r),!1},_dragMixinOnMouseDown(n){if(n.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(n);let r=n._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",n);if(this._layer instanceof L.Marker&&(this.options.snappable&&!r&&!a?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let c="resizeableCircleMarker";this._layer instanceof L.Circle&&(c="resizableCircle"),this.options.snappable&&!r&&!a?this._layer.pm.options[c]||this._initSnappableMarkersDrag():this._layer.pm.options[c]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=n.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(n){this._overwriteEventIfItComesFromMarker(n);let r=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",n),this._dragging||(this._dragging=!0,L.DomUtil.addClass(r,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=n.latlng),this._onLayerDrag(n),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(n){let r=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",n),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,r&&L.DomUtil.removeClass(r,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(n){let{latlng:r}=n,a={lat:r.lat-this._tempDragCoord.lat,lng:r.lng-this._tempDragCoord.lng},c=f=>f.map(g=>{if(Array.isArray(g))return c(g);let v={lat:g.lat+a.lat,lng:g.lng+a.lng};return(g.alt||g.alt===0)&&(v.alt=g.alt),v});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let f=c([this._layer.getLatLng()]);this._layer.setLatLng(f[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let f=this._layer.getLatLng();this._layer._snapped&&(f=this._layer._orgLatLng);let g=c([f]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let f=c([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(f),this._fireChange(this._layer.getBounds(),"Edit")}else{let f=c(this._layer.getLatLngs());this._layer.setLatLngs(f),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=r,n.layer=this._layer,this._fireDrag(n)},addDraggingClass(){let n=this._getDOMElem();n&&L.DomUtil.addClass(n,"leaflet-pm-draggable")},removeDraggingClass(){let n=this._getDOMElem();n&&L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_getDOMElem(){let n=null;return this._layer._path?n=this._layer._path:this._layer._renderer&&this._layer._renderer._container?n=this._layer._renderer._container:this._layer._image?n=this._layer._image:this._layer._icon&&(n=this._layer._icon),n},_overwriteEventIfItComesFromMarker(n){n.target.getLatLng&&(!n.target._radius||n.target._radius<=10)&&(n.containerPoint=this._map.mouseEventToContainerPoint(n.originalEvent),n.latlng=this._map.containerPointToLatLng(n.containerPoint))},_syncLayers(n,r){if(this.enabled())return!1;if(!r._fromLayerSync&&this._layer===r.target&&this.options.syncLayersOnDrag){r._fromLayerSync=!0;let a=[];if(L.Util.isArray(this.options.syncLayersOnDrag))a=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(c=>{c instanceof L.LayerGroup&&(a=a.concat(c.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let c in this._parentLayerGroup){let f=this._parentLayerGroup[c];f.pm&&(a=f.pm.getLayers(!0))}return L.Util.isArray(a)&&a.length>0&&(a=a.filter(c=>!!c.pm).filter(c=>!!c.pm.options.draggable),a.forEach(c=>{c!==this._layer&&c.pm[n]&&(c._snapped=!1,c.pm[n](r))})),a.length>0}return!1},_stopDOMImageDrag(n){return n.preventDefault(),!1}},v_=y_,b_=m(wi());function x_(n,r,a,c){return a.unproject(r.transform(a.project(n,c)),c)}function ph(n,r,a){let c=a.getMaxZoom();if(c===1/0&&(c=a.getZoom()),L.Util.isArray(n)){let f=[];return n.forEach(g=>{f.push(ph(g,r,a))}),f}return n instanceof L.LatLng?x_(n,r,a,c):null}function Po(n,r){r instanceof L.Layer&&(r=r.getLatLng());let a=n.getMaxZoom();return a===1/0&&(a=n.getZoom()),n.project(r,a)}function qa(n,r){let a=n.getMaxZoom();return a===1/0&&(a=n.getZoom()),n.unproject(r,a)}var L_={_onRotateStart(n){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Po(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Po(this._map,n.target.getLatLng()),this._initialRotateLatLng=Mi(this._layer),this._startAngle=this.getAngle();let r=Mi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,r),this._fireRotationStart(this._map,r)},_onRotate(n){let r=Po(this._map,n.target.getLatLng()),a=this._rotationStartPoint,c=this._rotationOriginPoint,f=Math.atan2(r.y-c.y,r.x-c.x)-Math.atan2(a.y-c.y,a.x-c.x);this._layer.setLatLngs(this._rotateLayer(f,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let g=this;function v(V,N=[],rt=-1){if(rt>-1&&N.push(rt),L.Util.isArray(V[0]))V.forEach((ht,Mt)=>v(ht,N.slice(),Mt));else{let ht=(0,b_.default)(g._markers,N);V.forEach((Mt,Gt)=>{ht[Gt].setLatLng(Mt)})}}v(this._layer.getLatLngs());let w=Mi(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(f,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let M=f*180/Math.PI;M=M<0?M+360:M;let P=M+this._startAngle;this._setAngle(P),this._rotationLayer.pm._setAngle(P),this._fireRotation(this._rotationLayer,M,w),this._fireRotation(this._map,M,w),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let n=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let r=Mi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Mi(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,n,r),this._fireRotationEnd(this._map,n,r),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(n,r,a,c,f){let g=Po(f,a);return this._matrix=c.clone().rotate(n,g).flip(),ph(r,this._matrix,f)},_setAngle(n){n=n<0?n+360:n,this._angle=n%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let n=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),r=n.getCenter();return n.removeFrom(this._layer._map),r},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(ps(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let n={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),n),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Mi(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(n){let r=this.getAngle(),a=this._layer.getLatLngs(),c=n*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(c,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+n),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(c,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let f=this.getAngle()-r;f=f<0?f+360:f,this._startAngle=r,this._fireRotation(this._layer,f,a,this._layer),this._fireRotation(this._map||this._layer._map,f,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(n){let r=n-this.getAngle();this.rotateLayer(r)},getAngle(){return this._angle||0},setInitAngle(n){this._setAngle(n)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(n){this._rotationCenter=n,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(n)}},C_=L_,w_=L.Class.extend({includes:[v_,_s,C_,Qi],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(n){L.Util.setOptions(this,n)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(n,r){r==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(n,r){let a=r.target,c={layer:this._layer,marker:a,event:r},f="";return n==="move"?f="moveVertexValidation":n==="add"?f="addVertexValidation":n==="remove"&&(f="removeVertexValidation"),this.options[f]&&typeof this.options[f]=="function"&&!this.options[f](c)?(n==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag(n){return n._cancelDragEventChain?(n._latlng=n._cancelDragEventChain,n.update(),!1):!0},_vertexValidationDragEnd(n){return n._cancelDragEventChain?(n._cancelDragEventChain=null,!1):!0}}),xn=w_;xn.LayerGroup=L.Class.extend({initialize(n){this._layerGroup=n,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(c=>this._initLayer(c));let r=c=>{if(c.layer._pmTempLayer)return;this._layers=this.getLayers();let f=this._layers.filter(g=>!g.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in g.pm._parentLayerGroup));f.forEach(g=>{this._initLayer(g)}),f.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(r,100,this),this),this._layerGroup.on("layerremove",c=>{this._removeLayerFromGroup(c.target)},this);let a=c=>{c.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(a,100,this),this)},enable(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.enable(n,r)):a.pm.enable(n)})},disable(n=[]){n.length===0&&(this._layers=this.getLayers()),this._layers.forEach(r=>{r instanceof L.LayerGroup?n.indexOf(r._leaflet_id)===-1&&(n.push(r._leaflet_id),r.pm.disable(n)):r.pm.disable()})},enabled(n=[]){return n.length===0&&(this._layers=this.getLayers()),!!this._layers.find(r=>r instanceof L.LayerGroup?n.indexOf(r._leaflet_id)===-1?(n.push(r._leaflet_id),r.pm.enabled(n)):!1:r.pm.enabled())},toggleEdit(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.toggleEdit(n,r)):a.pm.toggleEdit(n)})},_initLayer(n){let r=L.Util.stamp(this._layerGroup);n.pm._parentLayerGroup||(n.pm._parentLayerGroup={}),n.pm._parentLayerGroup[r]=this._layerGroup},_removeLayerFromGroup(n){if(n.pm&&n.pm._layerGroup){let r=L.Util.stamp(this._layerGroup);delete n.pm._layerGroup[r]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(n=>n.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var n;return this._map||((n=this._layers.find(r=>!!r._map))==null?void 0:n._map)||null},getLayers(n=!1,r=!0,a=!0,c=[]){let f=[];return n?this._layerGroup.getLayers().forEach(g=>{f.push(g),g instanceof L.LayerGroup&&c.indexOf(g._leaflet_id)===-1&&(c.push(g._leaflet_id),f=f.concat(g.pm.getLayers(!0,!0,!0,c)))}):f=this._layerGroup.getLayers(),a&&(f=f.filter(g=>!(g instanceof L.LayerGroup))),r&&(f=f.filter(g=>!!g.pm),f=f.filter(g=>!g._pmTempLayer),f=f.filter(g=>!L.PM.optIn&&!g.options.pmIgnore||L.PM.optIn&&g.options.pmIgnore===!1)),f},setOptions(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this.options=n,this._layers.forEach(a=>{a.pm&&(a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.setOptions(n,r)):a.pm.setOptions(n))})}}),xn.Marker=xn.extend({_shape:"Marker",initialize(n){this._layer=n,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(n={draggable:!0}){if(L.Util.setOptions(this,n),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(n){let r=n.target;r.remove(),this._fireRemove(r),this._fireRemove(this._map,r)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)}});var sr=m(wi()),k_={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let n=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=n.filter((r,a,c)=>c.indexOf(r)===a)},_removeFromCache(n){let r=this.markerCache.indexOf(n);r>-1&&this.markerCache.splice(r,1)},renderLimits(n){this.markerCache.forEach(r=>{n.includes(r)?this._markerGroup.addLayer(r):this._markerGroup.removeLayer(r)})},applyLimitFilters({latlng:n={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let r=[...this._filterClosestMarkers(n)];this.renderLimits(r)},_filterClosestMarkers(n){let r=[...this.markerCache],a=this.options.limitMarkersToCount;return a===-1?r:(r.sort((c,f)=>{let g=c._latlng.distanceTo(n),v=f._latlng.distanceTo(n);return g-v}),r.filter((c,f)=>a>-1?f<a:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(n){this._preventRenderMarkers=!!n}},M_=k_;xn.Line=xn.extend({includes:[M_],_shape:"Line",initialize(n){this._layer=n,this._enabled=!1},enable(n){if(L.Util.setOptions(this,n),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(n){return this.enabled()?this.disable():this.enable(n),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let n=this._map,r=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let a=c=>{if(Array.isArray(c[0]))return c.map(a,this);let f=c.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&c.map((g,v)=>{let w=this.isPolygon()?(v+1)%c.length:v+1;return this._createMiddleMarker(f[v],f[w])}),f};this._markers=a(r),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker(n){let r=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this.options.rotate?(r.on("dragstart",this._onRotateStart,this),r.on("drag",this._onRotate,this),r.on("dragend",this._onRotateEnd,this)):(r.on("click",this._onVertexClick,this),r.on("dragstart",this._onMarkerDragStart,this),r.on("move",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(r),r},_createMiddleMarker(n,r){if(!n||!r)return!1;let a=L.PM.Utils.calcMiddleLatLng(this._map,n.getLatLng(),r.getLatLng()),c=this._createMarker(a),f=L.divIcon({className:"marker-icon marker-icon-middle"});return c.setIcon(f),c.leftM=n,c.rightM=r,n._middleMarkerNext=c,r._middleMarkerPrev=c,c.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),c.on("movestart",this._onMiddleMarkerMoveStart,this),c},_onMiddleMarkerClick(n){let r=n.target;if(!this._vertexValidation("add",n))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMoveStart(n){let r=n.target;if(r.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",n)){r.on("move",this._onMiddleMarkerMovePrevent,this);return}r._dragging=!0,this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMovePrevent(n){let r=n.target;this._vertexValidationDrag(r)},_onMiddleMarkerMoveEnd(n){let r=n.target;if(r.off("move",this._onMiddleMarkerMovePrevent,this),r.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(r))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),setTimeout(()=>{delete r._dragging},100)},_addMarker(n,r,a){n.off("movestart",this._onMiddleMarkerMoveStart,this),n.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let c=n.getLatLng(),f=this._layer._latlngs;delete n.leftM,delete n.rightM;let{indexPath:g,index:v,parentPath:w}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),M=g.length>1?(0,sr.default)(f,w):f,P=g.length>1?(0,sr.default)(this._markers,w):this._markers;M.splice(v+1,0,c),P.splice(v+1,0,n),this._layer.setLatLngs(f),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(r,n),this._createMiddleMarker(n,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(n,L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath,c),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Or(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(n){let r=this._layer,a,c;if(this.options.allowSelfIntersection?a=!1:(c=Or(this._layer.toGeoJSON(15)),a=c.features.length>0),a){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return a;n?this._flashLayer():(r.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(c)}else r.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return a},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(n,r){n.forEach(a=>{Array.isArray(a)?this._updateDisabledMarkerStyle(a,r):a._icon&&(r&&!this._checkMarkerAllowedToDrag(a)?L.DomUtil.addClass(a._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(a._icon,"vertexmarker-disabled"))})},_removeMarker(n){let r=n.target;if(!this._vertexValidation("remove",n))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mi(this._layer,this._layer.getLatLngs()));let a=this._layer.getLatLngs(),{indexPath:c,index:f,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!c)return;let v=c.length>1?(0,sr.default)(a,g):a,w=c.length>1?(0,sr.default)(this._markers,g):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(v.length<=2||this.isPolygon()&&v.length<=3)){this._flashLayer();return}v.splice(f,1),this._layer.setLatLngs(a),this.isPolygon()&&v.length<=2&&v.splice(0,v.length);let M=!1;if(v.length<=1&&(v.splice(0,v.length),g.length>1&&c.length>1&&(a=ki(a)),this._layer.setLatLngs(a),this._initMarkers(),M=!0),Rn(a)||this._layer.remove(),a=ki(a),this._layer.setLatLngs(a),this._markers=ki(this._markers),!M&&(w=c.length>1?(0,sr.default)(this._markers,g):this._markers,r._middleMarkerPrev&&(this._markerGroup.removeLayer(r._middleMarkerPrev),this._removeFromCache(r._middleMarkerPrev)),r._middleMarkerNext&&(this._markerGroup.removeLayer(r._middleMarkerNext),this._removeFromCache(r._middleMarkerNext)),this._markerGroup.removeLayer(r),this._removeFromCache(r),w)){let P,V;if(this.isPolygon()?(P=(f+1)%w.length,V=(f+(w.length-1))%w.length):(V=f-1<0?void 0:f-1,P=f+1>=w.length?void 0:f+1),P!==V){let N=w[V],rt=w[P];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(N,rt)}w.splice(f,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(r,c),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(n){let r=this._layer.getLatLngs(),a=n.getLatLng(),{indexPath:c,index:f,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,n);(c.length>1?(0,sr.default)(r,g):r).splice(f,1,a),this._layer.setLatLngs(r)},_getNeighborMarkers(n){let{indexPath:r,index:a,parentPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,n),f=r.length>1?(0,sr.default)(this._markers,c):this._markers,g=(a+1)%f.length,v=(a+(f.length-1))%f.length,w=f[v],M=f[g];return{prevMarker:w,nextMarker:M}},_checkMarkerAllowedToDrag(n){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(n),c=L.polyline([r.getLatLng(),n.getLatLng()]),f=L.polyline([n.getLatLng(),a.getLatLng()]),g=Bn(this._layer.toGeoJSON(15),c.toGeoJSON(15)).features.length,v=Bn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length;return n.getLatLng()===this._markers[0][0].getLatLng()?v+=1:n.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(g+=1),!(g<=2&&v<=2)},_onMarkerDragStart(n){let r=n.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",n))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(n,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mi(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(r):this._markerAllowedToDrag=null},_onMarkerDrag(n){let r=n.target;if(!this._vertexValidationDrag(r))return;let{indexPath:a,index:c,parentPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!a)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(r);let g=a.length>1?(0,sr.default)(this._markers,f):this._markers,v=(c+1)%g.length,w=(c+(g.length-1))%g.length,M=r.getLatLng(),P=g[w].getLatLng(),V=g[v].getLatLng();if(r._middleMarkerNext){let N=L.PM.Utils.calcMiddleLatLng(this._map,M,V);r._middleMarkerNext.setLatLng(N)}if(r._middleMarkerPrev){let N=L.PM.Utils.calcMiddleLatLng(this._map,M,P);r._middleMarkerPrev.setLatLng(N)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(n,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(n){let r=n.target;if(!this._vertexValidationDragEnd(r))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),c=this.hasSelfIntersection();c&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(c=!1);let f=!this.options.allowSelfIntersection&&c;if(this._fireMarkerDragEnd(n,a,f),f){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(n,a);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(n){let r=n.target;if(r._dragging)return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireVertexClick(n,a)}}),xn.Polygon=xn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(n){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(n),c=L.polyline([r.getLatLng(),n.getLatLng()]),f=L.polyline([n.getLatLng(),a.getLatLng()]),g=Bn(this._layer.toGeoJSON(15),c.toGeoJSON(15)).features.length,v=Bn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length;return!(g<=2&&v<=2)}}),xn.Rectangle=xn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let n=this._map,r=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,n.addLayer(this._markerGroup),this._markers=[],this._markers[0]=r.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((a,c)=>{let f=this._cornerMarkers.find(g=>g._index===c);f&&f.setLatLng(a)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(n,r){let a=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=n,a._index=r,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents(){this._markers[0].forEach(n=>{n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(n){if(!this._vertexValidation("move",n))return;let r=n.target,a=this._cornerMarkers;r._oppositeCornerLatLng=a.find(f=>f._index===(r._index+2)%4).getLatLng(),r._snapped=!1;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(n,c)},_onMarkerDrag(n){let r=n.target;if(!this._vertexValidationDrag(r)||r._index===void 0)return;this._adjustRectangleForMarkerMove(r);let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDrag(n,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(n){let r=n.target;if(!this._vertexValidationDragEnd(r))return;this._cornerMarkers.forEach(c=>{delete c._oppositeCornerLatLng});let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragEnd(n,a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(n){L.extend(n._origLatLng,n._latlng);let r=L.PM.Utils._getRotatedRectangle(n.getLatLng(),n._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(r),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let n=this._layer.getLatLngs()[0];n&&n.length!==4&&n.length>0?(n.forEach((r,a)=>{this._cornerMarkers[a].setLatLng(r)}),this._cornerMarkers.slice(n.length).forEach(r=>{r.setLatLng(n[0])})):!n||!n.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(r=>{r.setLatLng(n[r._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(ps(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.getAngle(),this._map||this)}}),xn.CircleMarker=xn.extend({_shape:"CircleMarker",initialize(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(n={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let n=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(n);let r=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(r,a);this._centerMarker=this._createCenterMarker(r),this._outerMarker=this._createOuterMarker(c),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(n,r){let a=this._map.project(n),c=L.point(a.x+r,a.y);return this._map.unproject(c)},_createHintLine(n,r){let a=n.getLatLng(),c=r.getLatLng();this._hintline=L.polyline([a,c],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(n){let r=this._createMarker(n);return this.options.draggable?L.DomUtil.addClass(r._icon,"leaflet-pm-draggable"):r.dragging.disable(),r},_createOuterMarker(n){let r=this._createMarker(n);return r.on("drag",this._resizeCircle,this),r},_createMarker(n){let r=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._origLatLng=n,r._pmTempLayer=!0,r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),r.on("click",this._onVertexClick,this),this._helperLayers.addLayer(r),r},_moveCircle(n){if(n.target._cancelDragEventChain)return;let r=this._centerMarker.getLatLng();this._layer.setLatLng(r);let a=this._layer._radius,c=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=c,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let n=this._layer.getLatLng(),r=this._layer._radius,a=this._getLatLngOnCircle(n,r);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(n),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng();this._hintline.setLatLngs([n,r])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(n){this._vertexValidation("move",n)&&this._fireMarkerDragStart(n)},_onMarkerDrag(n){let r=n.target;r instanceof L.Marker&&!this._vertexValidationDrag(r)||this._fireMarkerDrag(n)},_onMarkerDragEnd(n){this._extedingMarkerDragEnd();let r=n.target;this._vertexValidationDragEnd(r)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(n))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let n=this._layer._map||this._map;if(n){let r=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),n,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(r);let c=n&&n.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!c).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!c),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?r=Ar(this._map,n,r,this._getMinDistanceInMeter(n)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(r=Ar(this._map,n,r,this._getMaxDistanceInMeter(n))),r},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(n,r){return this._map.project(n).distanceTo(this._map.project(r))},_getMinDistanceInMeter(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,n)},_getMaxDistanceInMeter(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,n)},_onVertexClick(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),xn.Circle=xn.CircleMarker.extend({_shape:"Circle",initialize(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(n){L.PM.Edit.CircleMarker.prototype.enable.call(this,n||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let n=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!n).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!n),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(n,r){return this._map.distance(n,r)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),xn.ImageOverlay=xn.extend({_shape:"ImageOverlay",initialize(n){this._layer=n,this._enabled=!1},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},enabled(){return this._enabled},enable(n={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,n),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let n=this._layer.getBounds(),r=n.getNorthWest(),a=n.getNorthEast(),c=n.getSouthEast(),f=n.getSouthWest();return[r,a,c,f]}}),xn.Text=xn.extend({_shape:"Text",initialize(n){this._layer=n,this._enabled=!1},enable(n){if(L.Util.setOptions(this,n),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let n=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),n.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let n=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,r=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${n}px`,this.textArea.style.width=`${r}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(n){n.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(n={}){let r=this._hasFocus;this._hasFocus=n.type==="focus",!r!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(n){this.textArea.value=n,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let r=this.options.className.split(" ");this.textArea.classList.add(...r)}let n=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(n),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(n=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),n===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(n){n.preventDefault()}});var Ru=function(n,r,a,c,f,g){this._matrix=[n,r,a,c,f,g]};Ru.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Ru.prototype={transform(n){return this._transform(n.clone())},_transform(n){let r=this._matrix,{x:a,y:c}=n;return n.x=r[0]*a+r[1]*c+r[4],n.y=r[2]*a+r[3]*c+r[5],n},untransform(n){let r=this._matrix;return new L.Point((n.x/r[0]-r[4])/r[0],(n.y/r[2]-r[5])/r[2])},clone(){let n=this._matrix;return new L.PM.Matrix(n[0],n[1],n[2],n[3],n[4],n[5])},translate(n){if(n===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let r,a;return typeof n=="number"?(r=n,a=n):(r=n.x,a=n.y),this._add(1,0,0,1,r,a)},scale(n,r){if(n===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let a,c;return r=r||L.point(0,0),typeof n=="number"?(a=n,c=n):(a=n.x,c=n.y),this._add(a,0,0,c,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},rotate(n,r){let a=Math.cos(n),c=Math.sin(n);return r=r||new L.Point(0,0),this._add(a,c,-c,a,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(n,r,a,c,f,g){let v=[[],[],[]],w=this._matrix,M=[[w[0],w[2],w[4]],[w[1],w[3],w[5]],[0,0,1]],P=[[n,a,f],[r,c,g],[0,0,1]],V;n&&n instanceof L.PM.Matrix&&(w=n._matrix,P=[[w[0],w[2],w[4]],[w[1],w[3],w[5]],[0,0,1]]);for(let N=0;N<3;N+=1)for(let rt=0;rt<3;rt+=1){V=0;for(let ht=0;ht<3;ht+=1)V+=M[N][ht]*P[ht][rt];v[N][rt]=V}return this._matrix=[v[0][0],v[1][0],v[0][1],v[1][1],v[0][2],v[1][2]],this}};var E_=Ru,P_={calcMiddleLatLng(n,r,a){let c=n.project(r),f=n.project(a);return n.unproject(c._add(f)._divideBy(2))},findLayers(n){let r=[];return n.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&r.push(a)}),r=r.filter(a=>!!a.pm),r=r.filter(a=>!a._pmTempLayer),r=r.filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1),r},circleToPolygon(n,r=60,a=!0){let c=n.getLatLng(),f=n.getRadius(),g=Pa(c,f,r,0,a),v=[];for(let w=0;w<g.length;w+=1){let M=[g[w].lat,g[w].lng];v.push(M)}return L.polygon(v,n.options)},disablePopup(n){n.getPopup()&&(n._tempPopupCopy=n.getPopup(),n.unbindPopup())},enablePopup(n){n._tempPopupCopy&&(n.bindPopup(n._tempPopupCopy),delete n._tempPopupCopy)},_fireEvent(n,r,a,c=!1){n.fire(r,a,c);let{groups:f}=this.getAllParentGroups(n);f.forEach(g=>{g.fire(r,a,c)})},getAllParentGroups(n){let r=[],a=[],c=f=>{for(let g in f._eventParents)if(r.indexOf(g)===-1){r.push(g);let v=f._eventParents[g];a.push(v),c(v)}};return!n._pmLastGroupFetch||!n._pmLastGroupFetch.time||new Date().getTime()-n._pmLastGroupFetch.time>1e3?(c(n),n._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:r},{groupIds:r,groups:a}):{groups:n._pmLastGroupFetch.groups,groupIds:n._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Pa,getTranslation:Be,findDeepCoordIndex(n,r,a=!0){let c,f=v=>(w,M)=>{let P=v.concat(M);if(a){if(w.lat&&w.lat===r.lat&&w.lng===r.lng)return c=P,!0}else if(w.lat&&L.latLng(w).equals(r))return c=P,!0;return Array.isArray(w)&&w.some(f(P))};n.some(f([]));let g={};return c&&(g={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),g},findDeepMarkerIndex(n,r){let a,c=g=>(v,w)=>{let M=g.concat(w);return v._leaflet_id===r._leaflet_id?(a=M,!0):Array.isArray(v)&&v.some(c(M))};n.some(c([]));let f={};return a&&(f={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),f},_getIndexFromSegment(n,r){if(r&&r.length===2){let a=this.findDeepCoordIndex(n,r[0]),c=this.findDeepCoordIndex(n,r[1]),f=Math.max(a.index,c.index);return(a.index===0||c.index===0)&&f!==1&&(f+=1),{indexA:a,indexB:c,newIndex:f,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle(n,r,a,c){let f=Po(c,n),g=Po(c,r),v=a*Math.PI/180,w=Math.cos(v),M=Math.sin(v),P=(g.x-f.x)*w+(g.y-f.y)*M,V=(g.y-f.y)*w-(g.x-f.x)*M,N=P*w+f.x,rt=P*M+f.y,ht=-V*M+f.x,Mt=V*w+f.y,Gt=qa(c,f),Kt=qa(c,{x:N,y:rt}),Se=qa(c,g),z=qa(c,{x:ht,y:Mt});return[Gt,Kt,Se,z]},pxRadiusToMeterRadius(n,r,a){let c=r.project(a),f=L.point(c.x+n,c.y);return r.distance(r.unproject(f),a)}},B_=P_;L.PM=L.PM||{version:es.version,Map:gu,Toolbar:Ta,Draw:mn,Edit:xn,Utils:B_,Matrix:E_,activeLang:"en",optIn:!1,initialize(n){this.addInitHooks(n)},setOptIn(n){this.optIn=!!n},addInitHooks(){function n(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(n);function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(r);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(a);function c(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(c);function f(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(f);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(g);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(v);function w(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(w);function M(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(M)},reInitLayer(n){n instanceof L.LayerGroup&&n.eachLayer(r=>{this.reInitLayer(r)}),n.pm||L.PM.optIn&&n.options.pmIgnore!==!1||n.options.pmIgnore||(n instanceof L.Map?n.pm=new L.PM.Map(n):n instanceof L.Marker?n.options.textMarker?(n.pm=new L.PM.Edit.Text(n),n.pm._initTextMarker(),n.pm._createTextMarker(!1)):n.pm=new L.PM.Edit.Marker(n):n instanceof L.Circle?n.pm=new L.PM.Edit.Circle(n):n instanceof L.CircleMarker?n.pm=new L.PM.Edit.CircleMarker(n):n instanceof L.Rectangle?n.pm=new L.PM.Edit.Rectangle(n):n instanceof L.Polygon?n.pm=new L.PM.Edit.Polygon(n):n instanceof L.Polyline?n.pm=new L.PM.Edit.Line(n):n instanceof L.LayerGroup?n.pm=new L.PM.Edit.LayerGroup(n):n instanceof L.ImageOverlay&&(n.pm=new L.PM.Edit.ImageOverlay(n)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(n){let r=this._map.mouseEventToLayerPoint(n),a,c;for(let f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);c&&(L.DomEvent.fakeStop(n),this._fireEvent([c],n))}}),L.PM.initialize()})();var Vd={exports:{}};(function(t,i){(function(s,u){u(i)})(Do,function(s){var u=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(l){L.Util.setOptions(this,l),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var h=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,h?this._withAnimation:this._noAnimation),this._markerCluster=h?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(l){if(l instanceof L.LayerGroup)return this.addLayers([l]);if(!l.getLatLng)return this._nonPointGroup.addLayer(l),this.fire("layeradd",{layer:l}),this;if(!this._map)return this._needsClustering.push(l),this.fire("layeradd",{layer:l}),this;if(this.hasLayer(l))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(l,this._maxZoom),this.fire("layeradd",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var h=l,_=this._zoom;if(l.__parent)for(;h.__parent._zoom>=_;)h=h.__parent;return this._currentShownBounds.contains(h.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(l,h):this._animationAddLayerNonAnimated(l,h)),this},removeLayer:function(l){return l instanceof L.LayerGroup?this.removeLayers([l]):(l.getLatLng?this._map?l.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(l)),this._removeLayer(l,!0),this.fire("layerremove",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),l.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(l)&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())):(!this._arraySplice(this._needsClustering,l)&&this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l})):(this._nonPointGroup.removeLayer(l),this.fire("layerremove",{layer:l})),this)},addLayers:function(l,h){if(!L.Util.isArray(l))return this.addLayer(l);var _,m=this._featureGroup,x=this._nonPointGroup,b=this.options.chunkedLoading,k=this.options.chunkInterval,T=this.options.chunkProgress,F=l.length,G=0,X=!0;if(this._map){var bt=new Date().getTime(),st=L.bind(function(){var $=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();G<F;G++){if(b&&G%200==0){var lt=new Date().getTime()-$;if(k<lt)break}if((_=l[G])instanceof L.LayerGroup)X&&(l=l.slice(),X=!1),this._extractNonGroupLayers(_,l),F=l.length;else if(_.getLatLng){if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),h||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var xt=_.__parent.getAllChildMarkers(),vt=xt[0]===_?xt[1]:xt[0];m.removeLayer(vt)}}else x.addLayer(_),h||this.fire("layeradd",{layer:_})}T&&T(G,F,new Date().getTime()-bt),G===F?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(st,this.options.chunkDelay)},this);st()}else for(var ut=this._needsClustering;G<F;G++)(_=l[G])instanceof L.LayerGroup?(X&&(l=l.slice(),X=!1),this._extractNonGroupLayers(_,l),F=l.length):_.getLatLng?this.hasLayer(_)||ut.push(_):x.addLayer(_);return this},removeLayers:function(l){var h,_,m=l.length,x=this._featureGroup,b=this._nonPointGroup,k=!0;if(!this._map){for(h=0;h<m;h++)(_=l[h])instanceof L.LayerGroup?(k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(_,l),m=l.length):(this._arraySplice(this._needsClustering,_),b.removeLayer(_),this.hasLayer(_)&&this._needsRemoving.push({layer:_,latlng:_._latlng}),this.fire("layerremove",{layer:_}));return this}if(this._unspiderfy){this._unspiderfy();var T=l.slice(),F=m;for(h=0;h<F;h++)(_=T[h])instanceof L.LayerGroup?(this._extractNonGroupLayers(_,T),F=T.length):this._unspiderfyLayer(_)}for(h=0;h<m;h++)(_=l[h])instanceof L.LayerGroup?(k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(_,l),m=l.length):_.__parent?(this._removeLayer(_,!0,!0),this.fire("layerremove",{layer:_}),x.hasLayer(_)&&(x.removeLayer(_),_.clusterShow&&_.clusterShow())):(b.removeLayer(_),this.fire("layerremove",{layer:_}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(l){l.off(this._childMarkerEventHandlers,this),delete l.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var l=new L.LatLngBounds;this._topClusterLevel&&l.extend(this._topClusterLevel._bounds);for(var h=this._needsClustering.length-1;0<=h;h--)l.extend(this._needsClustering[h].getLatLng());return l.extend(this._nonPointGroup.getBounds()),l},eachLayer:function(l,h){var _,m,x,b=this._needsClustering.slice(),k=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(b),m=b.length-1;0<=m;m--){for(_=!0,x=k.length-1;0<=x;x--)if(k[x].layer===b[m]){_=!1;break}_&&l.call(h,b[m])}this._nonPointGroup.eachLayer(l,h)},getLayers:function(){var l=[];return this.eachLayer(function(h){l.push(h)}),l},getLayer:function(l){var h=null;return l=parseInt(l,10),this.eachLayer(function(_){L.stamp(_)===l&&(h=_)}),h},hasLayer:function(l){if(!l)return!1;var h,_=this._needsClustering;for(h=_.length-1;0<=h;h--)if(_[h]===l)return!0;for(h=(_=this._needsRemoving).length-1;0<=h;h--)if(_[h].layer===l)return!1;return!(!l.__parent||l.__parent._group!==this)||this._nonPointGroup.hasLayer(l)},zoomToShowLayer:function(l,h){var _=this._map;typeof h!="function"&&(h=function(){});var m=function(){!_.hasLayer(l)&&!_.hasLayer(l.__parent)||this._inZoomAnimation||(this._map.off("moveend",m,this),this.off("animationend",m,this),_.hasLayer(l)?h():l.__parent._icon&&(this.once("spiderfied",h,this),l.__parent.spiderfy()))};l._icon&&this._map.getBounds().contains(l.getLatLng())?h():l.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(l.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),l.__parent.zoomToBounds())},onAdd:function(l){var h,_,m;if(this._map=l,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(l),this._nonPointGroup.addTo(l),this._gridClusters||this._generateInitialClusters(),this._maxLat=l.options.crs.projection.MAX_LATITUDE,h=0,_=this._needsRemoving.length;h<_;h++)(m=this._needsRemoving[h]).newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(h=0,_=this._needsRemoving.length;h<_;h++)m=this._needsRemoving[h],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),_=this._needsClustering,this._needsClustering=[],this.addLayers(_,!0)},onRemove:function(l){l.off("zoomend",this._zoomEnd,this),l.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(l){for(var h=l;h&&!h._icon;)h=h.__parent;return h||null},_arraySplice:function(l,h){for(var _=l.length-1;0<=_;_--)if(l[_]===h)return l.splice(_,1),!0},_removeFromGridUnclustered:function(l,h){for(var _=this._map,m=this._gridUnclustered,x=Math.floor(this._map.getMinZoom());x<=h&&m[h].removeObject(l,_.project(l.getLatLng(),h));h--);},_childMarkerDragStart:function(l){l.target.__dragStart=l.target._latlng},_childMarkerMoved:function(l){if(!this._ignoreMove&&!l.target.__dragStart){var h=l.target._popup&&l.target._popup.isOpen();this._moveChild(l.target,l.oldLatLng,l.latlng),h&&l.target.openPopup()}},_moveChild:function(l,h,_){l._latlng=h,this.removeLayer(l),l._latlng=_,this.addLayer(l)},_childMarkerDragEnd:function(l){var h=l.target.__dragStart;delete l.target.__dragStart,h&&this._moveChild(l.target,h,l.target._latlng)},_removeLayer:function(l,h,_){var m=this._gridClusters,x=this._gridUnclustered,b=this._featureGroup,k=this._map,T=Math.floor(this._map.getMinZoom());h&&this._removeFromGridUnclustered(l,this._maxZoom);var F,G=l.__parent,X=G._markers;for(this._arraySplice(X,l);G&&(G._childCount--,G._boundsNeedUpdate=!0,!(G._zoom<T));)h&&G._childCount<=1?(F=G._markers[0]===l?G._markers[1]:G._markers[0],m[G._zoom].removeObject(G,k.project(G._cLatLng,G._zoom)),x[G._zoom].addObject(F,k.project(F.getLatLng(),G._zoom)),this._arraySplice(G.__parent._childClusters,G),G.__parent._markers.push(F),F.__parent=G.__parent,G._icon&&(b.removeLayer(G),_||b.addLayer(F))):G._iconNeedsUpdate=!0,G=G.__parent;delete l.__parent},_isOrIsParent:function(l,h){for(;h;){if(l===h)return!0;h=h.parentNode}return!1},fire:function(l,h,_){if(h&&h.layer instanceof L.MarkerCluster){if(h.originalEvent&&this._isOrIsParent(h.layer._icon,h.originalEvent.relatedTarget))return;l="cluster"+l}L.FeatureGroup.prototype.fire.call(this,l,h,_)},listens:function(l,h){return L.FeatureGroup.prototype.listens.call(this,l,h)||L.FeatureGroup.prototype.listens.call(this,"cluster"+l,h)},_defaultIconCreateFunction:function(l){var h=l.getChildCount(),_=" marker-cluster-";return _+=h<10?"small":h<100?"medium":"large",new L.DivIcon({html:"<div><span>"+h+"</span></div>",className:"marker-cluster"+_,iconSize:new L.Point(40,40)})},_bindEvents:function(){var l=this._map,h=this.options.spiderfyOnMaxZoom,_=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,x=this.options.spiderfyOnEveryZoom;(h||m||x)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),_&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),l.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(l){var h=l.layer,_=h;if(l.type!=="clusterkeypress"||!l.originalEvent||l.originalEvent.keyCode===13){for(;_._childClusters.length===1;)_=_._childClusters[0];_._zoom===this._maxZoom&&_._childCount===h._childCount&&this.options.spiderfyOnMaxZoom?h.spiderfy():this.options.zoomToBoundsOnClick&&h.zoomToBounds(),this.options.spiderfyOnEveryZoom&&h.spiderfy(),l.originalEvent&&l.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(l){var h=this._map;this._inZoomAnimation||(this._shownPolygon&&h.removeLayer(this._shownPolygon),2<l.layer.getChildCount()&&l.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(l.layer.getConvexHull(),this.options.polygonOptions),h.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var l=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,x=this._map;(l||_||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),x.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var l=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),l),this._currentShownBounds=l}},_generateInitialClusters:function(){var l=Math.ceil(this._map.getMaxZoom()),h=Math.floor(this._map.getMinZoom()),_=this.options.maxClusterRadius,m=_;typeof _!="function"&&(m=function(){return _}),this.options.disableClusteringAtZoom!==null&&(l=this.options.disableClusteringAtZoom-1),this._maxZoom=l,this._gridClusters={},this._gridUnclustered={};for(var x=l;h<=x;x--)this._gridClusters[x]=new L.DistanceGrid(m(x)),this._gridUnclustered[x]=new L.DistanceGrid(m(x));this._topClusterLevel=new this._markerCluster(this,h-1)},_addLayer:function(l,h){var _,m,x=this._gridClusters,b=this._gridUnclustered,k=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(l),l.on(this._childMarkerEventHandlers,this);k<=h;h--){_=this._map.project(l.getLatLng(),h);var T=x[h].getNearObject(_);if(T)return T._addChild(l),void(l.__parent=T);if(T=b[h].getNearObject(_)){var F=T.__parent;F&&this._removeLayer(T,!1);var G=new this._markerCluster(this,h,T,l);x[h].addObject(G,this._map.project(G._cLatLng,h)),T.__parent=G;var X=l.__parent=G;for(m=h-1;m>F._zoom;m--)X=new this._markerCluster(this,m,X),x[m].addObject(X,this._map.project(T.getLatLng(),m));return F._addChild(X),void this._removeFromGridUnclustered(T,h)}b[h].addObject(l,_)}this._topClusterLevel._addChild(l),l.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(l){l instanceof L.MarkerCluster&&l._iconNeedsUpdate&&l._updateIcon()})},_enqueue:function(l){this._queue.push(l),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var l=0;l<this._queue.length;l++)this._queue[l].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var l=Math.round(this._map._zoom);this._processQueue(),this._zoom<l&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,l)):this._zoom>l?(this._animationStart(),this._animationZoomOut(this._zoom,l)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(l){var h=this._maxLat;return h!==void 0&&(l.getNorth()>=h&&(l._northEast.lat=1/0),l.getSouth()<=-h&&(l._southWest.lat=-1/0)),l},_animationAddLayerNonAnimated:function(l,h){if(h===l)this._featureGroup.addLayer(l);else if(h._childCount===2){h._addToMap();var _=h.getAllChildMarkers();this._featureGroup.removeLayer(_[0]),this._featureGroup.removeLayer(_[1])}else h._updateIcon()},_extractNonGroupLayers:function(l,h){var _,m=l.getLayers(),x=0;for(h=h||[];x<m.length;x++)(_=m[x])instanceof L.LayerGroup?this._extractNonGroupLayers(_,h):h.push(_);return h},_overrideMarkerIcon:function(l){return l.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[l]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(l,h){this._animationAddLayerNonAnimated(l,h)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(l,h){var _,m=this._getExpandedVisibleBounds(),x=this._featureGroup,b=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(m,l,b,function(k){var T,F=k._latlng,G=k._markers;for(m.contains(F)||(F=null),k._isSingleParent()&&l+1===h?(x.removeLayer(k),k._recursivelyAddChildrenToMap(null,h,m)):(k.clusterHide(),k._recursivelyAddChildrenToMap(F,h,m)),_=G.length-1;0<=_;_--)T=G[_],m.contains(T._latlng)||x.removeLayer(T)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(m,h),x.eachLayer(function(k){k instanceof L.MarkerCluster||!k._icon||k.clusterShow()}),this._topClusterLevel._recursively(m,l,h,function(k){k._recursivelyRestoreChildPositions(h)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(m,l,b,function(k){x.removeLayer(k),k.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(l,h){this._animationZoomOutSingle(this._topClusterLevel,l-1,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l,this._getExpandedVisibleBounds())},_animationAddLayer:function(l,h){var _=this,m=this._featureGroup;m.addLayer(l),h!==l&&(2<h._childCount?(h._updateIcon(),this._forceLayout(),this._animationStart(),l._setPos(this._map.latLngToLayerPoint(h.getLatLng())),l.clusterHide(),this._enqueue(function(){m.removeLayer(l),l.clusterShow(),_._animationEnd()})):(this._forceLayout(),_._animationStart(),_._animationZoomOutSingle(h,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(l,h,_){var m=this._getExpandedVisibleBounds(),x=Math.floor(this._map.getMinZoom());l._recursivelyAnimateChildrenInAndAddSelfToMap(m,x,h+1,_);var b=this;this._forceLayout(),l._recursivelyBecomeVisible(m,_),this._enqueue(function(){if(l._childCount===1){var k=l._markers[0];this._ignoreMove=!0,k.setLatLng(k.getLatLng()),this._ignoreMove=!1,k.clusterShow&&k.clusterShow()}else l._recursively(m,_,x,function(T){T._recursivelyRemoveChildrenFromMap(m,x,h+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(l){return new L.MarkerClusterGroup(l)};var p=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(l,h,_,m){L.Marker.prototype.initialize.call(this,_?_._cLatLng||_.getLatLng():new L.LatLng(0,0),{icon:this,pane:l.options.clusterPane}),this._group=l,this._zoom=h,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,_&&this._addChild(_),m&&this._addChild(m)},getAllChildMarkers:function(l,h){l=l||[];for(var _=this._childClusters.length-1;0<=_;_--)this._childClusters[_].getAllChildMarkers(l,h);for(var m=this._markers.length-1;0<=m;m--)h&&this._markers[m].__dragStart||l.push(this._markers[m]);return l},getChildCount:function(){return this._childCount},zoomToBounds:function(l){for(var h,_=this._childClusters.slice(),m=this._group._map,x=m.getBoundsZoom(this._bounds),b=this._zoom+1,k=m.getZoom();0<_.length&&b<x;){b++;var T=[];for(h=0;h<_.length;h++)T=T.concat(_[h]._childClusters);_=T}b<x?this._group._map.setView(this._latlng,b):x<=k?this._group._map.setView(this._latlng,k+1):this._group._map.fitBounds(this._bounds,l)},getBounds:function(){var l=new L.LatLngBounds;return l.extend(this._bounds),l},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(l,h){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(l),l instanceof L.MarkerCluster?(h||(this._childClusters.push(l),l.__parent=this),this._childCount+=l._childCount):(h||this._markers.push(l),this._childCount++),this.__parent&&this.__parent._addChild(l,!0)},_setClusterCenter:function(l){this._cLatLng||(this._cLatLng=l._cLatLng||l._latlng)},_resetBounds:function(){var l=this._bounds;l._southWest&&(l._southWest.lat=1/0,l._southWest.lng=1/0),l._northEast&&(l._northEast.lat=-1/0,l._northEast.lng=-1/0)},_recalculateBounds:function(){var l,h,_,m,x=this._markers,b=this._childClusters,k=0,T=0,F=this._childCount;if(F!==0){for(this._resetBounds(),l=0;l<x.length;l++)_=x[l]._latlng,this._bounds.extend(_),k+=_.lat,T+=_.lng;for(l=0;l<b.length;l++)(h=b[l])._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),_=h._wLatLng,m=h._childCount,k+=_.lat*m,T+=_.lng*m;this._latlng=this._wLatLng=new L.LatLng(k/F,T/F),this._boundsNeedUpdate=!1}},_addToMap:function(l){l&&(this._backupLatlng=this._latlng,this.setLatLng(l)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(l,h,_){this._recursively(l,this._group._map.getMinZoom(),_-1,function(m){var x,b,k=m._markers;for(x=k.length-1;0<=x;x--)(b=k[x])._icon&&(b._setPos(h),b.clusterHide())},function(m){var x,b,k=m._childClusters;for(x=k.length-1;0<=x;x--)(b=k[x])._icon&&(b._setPos(h),b.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(l,h,_,m){this._recursively(l,m,h,function(x){x._recursivelyAnimateChildrenIn(l,x._group._map.latLngToLayerPoint(x.getLatLng()).round(),_),x._isSingleParent()&&_-1===m?(x.clusterShow(),x._recursivelyRemoveChildrenFromMap(l,h,_)):x.clusterHide(),x._addToMap()})},_recursivelyBecomeVisible:function(l,h){this._recursively(l,this._group._map.getMinZoom(),h,null,function(_){_.clusterShow()})},_recursivelyAddChildrenToMap:function(l,h,_){this._recursively(_,this._group._map.getMinZoom()-1,h,function(m){if(h!==m._zoom)for(var x=m._markers.length-1;0<=x;x--){var b=m._markers[x];_.contains(b._latlng)&&(l&&(b._backupLatlng=b.getLatLng(),b.setLatLng(l),b.clusterHide&&b.clusterHide()),m._group._featureGroup.addLayer(b))}},function(m){m._addToMap(l)})},_recursivelyRestoreChildPositions:function(l){for(var h=this._markers.length-1;0<=h;h--){var _=this._markers[h];_._backupLatlng&&(_.setLatLng(_._backupLatlng),delete _._backupLatlng)}if(l-1===this._zoom)for(var m=this._childClusters.length-1;0<=m;m--)this._childClusters[m]._restorePosition();else for(var x=this._childClusters.length-1;0<=x;x--)this._childClusters[x]._recursivelyRestoreChildPositions(l)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(l,h,_,m){var x,b;this._recursively(l,h-1,_-1,function(k){for(b=k._markers.length-1;0<=b;b--)x=k._markers[b],m&&m.contains(x._latlng)||(k._group._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow())},function(k){for(b=k._childClusters.length-1;0<=b;b--)x=k._childClusters[b],m&&m.contains(x._latlng)||(k._group._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow())})},_recursively:function(l,h,_,m,x){var b,k,T=this._childClusters,F=this._zoom;if(h<=F&&(m&&m(this),x&&F===_&&x(this)),F<h||F<_)for(b=T.length-1;0<=b;b--)(k=T[b])._boundsNeedUpdate&&k._recalculateBounds(),l.intersects(k._bounds)&&k._recursively(l,h,_,m,x)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var l=this.options.opacity;return this.setOpacity(0),this.options.opacity=l,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(l){this._cellSize=l,this._sqCellSize=l*l,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(l,h){var _=this._getCoord(h.x),m=this._getCoord(h.y),x=this._grid,b=x[m]=x[m]||{},k=b[_]=b[_]||[],T=L.Util.stamp(l);this._objectPoint[T]=h,k.push(l)},updateObject:function(l,h){this.removeObject(l),this.addObject(l,h)},removeObject:function(l,h){var _,m,x=this._getCoord(h.x),b=this._getCoord(h.y),k=this._grid,T=k[b]=k[b]||{},F=T[x]=T[x]||[];for(delete this._objectPoint[L.Util.stamp(l)],_=0,m=F.length;_<m;_++)if(F[_]===l)return F.splice(_,1),m===1&&delete T[x],!0},eachObject:function(l,h){var _,m,x,b,k,T,F=this._grid;for(_ in F)for(m in k=F[_])for(x=0,b=(T=k[m]).length;x<b;x++)l.call(h,T[x])&&(x--,b--)},getNearObject:function(l){var h,_,m,x,b,k,T,F,G=this._getCoord(l.x),X=this._getCoord(l.y),bt=this._objectPoint,st=this._sqCellSize,ut=null;for(h=X-1;h<=X+1;h++)if(x=this._grid[h]){for(_=G-1;_<=G+1;_++)if(b=x[_])for(m=0,k=b.length;m<k;m++)T=b[m],((F=this._sqDist(bt[L.Util.stamp(T)],l))<st||F<=st&&ut===null)&&(st=F,ut=T)}return ut},_getCoord:function(l){var h=Math.floor(l/this._cellSize);return isFinite(h)?h:l},_sqDist:function(l,h){var _=h.x-l.x,m=h.y-l.y;return _*_+m*m}},L.QuickHull={getDistant:function(l,h){var _=h[1].lat-h[0].lat;return(h[0].lng-h[1].lng)*(l.lat-h[0].lat)+_*(l.lng-h[0].lng)},findMostDistantPointFromBaseLine:function(l,h){var _,m,x,b=0,k=null,T=[];for(_=h.length-1;0<=_;_--)m=h[_],0<(x=this.getDistant(m,l))&&(T.push(m),b<x&&(b=x,k=m));return{maxPoint:k,newPoints:T}},buildConvexHull:function(l,h){var _=[],m=this.findMostDistantPointFromBaseLine(l,h);return m.maxPoint?_=(_=_.concat(this.buildConvexHull([l[0],m.maxPoint],m.newPoints))).concat(this.buildConvexHull([m.maxPoint,l[1]],m.newPoints)):[l[0]]},getConvexHull:function(l){var h,_=!1,m=!1,x=!1,b=!1,k=null,T=null,F=null,G=null,X=null,bt=null;for(h=l.length-1;0<=h;h--){var st=l[h];(_===!1||st.lat>_)&&(_=(k=st).lat),(m===!1||st.lat<m)&&(m=(T=st).lat),(x===!1||st.lng>x)&&(x=(F=st).lng),(b===!1||st.lng<b)&&(b=(G=st).lng)}return X=m!==_?(bt=T,k):(bt=G,F),[].concat(this.buildConvexHull([bt,X],l),this.buildConvexHull([X,bt],l))}},L.MarkerCluster.include({getConvexHull:function(){var l,h,_=this.getAllChildMarkers(),m=[];for(h=_.length-1;0<=h;h--)l=_[h].getLatLng(),m.push(l);return L.QuickHull.getConvexHull(m)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var l,h=this.getAllChildMarkers(null,!0),_=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),l=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(h.length,_):h.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(h.length,_):(_.y+=10,this._generatePointsCircle(h.length,_)),this._animationSpiderfy(h,l)}},unspiderfy:function(l){this._group._inZoomAnimation||(this._animationUnspiderfy(l),this._group._spiderfied=null)},_generatePointsCircle:function(l,h){var _,m,x=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+l)/this._2PI,b=this._2PI/l,k=[];for(x=Math.max(x,35),k.length=l,_=0;_<l;_++)m=this._circleStartAngle+_*b,k[_]=new L.Point(h.x+x*Math.cos(m),h.y+x*Math.sin(m))._round();return k},_generatePointsSpiral:function(l,h){var _,m=this._group.options.spiderfyDistanceMultiplier,x=m*this._spiralLengthStart,b=m*this._spiralFootSeparation,k=m*this._spiralLengthFactor*this._2PI,T=0,F=[];for(_=F.length=l;0<=_;_--)_<l&&(F[_]=new L.Point(h.x+x*Math.cos(T),h.y+x*Math.sin(T))._round()),x+=k/(T+=b/x+5e-4*_);return F},_noanimationUnspiderfy:function(){var l,h,_=this._group,m=_._map,x=_._featureGroup,b=this.getAllChildMarkers(null,!0);for(_._ignoreMove=!0,this.setOpacity(1),h=b.length-1;0<=h;h--)l=b[h],x.removeLayer(l),l._preSpiderfyLatlng&&(l.setLatLng(l._preSpiderfyLatlng),delete l._preSpiderfyLatlng),l.setZIndexOffset&&l.setZIndexOffset(0),l._spiderLeg&&(m.removeLayer(l._spiderLeg),delete l._spiderLeg);_.fire("unspiderfied",{cluster:this,markers:b}),_._ignoreMove=!1,_._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(l,h){var _,m,x,b,k=this._group,T=k._map,F=k._featureGroup,G=this._group.options.spiderLegPolylineOptions;for(k._ignoreMove=!0,_=0;_<l.length;_++)b=T.layerPointToLatLng(h[_]),m=l[_],x=new L.Polyline([this._latlng,b],G),T.addLayer(x),m._spiderLeg=x,m._preSpiderfyLatlng=m._latlng,m.setLatLng(b),m.setZIndexOffset&&m.setZIndexOffset(1e6),F.addLayer(m);this.setOpacity(.3),k._ignoreMove=!1,k.fire("spiderfied",{cluster:this,markers:l})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(l,h){var _,m,x,b,k,T,F=this,G=this._group,X=G._map,bt=G._featureGroup,st=this._latlng,ut=X.latLngToLayerPoint(st),$=L.Path.SVG,lt=L.extend({},this._group.options.spiderLegPolylineOptions),xt=lt.opacity;for(xt===void 0&&(xt=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(lt.opacity=0,lt.className=(lt.className||"")+" leaflet-cluster-spider-leg"):lt.opacity=xt,G._ignoreMove=!0,_=0;_<l.length;_++)m=l[_],T=X.layerPointToLatLng(h[_]),x=new L.Polyline([st,T],lt),X.addLayer(x),m._spiderLeg=x,$&&(k=(b=x._path).getTotalLength()+.1,b.style.strokeDasharray=k,b.style.strokeDashoffset=k),m.setZIndexOffset&&m.setZIndexOffset(1e6),m.clusterHide&&m.clusterHide(),bt.addLayer(m),m._setPos&&m._setPos(ut);for(G._forceLayout(),G._animationStart(),_=l.length-1;0<=_;_--)T=X.layerPointToLatLng(h[_]),(m=l[_])._preSpiderfyLatlng=m._latlng,m.setLatLng(T),m.clusterShow&&m.clusterShow(),$&&((b=(x=m._spiderLeg)._path).style.strokeDashoffset=0,x.setStyle({opacity:xt}));this.setOpacity(.3),G._ignoreMove=!1,setTimeout(function(){G._animationEnd(),G.fire("spiderfied",{cluster:F,markers:l})},200)},_animationUnspiderfy:function(l){var h,_,m,x,b,k,T=this,F=this._group,G=F._map,X=F._featureGroup,bt=l?G._latLngToNewLayerPoint(this._latlng,l.zoom,l.center):G.latLngToLayerPoint(this._latlng),st=this.getAllChildMarkers(null,!0),ut=L.Path.SVG;for(F._ignoreMove=!0,F._animationStart(),this.setOpacity(1),_=st.length-1;0<=_;_--)(h=st[_])._preSpiderfyLatlng&&(h.closePopup(),h.setLatLng(h._preSpiderfyLatlng),delete h._preSpiderfyLatlng,k=!0,h._setPos&&(h._setPos(bt),k=!1),h.clusterHide&&(h.clusterHide(),k=!1),k&&X.removeLayer(h),ut&&(b=(x=(m=h._spiderLeg)._path).getTotalLength()+.1,x.style.strokeDashoffset=b,m.setStyle({opacity:0})));F._ignoreMove=!1,setTimeout(function(){var $=0;for(_=st.length-1;0<=_;_--)(h=st[_])._spiderLeg&&$++;for(_=st.length-1;0<=_;_--)(h=st[_])._spiderLeg&&(h.clusterShow&&h.clusterShow(),h.setZIndexOffset&&h.setZIndexOffset(0),1<$&&X.removeLayer(h),G.removeLayer(h._spiderLeg),delete h._spiderLeg);F._animationEnd(),F.fire("unspiderfied",{cluster:T,markers:st})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(l){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(l))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(l){this._spiderfied&&this._spiderfied.unspiderfy(l)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(l){l._spiderLeg&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),this._map.removeLayer(l._spiderLeg),delete l._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(l){return l?l instanceof L.MarkerClusterGroup?l=l._topClusterLevel.getAllChildMarkers():l instanceof L.LayerGroup?l=l._layers:l instanceof L.MarkerCluster?l=l.getAllChildMarkers():l instanceof L.Marker&&(l=[l]):l=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(l),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(l),this},_flagParentsIconsNeedUpdate:function(l){var h,_;for(h in l)for(_=l[h].__parent;_;)_._iconNeedsUpdate=!0,_=_.__parent},_refreshSingleMarkerModeMarkers:function(l){var h,_;for(h in l)_=l[h],this.hasLayer(_)&&_.setIcon(this._overrideMarkerIcon(_))}}),L.Marker.include({refreshIconOptions:function(l,h){var _=this.options.icon;return L.setOptions(_,l),this.setIcon(_),h&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),s.MarkerClusterGroup=u,s.MarkerCluster=p,Object.defineProperty(s,"__esModule",{value:!0})})})(Vd,Vd.exports);const dC={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","drag:layer","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start"],setup(t,{expose:i,emit:s}){delete Un.Icon.Default.prototype._getIconUrl,Un.Icon.Default.mergeOptions({iconRetinaUrl:tC,iconUrl:eC,shadowUrl:nC});const u=t,p=s;let l,h,_,m;const x=Zt(null),b=ce(()=>({maxZoom:u.zoomBounds,zoom:{animate:u.zoomAnimate}}));yn(()=>u.geojson,$=>{m.clearLayers(),st($)},{deep:!0}),yn(()=>u.dragging,$=>{$?l.dragging.enable():l.dragging.disable()});function k(){const $={maxClusterRadius:u.maxClusterRadius};return u.clusterIconCreateFunction&&Object.assign($,{iconCreateFunction:lt=>u.clusterIconCreateFunction({L:Un,cluster:lt})}),$}Mn(()=>{const $=YL(Un,{maxZoom:u.maxZoom,minZoom:u.minZoom,className:"map-tiles"}),[lt]=Object.values($),xt={center:u.center,zoom:u.zoom,worldCopyJump:!0,dragging:u.dragging,maxZoom:u.maxZoom};u.disableZoom&&Object.assign(xt,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),_=new Un.FeatureGroup,m=u.cluster?new Un.markerClusterGroup(k()):new Un.FeatureGroup,l=Un.map(x.value,xt),l.attributionControl.setPrefix(u.prefix),l.pm.setGlobalOptions({layerGroup:_}),m.addTo(l),l.addLayer(_),l.addLayer(m),u.geojson&&st(u.geojson),u.controls&&(l.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),l.on("pm:create",vt=>{p("geojson",T()),p("add:layer",G(vt.layer))}),_.on("pm:edit",vt=>{p("geojson",T()),p("edit:layer",G(vt.layer))}),l.on("pm:drawstart",vt=>{F(),p("draw:start",vt)}),l.on("zoom",vt=>p("zoom:change",vt)),l.on("zoomstart",vt=>p("zoom:start",vt))),lt.addTo(l),Object.keys($).length>1&&Un.control.layers($,{},{position:"topleft",collapsed:!1}).addTo(l),bt()});function T(){const $=Un.featureGroup();return _.eachLayer(lt=>{(lt instanceof Un.Path||lt instanceof Un.Marker)&&lt.pm&&$.addLayer(lt)}),$.toGeoJSON()}function F(){_.clearLayers()}function G($){const lt=$.toGeoJSON();return typeof $.getRadius=="function"&&(lt.properties.radius=$.getRadius()),lt}const X=()=>{if(!m)return;const $=m.getBounds();l.invalidateSize(),Sl(()=>{Object.keys($).length&&l.fitBounds($,b.value)})},bt=()=>{h=new ResizeObserver($=>{$[0].contentRect,X()}),h.observe(x.value)};Xr(()=>{m.clearLayers(),h==null||h.disconnect()});function st($){if($){const lt={L:Un};Un.geoJSON($,{...hC(lt),...u.geojsonOptions(lt)}).addTo(m);const xt=m.getBounds();xt.isValid()&&l.fitBounds(xt,b.value)}p("geojson:ready",m)}function ut(){return l}return i({clearDrawLayers:F,getMapObject:ut,resizeMap:X}),($,lt)=>(I(),Q("div",{ref_key:"leafletMap",ref:x,style:Oi({width:u.width,height:u.height})},null,4))}};function pC(t){fC(t,Object.assign({"/src/components/Map/VMap.client.vue":dC}))}function fC(t,i){Object.entries(i).forEach(([u,p])=>{const l=u.split("/").pop().replace(/\.client.\w+$/,"");t.component(l,p)})}const _C=["innerHTML"],mC={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},gC=Y("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1),yC=[gC],vC={key:1,class:"inline h-4 w-1"},bC=Y("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1),xC=[bC],LC=["innerHTML"],CC={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(t){const i=t,s=ce(()=>{const[p,...l]=i.items;return{username:p,host:l}});function u(){const[p,...l]=i.items;document.location.href=`mailto:${p}@${l.join(".")}`}return(p,l)=>(I(),Q("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:u},[Y("span",{innerHTML:s.value.username},null,8,_C),(I(!0),Q(Wt,null,Ce(s.value.host,(h,_)=>(I(),Q(Wt,null,[_===0?(I(),Q("svg",mC,yC)):(I(),Q("svg",vC,xC)),Y("span",{innerHTML:h},null,8,LC)],64))),256))]))}},wC={};function kC(t,i){return I(),St(Fl,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:ft(()=>[Ue(t.$slots,"default")]),_:3})}const MC=ge(wC,[["render",kC]]),EC={},PC={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},BC=mg('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),SC=[BC];function TC(t,i){return I(),Q("svg",PC,SC)}const AC=ge(EC,[["render",TC]]),OC={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},DC={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},RC=["placeholder"],IC={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},FC=["onClick"],NC=["innerHTML"],jC=500,zC={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:i}){const s=t,u=i,p=Zt(""),l=Zt([]),h=Zt(!1),_=Zt(null);let m;yn(p,b=>{clearTimeout(m),b.length?m=setTimeout(()=>{h.value=!0,dn.get(s.url,{params:{...s.params,[s.queryParam]:p.value}}).then(({data:k})=>{h.value=!1,l.value=k})},jC):l.value=[]});const x=b=>{u("select",b),p.value=""};return Mn(()=>{s.autofocus&&_.value.focus()}),(b,k)=>{const T=_t("IconSearch");return I(),Q("div",OC,[Y("div",DC,[et(T,{class:"w-4 h-4 text-gray-500"})]),ia(Y("input",{"onUpdate:modelValue":k[0]||(k[0]=F=>p.value=F),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:_},null,8,RC),[[Jg,p.value]]),h.value?(I(),St(AC,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Ft("",!0),l.value.length?(I(),Q("ul",IC,[(I(!0),Q(Wt,null,Ce(l.value,F=>(I(),Q("li",{key:F.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:G=>x(F)},[Y("span",{innerHTML:F[t.label]},null,8,NC)],8,FC))),128))])):Ft("",!0)])}}},r_=ge(zC,[["__scopeId","data-v-bd0dac97"]]),GC={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const i=oa(),s=({id:u,otu_valid_id:p})=>{i.push({name:"otus-id-overview",params:{id:p||u}})};return(u,p)=>(I(),St(r_,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:s},null,8,["autofocus"]))}},VC=["title"],$C={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:i}){const s=t,u=i,p=ce({get(){return s.modelValue},set(l){u("update:modelValue",l)}});return(l,h)=>{const _=_t("IconMinusCircle"),m=_t("IconPlusCircle");return I(),Q("button",{type:"button",title:p.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:h[0]||(h[0]=x=>p.value=!p.value)},[p.value?(I(),St(_,{key:0,class:"w-5 h-5"})):(I(),St(m,{key:1,class:"w-5 h-5"}))],8,VC)}}},HC={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(i,s)=>(I(),Q("button",{type:"button",class:pn(["px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Ue(i.$slots,"default")],2))}},UC={},ZC={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function qC(t,i){return I(),Q("div",ZC,[Ue(t.$slots,"default")])}const KC=ge(UC,[["render",qC]]),WC={},JC={class:"p-4 pl-5 pr-5"};function YC(t,i){return I(),Q("div",JC,[Ue(t.$slots,"default")])}const XC=ge(WC,[["render",YC]]),QC={},tw={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function ew(t,i){return I(),Q("div",tw,[Ue(t.$slots,"default")])}const nw=ge(QC,[["render",ew]]),iw={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const i=t,s=Zt(!1);let u;function p(){navigator.clipboard.writeText(i.text).then(()=>{s.value=!0,u=setTimeout(()=>{s.value=!1},i.delay)})}return Ji(()=>{clearTimeout(u)}),(l,h)=>{const _=_t("IconCheck"),m=_t("IconClipboard"),x=_t("VButton");return I(),St(x,{class:"px-2 py-2 rounded-full",primary:"",onClick:p},{default:ft(()=>[s.value?(I(),St(_,{key:0,class:"w-4 h-4"})):(I(),St(m,{key:1,class:"w-4 h-4"}))]),_:1})}}},rw={class:"relative inline"},ow=["onClick"],sw={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const i=Zt(null),s=Zt(!1),u=()=>{s.value=!s.value},p=h=>{s.value=!1,h.action()};function l(h){var _;(!h.target||!((_=i.value)!=null&&_.contains(h.target)))&&(s.value=!1)}return Mn(()=>{document.addEventListener("pointerdown",l,{passive:!0,capture:!0})}),Ji(()=>{document.removeEventListener("pointerdown",l,{capture:!0})}),(h,_)=>(I(),Q("div",rw,[Y("button",{title:"Menu",onClick:u},[Ue(h.$slots,"button")]),s.value?(I(),Q("ul",{key:0,ref_key:"element",ref:i,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(I(!0),Q(Wt,null,Ce(t.items,m=>(I(),Q("li",{key:m.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:x=>p(m)},oe(m.label),9,ow))),128))],512)):Ft("",!0)]))}};function o_({props:t}){const i=Zt([]);function s(u){var p,l;return{id:u.id,objectId:u.depiction_object_id,objectType:u.depiction_object_type,objectLabel:u.depiction_object.label,label:u.label,imageOriginal:u.image.original,imageMedium:u.image.medium,attribution:((p=u.attribution)==null?void 0:p.label)||"",labelAttribution:[u.depiction_object.label,((l=u.attribution)==null?void 0:l.label)||""].join(" ")}}return yn(()=>t.depictionId,u=>{u.length&&dn.get("/depictions/gallery",{params:{depiction_id:u}}).then(({data:p})=>{i.value=p.map(s).sort((l,h)=>t.depictionId.indexOf(l.id)-t.depictionId.indexOf(h.id))})},{immediate:!0}),{depictions:i}}const aw=["src","alt"],lw={class:"bg-black bg-opacity-25 absolute h-full w-full"},uw={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},cw=["innerHTML"],hw={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(t){const i=t,{depictions:s}=o_({props:i}),u=Zt(0),p=ce(()=>({height:i.height})),l=ce(()=>s.value[u.value]||{}),h=ce(()=>l.value.objectType==="Otu"),_=ce(()=>[l.value.objectLabel,l.value.attribution].join(" "));let m=null;function x(){u.value=(u.value+1)%s.value.length}return yn(s,()=>{i.interval?(clearInterval(m),m=setInterval(x,i.interval)):u.value=Math.floor(Math.random()*s.value.length)}),Ji(()=>{clearInterval(m)}),(b,k)=>{const T=_t("RouterLink");return I(),Q("div",{class:"w-full relative",style:Oi(p.value)},[et(Fl,{name:"fade"},{default:ft(()=>[l.value.imageOriginal?(I(),Q("img",{key:l.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:l.value.imageOriginal,alt:l.value.label},null,8,aw)):Ft("",!0)]),_:1}),Y("div",lw,[Ue(b.$slots,"default",{},void 0,!0)]),l.value.objectId?(I(),Q("span",uw,[h.value?(I(),St(T,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:l.value.objectId}},innerHTML:_.value},null,8,["to","innerHTML"])):(I(),Q("span",{key:1,innerHTML:_.value},null,8,cw))])):Ft("",!0)],4)}}},dw=ge(hw,[["__scopeId","data-v-0e946aee"]]),pw={class:"h-80 max-h-80 flex items-center justify-center"},fw=["textContent"],_w=["src","alt"],mw={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:i}){const s=t,u=i,p=Zt(!1),l=Zt(null),h=Zt(null);yn(()=>s.image,x=>{x.original&&(h.value=null,p.value=!0)});function _(x){x.preventDefault(),p.value=!1,h.value="Image was not found or format is not supported"}function m(){p.value=!1}return Mn(()=>{l.value.addEventListener("load",m),l.value.addEventListener("error",_)}),(x,b)=>{var F;const k=_t("VSpinner"),T=_t("ClientOnly");return I(),Q("div",pw,[et(T,null,{default:ft(()=>[p.value?(I(),St(k,{key:0})):Ft("",!0)]),_:1}),h.value?(I(),Q("span",{key:0,textContent:oe(h.value)},null,8,fw)):Ft("",!0),ia(Y("img",{ref_key:"imageElement",ref:l,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:t.image.original,alt:(F=t.image.depictions)==null?void 0:F.map(G=>G.label).join(";"),onClick:b[0]||(b[0]=G=>u("open:viewer"))},null,8,_w),[[Nl,!h.value]])])}}},gw={class:"flex flex-col"},yw={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},vw={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const i=t,s=Zt(!1),u=Zt(0),p=ce(()=>i.images[u.value]||{}),l=()=>{u.value--},h=()=>{u.value++};return yn(()=>i.images,()=>{u.value=0},{immediate:!0}),(_,m)=>{const x=_t("ImageViewer");return I(),Q(Wt,null,[Y("div",gw,[Y("div",yw,[et(mw,{image:p.value,"onOpen:viewer":m[0]||(m[0]=()=>s.value=!0)},null,8,["image"])]),et(wl,{class:"pt-2 pb-2",images:t.images,onSelectIndex:m[1]||(m[1]=b=>{u.value=b})},null,8,["images"])]),s.value?(I(),St(x,{key:0,index:u.value,images:t.images,next:u.value<i.images.length-1,previous:u.value>0,onSelectIndex:m[2]||(m[2]=b=>u.value=b),onNext:m[3]||(m[3]=b=>h()),onPrevious:m[4]||(m[4]=b=>l()),onClose:m[5]||(m[5]=b=>s.value=!1)},null,8,["index","images","next","previous"])):Ft("",!0)],64)}}},bw=["src"],xw=["innerHTML"],Lw={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(t){const i=t,s=ce(()=>({height:i.imageHeight}));function u(l){return l.objectType==="Otu"?"RouterLink":"div"}const{depictions:p}=o_({props:i});return(l,h)=>(I(),Q("div",{class:pn(["grid","gap-2",{"grid-flow-col":!i.wrap}]),style:Oi(i.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${i.imageWidth}, 1fr))`)},[(I(!0),Q(Wt,null,Ce(ee(p),_=>(I(),St(Uo(u(_)),{key:_.id,to:{name:"otus-id",params:{id:_.objectId}}},{default:ft(()=>[Y("img",{src:_.imageMedium,style:Oi(s.value),class:"max-w-full my-0 object-cover w-full"},null,12,bw),t.label?(I(),Q("span",{key:0,class:"text-sm",innerHTML:_.labelAttribution},null,8,xw)):Ft("",!0)]),_:2},1032,["to"]))),128))],6))}},Cw={},ww={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},kw=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),Mw=[kw];function Ew(t,i){return I(),Q("svg",ww,Mw)}const Pw=ge(Cw,[["render",Ew]]),Bw={},Sw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Tw=Y("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),Aw=[Tw];function Ow(t,i){return I(),Q("svg",Sw,Aw)}const Dw=ge(Bw,[["render",Ow]]),Rw={},Iw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Fw=Y("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),Nw=[Fw];function jw(t,i){return I(),Q("svg",Iw,Nw)}const zw=ge(Rw,[["render",jw]]),Gw={},Vw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$w=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),Hw=[$w];function Uw(t,i){return I(),Q("svg",Vw,Hw)}const Zw=ge(Gw,[["render",Uw]]),qw={},Kw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ww=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),Jw=[Ww];function Yw(t,i){return I(),Q("svg",Kw,Jw)}const Xw=ge(qw,[["render",Yw]]),Qw={},t3={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},e3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),n3=[e3];function i3(t,i){return I(),Q("svg",t3,n3)}const r3=ge(Qw,[["render",i3]]),o3={},s3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},a3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),l3=[a3];function u3(t,i){return I(),Q("svg",s3,l3)}const c3=ge(o3,[["render",u3]]),h3={},d3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},p3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),f3=[p3];function _3(t,i){return I(),Q("svg",d3,f3)}const m3=ge(h3,[["render",_3]]),g3={},y3={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"},v3=Y("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),b3=[v3];function x3(t,i){return I(),Q("svg",y3,b3)}const L3=ge(g3,[["render",x3]]),C3={},w3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},k3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),M3=[k3];function E3(t,i){return I(),Q("svg",w3,M3)}const P3=ge(C3,[["render",E3]]),B3={},S3={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},T3=Y("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),A3=[T3];function O3(t,i){return I(),Q("svg",S3,A3)}const D3=ge(B3,[["render",O3]]),R3={},I3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},F3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),N3=[F3];function j3(t,i){return I(),Q("svg",I3,N3)}const z3=ge(R3,[["render",j3]]),G3={},V3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),H3=[$3];function U3(t,i){return I(),Q("svg",V3,H3)}const Z3=ge(G3,[["render",U3]]),q3={},K3={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},W3=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),J3=[W3];function Y3(t,i){return I(),Q("svg",K3,J3)}const X3=ge(q3,[["render",Y3]]),Q3={},tk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ek=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),nk=[ek];function ik(t,i){return I(),Q("svg",tk,nk)}const rk=ge(Q3,[["render",ik]]),ok={},sk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ak=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),lk=[ak];function uk(t,i){return I(),Q("svg",sk,lk)}const ck=ge(ok,[["render",uk]]),hk={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(i,s)=>(I(),Q("div",null,[Y("p",null,oe(t.attribution.label),1)]))}},dk={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(i,s)=>(I(),Q("div",null,[(I(!0),Q(Wt,null,Ce(t.depictions,u=>(I(),Q("div",{key:u.id},[Y("p",null,oe(u.label),1)]))),128))]))}},pk=["innerHTML"],fk={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(i,s)=>(I(),Q("div",null,[Y("p",{innerHTML:t.source.label},null,8,pk)]))}},_k={class:"p-2 text-black dark:text-white opacity-50"},mk={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(i,s)=>(I(),Q("span",_k,oe(t.currentImage+1)+"/"+oe(t.totalImages),1))}},gk={},yk={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function vk(t,i){const s=_t("IconArrowRight");return I(),Q("button",yk,[et(s,{class:"h-8 w-8"})])}const bk=ge(gk,[["render",vk]]),xk={},Lk={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function Ck(t,i){const s=_t("IconArrowLeft");return I(),Q("button",Lk,[et(s,{class:"h-8 w-8"})])}const wk=ge(xk,[["render",Ck]]),kk={},Mk={class:"p-2 box-border flex justify-between"};function Ek(t,i){return I(),Q("div",Mk,[Y("div",null,[Ue(t.$slots,"default")]),Y("div",null,[Ue(t.$slots,"right")])])}const Pk=ge(kk,[["render",Ek]]),Bk={},Sk={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function Tk(t,i){const s=_t("IconClose");return I(),Q("button",Sk,[et(s)])}const Ak=ge(Bk,[["render",Tk]]),Ok={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},Dk={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},Rk=["textContent"],Ik=["alt","src"],Fk={class:"bottom-0 fixed max-w-full w-full"},Nk={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},jk={class:"flex justify-center"},zk={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:i}){const s=t,u=i,p=({key:k})=>{switch(k){case"ArrowLeft":s.previous&&u("previous");break;case"ArrowRight":s.next&&u("next");break;case"Escape":u("close");break}},l=Zt(null),h=Zt(!1),_=Zt(null),m=ce(()=>s.images[s.index]);document.addEventListener("keyup",p);function x(){h.value=!1,_.value="Image was not found or format is not supported"}function b(){h.value=!1}return Mn(()=>{l.value.addEventListener("load",b),l.value.addEventListener("error",x),document.body.classList.add("overflow-hidden")}),Xr(()=>{document.removeEventListener("keyup",p),document.body.classList.remove("overflow-hidden")}),yn(()=>s.index,()=>{_.value=null,h.value=!0}),(k,T)=>{var G,X;const F=_t("VSpinner");return I(),Q("div",Ok,[Y("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:T[3]||(T[3]=xl(()=>{},["stop"]))},[Y("div",Dk,[h.value?(I(),St(F,{key:0})):Ft("",!0),_.value?(I(),Q("div",{key:1,class:"flex flex-col justify-center",textContent:oe(_.value)},null,8,Rk)):Ft("",!0),ia(Y("img",{ref_key:"imageElement",ref:l,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(X=(G=m.value)==null?void 0:G.depictions)==null?void 0:X.map(bt=>bt.label).join(";"),src:m.value.original,onClick:T[0]||(T[0]=bt=>u("close"))},null,8,Ik),[[Nl,!_.value]]),t.next?(I(),St(bk,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[1]||(T[1]=bt=>u("next"))})):Ft("",!0),t.previous?(I(),St(wk,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[2]||(T[2]=bt=>u("previous"))})):Ft("",!0)])]),Y("div",Fk,[Y("div",Nk,[et(dk,{class:"my-auto",depictions:m.value.depictions},null,8,["depictions"]),et(hk,{class:"my-auto",attribution:m.value.attribution},null,8,["attribution"]),et(fk,{class:"my-auto",source:m.value.source},null,8,["source"])]),Y("div",jk,[et(wl,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:T[4]||(T[4]=bt=>u("selectIndex",bt)),onClick:T[5]||(T[5]=xl(()=>{},["stop"]))},null,8,["current","images"])])]),et(Pk,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:ft(()=>[et(Ak,{onClick:T[6]||(T[6]=bt=>u("close"))})]),default:ft(()=>[et(mk,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},Gk="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",Vk={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(t){const i=t,s={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},u=ce(()=>s[i.frontmatter.layout]||Gk);return(p,l)=>(I(),St(Uo(t.tag),{class:pn(u.value)},{default:ft(()=>[Ue(p.$slots,"default")]),_:3},8,["class"]))}},$k={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},Hk=Y("span",null,null,-1),Uk={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},Zk={__name:"VModal.global",emits:["close"],setup(t,{emit:i}){const s=i,u=p=>{p.key==="Escape"&&(p.stopPropagation(),s("close"))};return Mn(()=>{document.addEventListener("keydown",u),document.body.classList.add("overflow-hidden")}),Xr(()=>{document.removeEventListener("keydown",u),document.body.classList.remove("overflow-hidden")}),(p,l)=>{const h=_t("IconClose");return I(),Q("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:l[2]||(l[2]=_=>s("close")),onKey:l[3]||(l[3]=xl(_=>s("close"),["stop"]))},[Y("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:l[1]||(l[1]=xl(()=>{},["stop"]))},[Y("div",$k,[Ue(p.$slots,"header",{},()=>[Hk]),et(h,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:l[0]||(l[0]=()=>s("close"))})]),Y("div",Uk,[Ue(p.$slots,"default")]),Y("div",null,[Ue(p.$slots,"footer")])])],32)}}},qk={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},Kk=["disabled"],Wk={role:"presentation",class:"page-item"},Jk=["disabled"],Yk={key:0,class:"border border-base-border px-2 py-1.5"},Xk={key:0,class:"page-item"},Qk=["disabled","onClick"],tM={key:1,class:"border border-base-border px-2 py-1.5"},eM={class:"page-item"},nM=["disabled"],iM={role:"presentation"},rM=["disabled"],oM={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(t,{emit:i}){const s=t,u=i,p=ce(()=>Math.ceil(s.total/s.per)),l=ce({get:()=>s.modelValue,set:m=>{u("update:modelValue",m)}}),h=ce(()=>s.modelValue+s.rangePages),_=ce(()=>s.modelValue-s.rangePages);return(m,x)=>(I(),Q("ul",qk,[Y("li",null,[Y("button",{type:"button",disabled:l.value<2||!p.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:x[0]||(x[0]=b=>l.value=1)},"  ",8,Kk)]),Y("li",Wk,[Y("button",{type:"button",disabled:l.value<2||!p.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:x[1]||(x[1]=b=>l.value--)},"  ",8,Jk)]),t.modelValue>s.rangePages?(I(),Q("li",Yk," ... ")):Ft("",!0),(I(!0),Q(Wt,null,Ce(p.value,b=>(I(),Q(Wt,{key:b},[b<h.value&&_.value<b?(I(),Q("li",Xk,[Y("button",{type:"button","aria-label":"Go to page 1",disabled:l.value===b,class:pn(["border","border-base-border","px-2","py-1.5",l.value===b?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>l.value=b},oe(b),11,Qk)])):Ft("",!0)],64))),128)),p.value-t.modelValue>=t.rangePages?(I(),Q("li",tM," ... ")):Ft("",!0),Y("li",eM,[Y("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:l.value===p.value||!p.value,onClick:x[2]||(x[2]=()=>l.value++)},"  ",8,nM)]),Y("li",iM,[Y("button",{type:"button",disabled:l.value===p.value||!p.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:x[3]||(x[3]=()=>l.value=p.value)},"  ",8,rM)])]))}},sM={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(t){const i=t,s=Zt({data:[]}),u=ce(()=>i.data.map(h=>h.toLowerCase())),p=ce(()=>{const h=s.value.data;return h.length?l(h):u.value.map(_=>[_,"??"])});function l(h){const _=i.data.length?h.filter(([m])=>u.value.includes(m)):h;return _.sort(([m],[x])=>u.value.indexOf(m)-u.value.indexOf(x)),_}return Mn(()=>{dn.get("/stats").then(h=>{const _=Object.entries(h.data.data).map(([m,x])=>[m.toLowerCase(),x.toLocaleString()]);s.value.data=_})}),(h,_)=>(I(),St(Uo(t.tag),null,{default:ft(()=>[(I(!0),Q(Wt,null,Ce(p.value,([m,x],b)=>Ue(h.$slots,"default",{type:m,value:x},()=>[Y("span",null,oe(m)+": "+oe(x)+oe(b<p.value.length-1?"; ":""),1)])),256))]),_:3}))}},aM={key:1},lM={__name:"ClientOnly.global",setup(t){const i=Zt(!1);return Mn(()=>{i.value=!0}),(s,u)=>i.value?Ue(s.$slots,"default",{key:0}):(I(),Q("div",aM))}},uM={class:"inline-flex items-center text-sm"},cM={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(i,s)=>{const u=_t("router-link");return I(),Q("li",uM,[et(u,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:t.to},{default:ft(()=>[Ue(i.$slots,"default")]),_:3},8,["to"])])}}},hM={},dM={class:"inline-flex items-center space-x-1 md:space-x-3"};function pM(t,i){return I(),Q("ul",dM,[Ue(t.$slots,"default")])}const fM=ge(hM,[["render",pM]]),_M={},mM={class:"relative sm:rounded-lg"},gM={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function yM(t,i){return I(),Q("div",mM,[Y("table",gM,[Ue(t.$slots,"default")])])}const vM=ge(_M,[["render",yM]]),bM={},xM={class:"normal-case text-xs"};function LM(t,i){return I(),Q("tbody",xM,[Ue(t.$slots,"default")])}const CM=ge(bM,[["render",LM]]),wM={},kM={class:"px-4 py-4"};function MM(t,i){return I(),Q("td",kM,[Ue(t.$slots,"default")])}const EM=ge(wM,[["render",MM]]),PM={},BM={class:"bg-base-foreground border-b border-base-border"};function SM(t,i){return I(),Q("tr",BM,[Ue(t.$slots,"default")])}const TM=ge(PM,[["render",SM]]),AM={},OM={class:"text-xs text-base-content uppercase bg-base-background"};function DM(t,i){return I(),Q("thead",OM,[Ue(t.$slots,"default")])}const RM=ge(AM,[["render",DM]]),IM={},FM={class:"px-4 py-3"};function NM(t,i){return I(),Q("th",FM,[Ue(t.$slots,"default")])}const jM=ge(IM,[["render",NM]]),zM={};function GM(t,i){return I(),Q("tr",null,[Ue(t.$slots,"default")])}const VM=ge(zM,[["render",GM]]);var $M={base_url:"/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:statistics","panel:content","panel:descendants"]]]},specimen_record:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},iNaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}},project_name:"The Lampyridae of the World",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"},{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],header_logo_url:null,header_logo_text:"The Lampyridae of the World",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"A5vK_pGWO-as-gL8bTjQhg"};const HM={key:1},UM=Y("h1",{class:"font-medium text-base px-1"},"Report a problem",-1),ZM={class:"font-normal p-5 pt-0 text-base"},qM=Y("span",null,"My issue is with:",-1),KM={class:"mx-5 my-2"},WM=["href"],JM={key:0,class:"text-sm"},YM="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",XM={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(t){const{issue_trackers:i}=$M,s=Zt(!1);function u(){i?s.value=!0:window.open(YM,"_blank")}return(p,l)=>{const h=_t("IconGithub"),_=_t("VModal");return I(),Q(Wt,null,[(I(),St(Uo(t.tag),{type:"button",title:"Report a problem",class:pn(t.buttonClass),onClick:u},{default:ft(()=>[t.icon?(I(),St(h,{key:0,class:"w-5 h-5"})):Ft("",!0),t.label?(I(),Q("span",HM,oe(t.label),1)):Ft("",!0)]),_:1},8,["class"])),s.value?(I(),St(_,{key:0,class:"text-base-content",onClose:l[0]||(l[0]=m=>s.value=!1)},{header:ft(()=>[UM]),default:ft(()=>[Y("div",ZM,[qM,Y("ul",KM,[(I(!0),Q(Wt,null,Ce(ee(i),m=>(I(),Q("li",null,[Y("a",{href:m.url,target:"_blank"},oe(m.label),9,WM),m.description?(I(),Q("span",JM," - "+oe(m.description),1)):Ft("",!0)]))),256))])])]),_:1})):Ft("",!0)],64)}}},QM={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const i=Im(),s=ce(()=>{var l;const p=(l=i.default)==null?void 0:l.call(i);return u(p)});function u(p){if(!p)return!0;const[l]=p;let h=l.children;return l.el!==null||h!==null}return(p,l)=>(I(),Q(Wt,null,[Ue(p.$slots,"default"),s.value?(I(),Q("span",{key:0,class:pn(t.class)},[(I(!0),Q(Wt,null,Ce(t.lines,h=>(I(),Q("span",{key:h,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"},"  "))),128))],2)):Ft("",!0)],64))}},sh=t=>(Cp("data-v-3927b18d"),t=t(),wp(),t),tE=sh(()=>Y("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),eE=sh(()=>Y("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),nE=[tE,eE],iE=sh(()=>Y("span",{class:"sr-only"},"Loading...",-1)),rE=["innerHTML"],oE={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(t){const i={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},s=t,u=Zt(null),p=Zt({}),l=Zt(void 0);Mn(()=>{h(),s.resize&&!s.fullScreen&&m()}),Xr(()=>clearInterval(l.value));const h=()=>{const x=s.target?document.querySelector(s.target):u.value.parentNode;Object.assign(p.value,s.fullScreen?i:_(x))},_=x=>{const b=x.getBoundingClientRect(),k=window.getComputedStyle(x,null),T=parseInt(k.getPropertyValue("padding-left"),10),F=parseInt(k.getPropertyValue("padding-right"),10),G=parseInt(k.getPropertyValue("padding-top"),10),X=parseInt(k.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:b.width-T-F+"px",height:b.height-G-X+"px"}},m=()=>{l.value=setInterval(h(),500)};return(x,b)=>(I(),Q("div",{ref_key:"spinnerElement",ref:u,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Oi(p.value)},[Y("div",{class:pn(["tw-spinner",`tw-spinner-${t.spinnerPosition}`])},[t.showSpinner?(I(),Q("svg",{key:0,style:Oi(t.logoSize),"aria-hidden":"true",class:pn(["text-base-lighter","animate-spin fill-primary-color",t.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nE,6)):Ft("",!0),iE,t.legend.length?(I(),Q("div",{key:1,class:pn(["text-base-content","text-center",t.legendClass]),style:Oi(t.legendStyle)},[t.showLegend?(I(),Q("span",{key:0,innerHTML:t.legend},null,8,rE)):Ft("",!0),Ue(x.$slots,"default",{},void 0,!0)],6)):Ft("",!0)],2)],4))}},sE=ge(oE,[["__scopeId","data-v-3927b18d"]]);function aE(t){lE(t,Object.assign({"/src/components/AddressMaker.global.vue":CC,"/src/components/Animation/AnimationOpacity.global.vue":MC,"/src/components/Autocomplete/Autocomplete.global.vue":r_,"/src/components/Autocomplete/AutocompleteOtu.global.vue":GC,"/src/components/Button/ButtonExpand.global.vue":$C,"/src/components/Button/VButton.global.vue":HC,"/src/components/Card/VCard.global.vue":KC,"/src/components/Card/VCardContent.global.vue":XC,"/src/components/Card/VCardHeader.global.vue":nw,"/src/components/Clipboard/VClipboard.global.vue":iw,"/src/components/Dropdown/Dropdown.global.vue":sw,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":dw,"/src/components/Gallery/GalleryImage.global.vue":vw,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":Lw,"/src/components/Icon/IconArrowDown.global.vue":Pw,"/src/components/Icon/IconArrowLeft.global.vue":Dw,"/src/components/Icon/IconArrowRight.global.vue":zw,"/src/components/Icon/IconCheck.global.vue":Zw,"/src/components/Icon/IconClipboard.global.vue":Xw,"/src/components/Icon/IconClose.global.vue":r3,"/src/components/Icon/IconDocument.global.vue":c3,"/src/components/Icon/IconDownload.global.vue":m3,"/src/components/Icon/IconGithub.global.vue":L3,"/src/components/Icon/IconHamburger.global.vue":P3,"/src/components/Icon/IconJson.global.vue":D3,"/src/components/Icon/IconMinusCircle.global.vue":z3,"/src/components/Icon/IconPlusCircle.global.vue":Z3,"/src/components/Icon/IconSearch.global.vue":X3,"/src/components/Icon/IconTrash.global.vue":rk,"/src/components/Icon/IconWarning.global.vue":ck,"/src/components/ImageViewer/ImageViewer.global.vue":zk,"/src/components/Markdown/MarkdownLayout.global.vue":Vk,"/src/components/Modal/VModal.global.vue":Zk,"/src/components/Pagination/VPagination.global.vue":oM,"/src/components/ProjectStats.global.vue":sM,"/src/components/Ssr/ClientOnly.global.vue":lM,"/src/components/Tab/TabItem.global.vue":cM,"/src/components/Tab/TabMenu.global.vue":fM,"/src/components/Table/VTable.global.vue":vM,"/src/components/Table/VTableBody.global.vue":CM,"/src/components/Table/VTableBodyCell.global.vue":EM,"/src/components/Table/VTableBodyRow.global.vue":TM,"/src/components/Table/VTableHeader.global.vue":RM,"/src/components/Table/VTableHeaderCell.global.vue":jM,"/src/components/Table/VTableHeaderRow.global.vue":VM,"/src/components/TrackerReport.global.vue":XM,"/src/components/VSkeleton.global.vue":QM,"/src/components/VSpinner.global.vue":sE}))}function lE(t,i){Object.entries(i).forEach(([u,p])=>{const l=u.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(l,p)})}const uE=window.location.origin,$d=window.initialState,{app:ah,router:cE,store:hE}=ZL({originUrl:uE});$d&&(hE.state.value=$d);pC(ah);aE(ah);cE.isReady().then(()=>{ah.mount("#app")});export{Wt as F,ge as _,Y as a,ue as b,Q as c,et as d,mg as e,_t as f,Zt as g,ce as h,Mn as i,Ue as j,St as k,Ft as l,dn as m,pE as n,I as o,yn as p,Uo as q,Ce as r,pm as s,oe as t,ee as u,ft as w};
